#! /bin/sh
# Guess values for system-dependent variables and create Makefiles.
# Generated by GNU Autoconf 2.67 for Open MPI 1.4.5.
#
# Report bugs to <http://www.open-mpi.org/community/help/>.
#
#
# Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software
# Foundation, Inc.
#
#
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi


as_nl='
'
export as_nl
# Printing a long string crashes Solaris 7 /usr/bin/printf.
as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
# Prefer a ksh shell builtin over an external printf program on Solaris,
# but without wasting forks for bash or zsh.
if test -z "$BASH_VERSION$ZSH_VERSION" \
    && (test "X`print -r -- $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='print -r --'
  as_echo_n='print -rn --'
elif (test "X`printf %s $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='printf %s\n'
  as_echo_n='printf %s'
else
  if test "X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`" = "X-n $as_echo"; then
    as_echo_body='eval /usr/ucb/echo -n "$1$as_nl"'
    as_echo_n='/usr/ucb/echo -n'
  else
    as_echo_body='eval expr "X$1" : "X\\(.*\\)"'
    as_echo_n_body='eval
      arg=$1;
      case $arg in #(
      *"$as_nl"*)
	expr "X$arg" : "X\\(.*\\)$as_nl";
	arg=`expr "X$arg" : ".*$as_nl\\(.*\\)"`;;
      esac;
      expr "X$arg" : "X\\(.*\\)" | tr -d "$as_nl"
    '
    export as_echo_n_body
    as_echo_n='sh -c $as_echo_n_body as_echo'
  fi
  export as_echo_body
  as_echo='sh -c $as_echo_body as_echo'
fi

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi


# IFS
# We need space, tab and new line, in precisely that order.  Quoting is
# there to prevent editors from complaining about space-tab.
# (If _AS_PATH_WALK were called with IFS unset, it would disable word
# splitting by setting IFS to empty value.)
IFS=" ""	$as_nl"

# Find who we are.  Look in the path if we contain no directory separator.
case $0 in #((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  $as_echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi

# Unset variables that we do not need and which cause bugs (e.g. in
# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the "|| exit 1"
# suppresses any "Segmentation fault" message there.  '((' could
# trigger a bug in pdksh 5.2.14.
for as_var in BASH_ENV ENV MAIL MAILPATH
do eval test x\${$as_var+set} = xset \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# CDPATH.
(unset CDPATH) >/dev/null 2>&1 && unset CDPATH

if test "x$CONFIG_SHELL" = x; then
  as_bourne_compatible="if test -n \"\${ZSH_VERSION+set}\" && (emulate sh) >/dev/null 2>&1; then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on \${1+\"\$@\"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '\${1+\"\$@\"}'='\"\$@\"'
  setopt NO_GLOB_SUBST
else
  case \`(set -o) 2>/dev/null\` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi
"
  as_required="as_fn_return () { (exit \$1); }
as_fn_success () { as_fn_return 0; }
as_fn_failure () { as_fn_return 1; }
as_fn_ret_success () { return 0; }
as_fn_ret_failure () { return 1; }

exitcode=0
as_fn_success || { exitcode=1; echo as_fn_success failed.; }
as_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }
as_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }
as_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }
if ( set x; as_fn_ret_success y && test x = \"\$1\" ); then :

else
  exitcode=1; echo positional parameters were not saved.
fi
test x\$exitcode = x0 || exit 1"
  as_suggested="  as_lineno_1=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_1a=\$LINENO
  as_lineno_2=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_2a=\$LINENO
  eval 'test \"x\$as_lineno_1'\$as_run'\" != \"x\$as_lineno_2'\$as_run'\" &&
  test \"x\`expr \$as_lineno_1'\$as_run' + 1\`\" = \"x\$as_lineno_2'\$as_run'\"' || exit 1
test \$(( 1 + 1 )) = 2 || exit 1"
  if (eval "$as_required") 2>/dev/null; then :
  as_have_required=yes
else
  as_have_required=no
fi
  if test x$as_have_required = xyes && (eval "$as_suggested") 2>/dev/null; then :

else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
as_found=false
for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  as_found=:
  case $as_dir in #(
	 /*)
	   for as_base in sh bash ksh sh5; do
	     # Try only shells that exist, to save several forks.
	     as_shell=$as_dir/$as_base
	     if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
		    { $as_echo "$as_bourne_compatible""$as_required" | as_run=a "$as_shell"; } 2>/dev/null; then :
  CONFIG_SHELL=$as_shell as_have_required=yes
		   if { $as_echo "$as_bourne_compatible""$as_suggested" | as_run=a "$as_shell"; } 2>/dev/null; then :
  break 2
fi
fi
	   done;;
       esac
  as_found=false
done
$as_found || { if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
	      { $as_echo "$as_bourne_compatible""$as_required" | as_run=a "$SHELL"; } 2>/dev/null; then :
  CONFIG_SHELL=$SHELL as_have_required=yes
fi; }
IFS=$as_save_IFS


      if test "x$CONFIG_SHELL" != x; then :
  # We cannot yet assume a decent shell, so we have to provide a
	# neutralization value for shells without unset; and this also
	# works around shells that cannot unset nonexistent variables.
	BASH_ENV=/dev/null
	ENV=/dev/null
	(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
	export CONFIG_SHELL
	exec "$CONFIG_SHELL" "$as_myself" ${1+"$@"}
fi

    if test x$as_have_required = xno; then :
  $as_echo "$0: This script requires a shell more modern than all"
  $as_echo "$0: the shells that I found on your system."
  if test x${ZSH_VERSION+set} = xset ; then
    $as_echo "$0: In particular, zsh $ZSH_VERSION has bugs and should"
    $as_echo "$0: be upgraded to zsh 4.3.4 or later."
  else
    $as_echo "$0: Please tell bug-autoconf@gnu.org and
$0: http://www.open-mpi.org/community/help/ about your
$0: system, including any error possibly output before this
$0: message. Then install a modern shell, or manually run
$0: the script under such a shell if you do have one."
  fi
  exit 1
fi
fi
fi
SHELL=${CONFIG_SHELL-/bin/sh}
export SHELL
# Unset more variables known to interfere with behavior of common tools.
CLICOLOR_FORCE= GREP_OPTIONS=
unset CLICOLOR_FORCE GREP_OPTIONS

## --------------------- ##
## M4sh Shell Functions. ##
## --------------------- ##
# as_fn_unset VAR
# ---------------
# Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset

# as_fn_set_status STATUS
# -----------------------
# Set $? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} # as_fn_set_status

# as_fn_exit STATUS
# -----------------
# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} # as_fn_exit

# as_fn_mkdir_p
# -------------
# Create "$as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`$as_echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"


} # as_fn_mkdir_p
# as_fn_append VAR VALUE
# ----------------------
# Append the text in VALUE to the end of the definition contained in VAR. Take
# advantage of any shell optimizations that allow amortized linear growth over
# repeated appends, instead of the typical quadratic growth present in naive
# implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null; then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

# as_fn_arith ARG...
# ------------------
# Perform arithmetic evaluation on the ARGs, and store the result in the
# global $as_val. Take advantage of shells that can avoid forks. The arguments
# must be portable across $(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null; then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else
  as_fn_arith ()
  {
    as_val=`expr "$@" || test $? -eq 1`
  }
fi # as_fn_arith


# as_fn_error STATUS ERROR [LINENO LOG_FD]
# ----------------------------------------
# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
# script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  $as_echo "$as_me: error: $2" >&2
  as_fn_exit $as_status
} # as_fn_error

if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits


  as_lineno_1=$LINENO as_lineno_1a=$LINENO
  as_lineno_2=$LINENO as_lineno_2a=$LINENO
  eval 'test "x$as_lineno_1'$as_run'" != "x$as_lineno_2'$as_run'" &&
  test "x`expr $as_lineno_1'$as_run' + 1`" = "x$as_lineno_2'$as_run'"' || {
  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)
  sed -n '
    p
    /[$]LINENO/=
  ' <$as_myself |
    sed '
      s/[$]LINENO.*/&-/
      t lineno
      b
      :lineno
      N
      :loop
      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
      t loop
      s/-\n.*//
    ' >$as_me.lineno &&
  chmod +x "$as_me.lineno" ||
    { $as_echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2; as_fn_exit 1; }

  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensitive to this).
  . "./$as_me.lineno"
  # Exit status is that of the last command.
  exit
}

ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in #(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
    as_ln_s='ln -s'
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -p'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -p'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -p'
  fi
else
  as_ln_s='cp -p'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null

if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi

if test -x / >/dev/null 2>&1; then
  as_test_x='test -x'
else
  if ls -dL / >/dev/null 2>&1; then
    as_ls_L_option=L
  else
    as_ls_L_option=
  fi
  as_test_x='
    eval sh -c '\''
      if test -d "$1"; then
	test -d "$1/.";
      else
	case $1 in #(
	-*)set "./$1";;
	esac;
	case `ls -ld'$as_ls_L_option' "$1" 2>/dev/null` in #((
	???[sx]*):;;*)false;;esac;fi
    '\'' sh
  '
fi
as_executable_p=$as_test_x

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


lt_ltdl_dir='opal/libltdl'


# Check that we are running under the correct shell.
SHELL=${CONFIG_SHELL-/bin/sh}

case X$lt_ECHO in
X*--fallback-echo)
  # Remove one level of quotation (which was required for Make).
  ECHO=`echo "$lt_ECHO" | sed 's,\\\\\$\\$0,'$0','`
  ;;
esac

ECHO=${lt_ECHO-echo}
if test "X$1" = X--no-reexec; then
  # Discard the --no-reexec flag, and continue.
  shift
elif test "X$1" = X--fallback-echo; then
  # Avoid inline document here, it may be left over
  :
elif test "X`{ $ECHO '\t'; } 2>/dev/null`" = 'X\t' ; then
  # Yippee, $ECHO works!
  :
else
  # Restart under the correct shell.
  exec $SHELL "$0" --no-reexec ${1+"$@"}
fi

if test "X$1" = X--fallback-echo; then
  # used as fallback echo
  shift
  cat <<_LT_EOF
$*
_LT_EOF
  exit 0
fi

# The HP-UX ksh and POSIX shell print the target directory to stdout
# if CDPATH is set.
(unset CDPATH) >/dev/null 2>&1 && unset CDPATH

if test -z "$lt_ECHO"; then
  if test "X${echo_test_string+set}" != Xset; then
    # find a string as large as possible, as long as the shell can cope with it
    for cmd in 'sed 50q "$0"' 'sed 20q "$0"' 'sed 10q "$0"' 'sed 2q "$0"' 'echo test'; do
      # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
      if { echo_test_string=`eval $cmd`; } 2>/dev/null &&
	 { test "X$echo_test_string" = "X$echo_test_string"; } 2>/dev/null
      then
        break
      fi
    done
  fi

  if test "X`{ $ECHO '\t'; } 2>/dev/null`" = 'X\t' &&
     echo_testing_string=`{ $ECHO "$echo_test_string"; } 2>/dev/null` &&
     test "X$echo_testing_string" = "X$echo_test_string"; then
    :
  else
    # The Solaris, AIX, and Digital Unix default echo programs unquote
    # backslashes.  This makes it impossible to quote backslashes using
    #   echo "$something" | sed 's/\\/\\\\/g'
    #
    # So, first we look for a working echo in the user's PATH.

    lt_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
    for dir in $PATH /usr/ucb; do
      IFS="$lt_save_ifs"
      if (test -f $dir/echo || test -f $dir/echo$ac_exeext) &&
         test "X`($dir/echo '\t') 2>/dev/null`" = 'X\t' &&
         echo_testing_string=`($dir/echo "$echo_test_string") 2>/dev/null` &&
         test "X$echo_testing_string" = "X$echo_test_string"; then
        ECHO="$dir/echo"
        break
      fi
    done
    IFS="$lt_save_ifs"

    if test "X$ECHO" = Xecho; then
      # We didn't find a better echo, so look for alternatives.
      if test "X`{ print -r '\t'; } 2>/dev/null`" = 'X\t' &&
         echo_testing_string=`{ print -r "$echo_test_string"; } 2>/dev/null` &&
         test "X$echo_testing_string" = "X$echo_test_string"; then
        # This shell has a builtin print -r that does the trick.
        ECHO='print -r'
      elif { test -f /bin/ksh || test -f /bin/ksh$ac_exeext; } &&
	   test "X$CONFIG_SHELL" != X/bin/ksh; then
        # If we have ksh, try running configure again with it.
        ORIGINAL_CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
        export ORIGINAL_CONFIG_SHELL
        CONFIG_SHELL=/bin/ksh
        export CONFIG_SHELL
        exec $CONFIG_SHELL "$0" --no-reexec ${1+"$@"}
      else
        # Try using printf.
        ECHO='printf %s\n'
        if test "X`{ $ECHO '\t'; } 2>/dev/null`" = 'X\t' &&
	   echo_testing_string=`{ $ECHO "$echo_test_string"; } 2>/dev/null` &&
	   test "X$echo_testing_string" = "X$echo_test_string"; then
	  # Cool, printf works
	  :
        elif echo_testing_string=`($ORIGINAL_CONFIG_SHELL "$0" --fallback-echo '\t') 2>/dev/null` &&
	     test "X$echo_testing_string" = 'X\t' &&
	     echo_testing_string=`($ORIGINAL_CONFIG_SHELL "$0" --fallback-echo "$echo_test_string") 2>/dev/null` &&
	     test "X$echo_testing_string" = "X$echo_test_string"; then
	  CONFIG_SHELL=$ORIGINAL_CONFIG_SHELL
	  export CONFIG_SHELL
	  SHELL="$CONFIG_SHELL"
	  export SHELL
	  ECHO="$CONFIG_SHELL $0 --fallback-echo"
        elif echo_testing_string=`($CONFIG_SHELL "$0" --fallback-echo '\t') 2>/dev/null` &&
	     test "X$echo_testing_string" = 'X\t' &&
	     echo_testing_string=`($CONFIG_SHELL "$0" --fallback-echo "$echo_test_string") 2>/dev/null` &&
	     test "X$echo_testing_string" = "X$echo_test_string"; then
	  ECHO="$CONFIG_SHELL $0 --fallback-echo"
        else
	  # maybe with a smaller string...
	  prev=:

	  for cmd in 'echo test' 'sed 2q "$0"' 'sed 10q "$0"' 'sed 20q "$0"' 'sed 50q "$0"'; do
	    if { test "X$echo_test_string" = "X`eval $cmd`"; } 2>/dev/null
	    then
	      break
	    fi
	    prev="$cmd"
	  done

	  if test "$prev" != 'sed 50q "$0"'; then
	    echo_test_string=`eval $prev`
	    export echo_test_string
	    exec ${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/bin/sh}} "$0" ${1+"$@"}
	  else
	    # Oops.  We lost completely, so just stick with echo.
	    ECHO=echo
	  fi
        fi
      fi
    fi
  fi
fi

# Copy echo and quote the copy suitably for passing to libtool from
# the Makefile, instead of quoting the original, which is used later.
lt_ECHO=$ECHO
if test "X$lt_ECHO" = "X$CONFIG_SHELL $0 --fallback-echo"; then
   lt_ECHO="$CONFIG_SHELL \\\$\$0 --fallback-echo"
fi




test -n "$DJDIR" || exec 7<&0 </dev/null
exec 6>&1

# Name of the host.
# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,
# so uname gets run too.
ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`

#
# Initializations.
#
ac_default_prefix=/usr/local
ac_clean_files=
ac_config_libobj_dir=.
LIBOBJS=
cross_compiling=no
subdirs=
MFLAGS=
MAKEFLAGS=

# Identity of this package.
PACKAGE_NAME='Open MPI'
PACKAGE_TARNAME='openmpi'
PACKAGE_VERSION='1.4.5'
PACKAGE_STRING='Open MPI 1.4.5'
PACKAGE_BUGREPORT='http://www.open-mpi.org/community/help/'
PACKAGE_URL=''

# Factoring default headers for most tests.
ac_includes_default="\
#include <stdio.h>
#ifdef HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
#ifdef HAVE_SYS_STAT_H
# include <sys/stat.h>
#endif
#ifdef STDC_HEADERS
# include <stdlib.h>
# include <stddef.h>
#else
# ifdef HAVE_STDLIB_H
#  include <stdlib.h>
# endif
#endif
#ifdef HAVE_STRING_H
# if !defined STDC_HEADERS && defined HAVE_MEMORY_H
#  include <memory.h>
# endif
# include <string.h>
#endif
#ifdef HAVE_STRINGS_H
# include <strings.h>
#endif
#ifdef HAVE_INTTYPES_H
# include <inttypes.h>
#endif
#ifdef HAVE_STDINT_H
# include <stdint.h>
#endif
#ifdef HAVE_UNISTD_H
# include <unistd.h>
#endif"

ac_subst_vars='am__EXEEXT_FALSE
am__EXEEXT_TRUE
LTLIBOBJS
LIBOBJS
WRAPPER_EXTRA_LIBS
WRAPPER_EXTRA_LDFLAGS
WRAPPER_EXTRA_FCFLAGS
WRAPPER_EXTRA_FFLAGS
WRAPPER_EXTRA_CXXFLAGS
WRAPPER_EXTRA_CFLAGS
OMPI_WRAPPER_LIBDIR
OMPI_WRAPPER_INCLUDEDIR
OMPI_WRAPPER_F90_REQUIRED_FILE
OMPI_WRAPPER_F77_REQUIRED_FILE
OMPI_WRAPPER_CXX_REQUIRED_FILE
OMPI_WRAPPER_CXX_LIB
OMPI_WRAPPER_EXTRA_INCLUDES
OMPI_WRAPPER_EXTRA_LIBS
OMPI_WRAPPER_EXTRA_LDFLAGS
OMPI_WRAPPER_EXTRA_FCFLAGS
OMPI_WRAPPER_EXTRA_FFLAGS
OMPI_WRAPPER_EXTRA_CXXFLAGS
OMPI_WRAPPER_EXTRA_CFLAGS
OMPI_WRAPPER_EXTRA_CPPFLAGS
ORTE_WRAPPER_EXTRA_INCLUDES
ORTE_WRAPPER_EXTRA_LIBS
ORTE_WRAPPER_EXTRA_LDFLAGS
ORTE_WRAPPER_EXTRA_CXXFLAGS
ORTE_WRAPPER_EXTRA_CFLAGS
ORTE_WRAPPER_EXTRA_CPPFLAGS
OPAL_WRAPPER_EXTRA_INCLUDES
OPAL_WRAPPER_EXTRA_LIBS
OPAL_WRAPPER_EXTRA_LDFLAGS
OPAL_WRAPPER_EXTRA_CXXFLAGS
OPAL_WRAPPER_EXTRA_CFLAGS
OPAL_WRAPPER_EXTRA_CPPFLAGS
AMCA_PARAM_SETS_DIR
OMPI_LIBMPI_EXTRA_LDFLAGS
OMPI_LIBMPI_EXTRA_LIBS
CXXCPPFLAGS
TOTALVIEW_DEBUG_FLAGS
CFLAGS_WITHOUT_OPTFLAGS
LIBLTDL_SUBDIR
OTOOL64
OTOOL
LIPO
NMEDIT
DSYMUTIL
lt_ECHO
RANLIB
AR
LD
SED
LIBTOOL
DLLTOOL
AS
INCLTDL
LTDLINCL
LTDLDEPS
LIBLTDL
OMPI_LIBEVENT_SOURCES
OMPI_CONTRIB_DIST_SUBDIRS
OMPI_CONTRIB_SUBDIRS
MCA_PROJECT_SUBDIRS
MCA_mtl_DIRECT_CALL_HEADER
MCA_pml_DIRECT_CALL_HEADER
MCA_ompi_FRAMEWORK_LIBS
MCA_ompi_FRAMEWORK_COMPONENT_STATIC_SUBDIRS
MCA_ompi_FRAMEWORK_COMPONENT_DSO_SUBDIRS
MCA_ompi_FRAMEWORK_COMPONENT_ALL_SUBDIRS
MCA_ompi_FRAMEWORKS_SUBDIRS
MCA_ompi_FRAMEWORKS
MCA_topo_DSO_SUBDIRS
MCA_topo_STATIC_SUBDIRS
MCA_topo_ALL_SUBDIRS
MCA_topo_STATIC_LTLIBS
MCA_topo_DSO_COMPONENTS
MCA_topo_STATIC_COMPONENTS
MCA_topo_ALL_COMPONENTS
OMPI_BUILD_topo_unity_DSO_FALSE
OMPI_BUILD_topo_unity_DSO_TRUE
MCA_rcache_DSO_SUBDIRS
MCA_rcache_STATIC_SUBDIRS
MCA_rcache_ALL_SUBDIRS
MCA_rcache_STATIC_LTLIBS
MCA_rcache_DSO_COMPONENTS
MCA_rcache_STATIC_COMPONENTS
MCA_rcache_ALL_COMPONENTS
OMPI_BUILD_rcache_vma_DSO_FALSE
OMPI_BUILD_rcache_vma_DSO_TRUE
MCA_pubsub_DSO_SUBDIRS
MCA_pubsub_STATIC_SUBDIRS
MCA_pubsub_ALL_SUBDIRS
MCA_pubsub_STATIC_LTLIBS
MCA_pubsub_DSO_COMPONENTS
MCA_pubsub_STATIC_COMPONENTS
MCA_pubsub_ALL_COMPONENTS
OMPI_BUILD_pubsub_orte_DSO_FALSE
OMPI_BUILD_pubsub_orte_DSO_TRUE
MCA_pml_DSO_SUBDIRS
MCA_pml_STATIC_SUBDIRS
MCA_pml_ALL_SUBDIRS
MCA_pml_STATIC_LTLIBS
MCA_pml_DSO_COMPONENTS
MCA_pml_STATIC_COMPONENTS
MCA_pml_ALL_COMPONENTS
OMPI_BUILD_pml_v_DSO_FALSE
OMPI_BUILD_pml_v_DSO_TRUE
MCA_vprotocol_DSO_SUBDIRS
MCA_vprotocol_STATIC_SUBDIRS
MCA_vprotocol_ALL_SUBDIRS
MCA_vprotocol_STATIC_LTLIBS
MCA_vprotocol_DSO_COMPONENTS
MCA_vprotocol_STATIC_COMPONENTS
MCA_vprotocol_ALL_COMPONENTS
OMPI_BUILD_vprotocol_pessimist_DSO_FALSE
OMPI_BUILD_vprotocol_pessimist_DSO_TRUE
OMPI_BUILD_pml_crcpw_DSO_FALSE
OMPI_BUILD_pml_crcpw_DSO_TRUE
OMPI_BUILD_pml_ob1_DSO_FALSE
OMPI_BUILD_pml_ob1_DSO_TRUE
OMPI_BUILD_pml_csum_DSO_FALSE
OMPI_BUILD_pml_csum_DSO_TRUE
OMPI_BUILD_pml_cm_DSO_FALSE
OMPI_BUILD_pml_cm_DSO_TRUE
MCA_osc_DSO_SUBDIRS
MCA_osc_STATIC_SUBDIRS
MCA_osc_ALL_SUBDIRS
MCA_osc_STATIC_LTLIBS
MCA_osc_DSO_COMPONENTS
MCA_osc_STATIC_COMPONENTS
MCA_osc_ALL_COMPONENTS
OMPI_BUILD_osc_rdma_DSO_FALSE
OMPI_BUILD_osc_rdma_DSO_TRUE
OMPI_BUILD_osc_pt2pt_DSO_FALSE
OMPI_BUILD_osc_pt2pt_DSO_TRUE
MCA_mtl_DSO_SUBDIRS
MCA_mtl_STATIC_SUBDIRS
MCA_mtl_ALL_SUBDIRS
MCA_mtl_STATIC_LTLIBS
MCA_mtl_DSO_COMPONENTS
MCA_mtl_STATIC_COMPONENTS
MCA_mtl_ALL_COMPONENTS
OMPI_BUILD_mtl_psm_DSO_FALSE
OMPI_BUILD_mtl_psm_DSO_TRUE
mtl_psm_LIBS
mtl_psm_LDFLAGS
mtl_psm_CPPFLAGS
mtl_psm_CFLAGS
OMPI_BUILD_mtl_portals_DSO_FALSE
OMPI_BUILD_mtl_portals_DSO_TRUE
mtl_portals_LIBS
mtl_portals_LDFLAGS
mtl_portals_CPPFLAGS
OMPI_BUILD_mtl_mx_DSO_FALSE
OMPI_BUILD_mtl_mx_DSO_TRUE
mtl_mx_LIBS
mtl_mx_LDFLAGS
mtl_mx_CPPFLAGS
mtl_mx_CFLAGS
MCA_mpool_DSO_SUBDIRS
MCA_mpool_STATIC_SUBDIRS
MCA_mpool_ALL_SUBDIRS
MCA_mpool_STATIC_LTLIBS
MCA_mpool_DSO_COMPONENTS
MCA_mpool_STATIC_COMPONENTS
MCA_mpool_ALL_COMPONENTS
OMPI_BUILD_mpool_sm_DSO_FALSE
OMPI_BUILD_mpool_sm_DSO_TRUE
OMPI_BUILD_mpool_rdma_DSO_FALSE
OMPI_BUILD_mpool_rdma_DSO_TRUE
OMPI_BUILD_mpool_fake_DSO_FALSE
OMPI_BUILD_mpool_fake_DSO_TRUE
OMPI_MPIF_MPI_IO_INCLUDE
OMPI_PROVIDE_MPI_FILE_INTERFACE_FALSE
OMPI_PROVIDE_MPI_FILE_INTERFACE_TRUE
MCA_io_DSO_SUBDIRS
MCA_io_STATIC_SUBDIRS
MCA_io_ALL_SUBDIRS
MCA_io_STATIC_LTLIBS
MCA_io_DSO_COMPONENTS
MCA_io_STATIC_COMPONENTS
MCA_io_ALL_COMPONENTS
OMPI_BUILD_io_romio_DSO_FALSE
OMPI_BUILD_io_romio_DSO_TRUE
MCA_io_romio_SHOULD_BUILD_FALSE
MCA_io_romio_SHOULD_BUILD_TRUE
MCA_dpm_DSO_SUBDIRS
MCA_dpm_STATIC_SUBDIRS
MCA_dpm_ALL_SUBDIRS
MCA_dpm_STATIC_LTLIBS
MCA_dpm_DSO_COMPONENTS
MCA_dpm_STATIC_COMPONENTS
MCA_dpm_ALL_COMPONENTS
OMPI_BUILD_dpm_orte_DSO_FALSE
OMPI_BUILD_dpm_orte_DSO_TRUE
MCA_crcp_DSO_SUBDIRS
MCA_crcp_STATIC_SUBDIRS
MCA_crcp_ALL_SUBDIRS
MCA_crcp_STATIC_LTLIBS
MCA_crcp_DSO_COMPONENTS
MCA_crcp_STATIC_COMPONENTS
MCA_crcp_ALL_COMPONENTS
OMPI_BUILD_crcp_bkmrk_DSO_FALSE
OMPI_BUILD_crcp_bkmrk_DSO_TRUE
MCA_common_DSO_SUBDIRS
MCA_common_STATIC_SUBDIRS
MCA_common_ALL_SUBDIRS
MCA_common_STATIC_LTLIBS
MCA_common_DSO_COMPONENTS
MCA_common_STATIC_COMPONENTS
MCA_common_ALL_COMPONENTS
OMPI_BUILD_common_portals_DSO_FALSE
OMPI_BUILD_common_portals_DSO_TRUE
common_portals_LIBS
common_portals_LDFLAGS
common_portals_CPPFLAGS
OMPI_BUILD_common_mx_DSO_FALSE
OMPI_BUILD_common_mx_DSO_TRUE
common_mx_LIBS
common_mx_LDFLAGS
common_mx_CPPFLAGS
common_mx_CFLAGS
OMPI_BUILD_common_sm_DSO_FALSE
OMPI_BUILD_common_sm_DSO_TRUE
MCA_coll_DSO_SUBDIRS
MCA_coll_STATIC_SUBDIRS
MCA_coll_ALL_SUBDIRS
MCA_coll_STATIC_LTLIBS
MCA_coll_DSO_COMPONENTS
MCA_coll_STATIC_COMPONENTS
MCA_coll_ALL_COMPONENTS
OMPI_BUILD_coll_tuned_DSO_FALSE
OMPI_BUILD_coll_tuned_DSO_TRUE
OMPI_BUILD_coll_sync_DSO_FALSE
OMPI_BUILD_coll_sync_DSO_TRUE
OMPI_BUILD_coll_sm_DSO_FALSE
OMPI_BUILD_coll_sm_DSO_TRUE
OMPI_BUILD_coll_self_DSO_FALSE
OMPI_BUILD_coll_self_DSO_TRUE
OMPI_BUILD_coll_inter_DSO_FALSE
OMPI_BUILD_coll_inter_DSO_TRUE
OMPI_BUILD_coll_hierarch_DSO_FALSE
OMPI_BUILD_coll_hierarch_DSO_TRUE
OMPI_BUILD_coll_basic_DSO_FALSE
OMPI_BUILD_coll_basic_DSO_TRUE
MCA_btl_DSO_SUBDIRS
MCA_btl_STATIC_SUBDIRS
MCA_btl_ALL_SUBDIRS
MCA_btl_STATIC_LTLIBS
MCA_btl_DSO_COMPONENTS
MCA_btl_STATIC_COMPONENTS
MCA_btl_ALL_COMPONENTS
OMPI_BUILD_btl_udapl_DSO_FALSE
OMPI_BUILD_btl_udapl_DSO_TRUE
btl_udapl_LIBS
btl_udapl_LDFLAGS
btl_udapl_CPPFLAGS
btl_udapl_CFLAGS
OMPI_BUILD_btl_tcp_DSO_FALSE
OMPI_BUILD_btl_tcp_DSO_TRUE
OMPI_BUILD_btl_portals_DSO_FALSE
OMPI_BUILD_btl_portals_DSO_TRUE
btl_portals_LIBS
btl_portals_LDFLAGS
btl_portals_CPPFLAGS
OMPI_BUILD_btl_openib_DSO_FALSE
OMPI_BUILD_btl_openib_DSO_TRUE
MCA_btl_openib_have_ibcm_FALSE
MCA_btl_openib_have_ibcm_TRUE
MCA_btl_openib_have_rdmacm_FALSE
MCA_btl_openib_have_rdmacm_TRUE
MCA_btl_openib_have_xrc_FALSE
MCA_btl_openib_have_xrc_TRUE
btl_openib_LIBS
btl_openib_LDFLAGS
btl_openib_CPPFLAGS
btl_openib_CFLAGS
OMPI_BUILD_btl_ofud_DSO_FALSE
OMPI_BUILD_btl_ofud_DSO_TRUE
btl_ofud_LIBS
btl_ofud_LDFLAGS
btl_ofud_CPPFLAGS
btl_ofud_CFLAGS
OMPI_BUILD_btl_mx_DSO_FALSE
OMPI_BUILD_btl_mx_DSO_TRUE
btl_mx_LIBS
btl_mx_LDFLAGS
btl_mx_CPPFLAGS
btl_mx_CFLAGS
OMPI_BUILD_btl_gm_DSO_FALSE
OMPI_BUILD_btl_gm_DSO_TRUE
btl_gm_LIBS
btl_gm_LDFLAGS
btl_gm_CPPFLAGS
btl_gm_CFLAGS
OMPI_BUILD_btl_elan_DSO_FALSE
OMPI_BUILD_btl_elan_DSO_TRUE
btl_elan_LIBS
btl_elan_LDFLAGS
btl_elan_CPPFLAGS
btl_elan_CFLAGS
OMPI_BUILD_btl_sm_DSO_FALSE
OMPI_BUILD_btl_sm_DSO_TRUE
OMPI_BUILD_btl_self_DSO_FALSE
OMPI_BUILD_btl_self_DSO_TRUE
MCA_bml_DSO_SUBDIRS
MCA_bml_STATIC_SUBDIRS
MCA_bml_ALL_SUBDIRS
MCA_bml_STATIC_LTLIBS
MCA_bml_DSO_COMPONENTS
MCA_bml_STATIC_COMPONENTS
MCA_bml_ALL_COMPONENTS
OMPI_BUILD_bml_r2_DSO_FALSE
OMPI_BUILD_bml_r2_DSO_TRUE
MCA_allocator_DSO_SUBDIRS
MCA_allocator_STATIC_SUBDIRS
MCA_allocator_ALL_SUBDIRS
MCA_allocator_STATIC_LTLIBS
MCA_allocator_DSO_COMPONENTS
MCA_allocator_STATIC_COMPONENTS
MCA_allocator_ALL_COMPONENTS
OMPI_BUILD_allocator_bucket_DSO_FALSE
OMPI_BUILD_allocator_bucket_DSO_TRUE
OMPI_BUILD_allocator_basic_DSO_FALSE
OMPI_BUILD_allocator_basic_DSO_TRUE
MCA_orte_FRAMEWORK_LIBS
MCA_orte_FRAMEWORK_COMPONENT_STATIC_SUBDIRS
MCA_orte_FRAMEWORK_COMPONENT_DSO_SUBDIRS
MCA_orte_FRAMEWORK_COMPONENT_ALL_SUBDIRS
MCA_orte_FRAMEWORKS_SUBDIRS
MCA_orte_FRAMEWORKS
MCA_snapc_DSO_SUBDIRS
MCA_snapc_STATIC_SUBDIRS
MCA_snapc_ALL_SUBDIRS
MCA_snapc_STATIC_LTLIBS
MCA_snapc_DSO_COMPONENTS
MCA_snapc_STATIC_COMPONENTS
MCA_snapc_ALL_COMPONENTS
OMPI_BUILD_snapc_full_DSO_FALSE
OMPI_BUILD_snapc_full_DSO_TRUE
MCA_routed_DSO_SUBDIRS
MCA_routed_STATIC_SUBDIRS
MCA_routed_ALL_SUBDIRS
MCA_routed_STATIC_LTLIBS
MCA_routed_DSO_COMPONENTS
MCA_routed_STATIC_COMPONENTS
MCA_routed_ALL_COMPONENTS
OMPI_BUILD_routed_linear_DSO_FALSE
OMPI_BUILD_routed_linear_DSO_TRUE
OMPI_BUILD_routed_direct_DSO_FALSE
OMPI_BUILD_routed_direct_DSO_TRUE
OMPI_BUILD_routed_binomial_DSO_FALSE
OMPI_BUILD_routed_binomial_DSO_TRUE
MCA_rml_DSO_SUBDIRS
MCA_rml_STATIC_SUBDIRS
MCA_rml_ALL_SUBDIRS
MCA_rml_STATIC_LTLIBS
MCA_rml_DSO_COMPONENTS
MCA_rml_STATIC_COMPONENTS
MCA_rml_ALL_COMPONENTS
OMPI_BUILD_rml_ftrm_DSO_FALSE
OMPI_BUILD_rml_ftrm_DSO_TRUE
OMPI_BUILD_rml_oob_DSO_FALSE
OMPI_BUILD_rml_oob_DSO_TRUE
MCA_rmaps_DSO_SUBDIRS
MCA_rmaps_STATIC_SUBDIRS
MCA_rmaps_ALL_SUBDIRS
MCA_rmaps_STATIC_LTLIBS
MCA_rmaps_DSO_COMPONENTS
MCA_rmaps_STATIC_COMPONENTS
MCA_rmaps_ALL_COMPONENTS
OMPI_BUILD_rmaps_seq_DSO_FALSE
OMPI_BUILD_rmaps_seq_DSO_TRUE
OMPI_BUILD_rmaps_round_robin_DSO_FALSE
OMPI_BUILD_rmaps_round_robin_DSO_TRUE
OMPI_BUILD_rmaps_rank_file_DSO_FALSE
OMPI_BUILD_rmaps_rank_file_DSO_TRUE
OMPI_BUILD_rmaps_load_balance_DSO_FALSE
OMPI_BUILD_rmaps_load_balance_DSO_TRUE
MCA_ras_DSO_SUBDIRS
MCA_ras_STATIC_SUBDIRS
MCA_ras_ALL_SUBDIRS
MCA_ras_STATIC_LTLIBS
MCA_ras_DSO_COMPONENTS
MCA_ras_STATIC_COMPONENTS
MCA_ras_ALL_COMPONENTS
OMPI_BUILD_ras_tm_DSO_FALSE
OMPI_BUILD_ras_tm_DSO_TRUE
ras_tm_LIBS
ras_tm_LDFLAGS
ras_tm_CPPFLAGS
OMPI_BUILD_ras_slurm_DSO_FALSE
OMPI_BUILD_ras_slurm_DSO_TRUE
ras_slurm_LIBS
ras_slurm_LDFLAGS
ras_slurm_CPPFLAGS
OMPI_BUILD_ras_lsf_DSO_FALSE
OMPI_BUILD_ras_lsf_DSO_TRUE
ras_lsf_LIBS
ras_lsf_LDFLAGS
ras_lsf_CPPFLAGS
OMPI_BUILD_ras_loadleveler_DSO_FALSE
OMPI_BUILD_ras_loadleveler_DSO_TRUE
ras_loadleveler_LIBS
ras_loadleveler_LDFLAGS
ras_loadleveler_CPPFLAGS
OMPI_BUILD_ras_gridengine_DSO_FALSE
OMPI_BUILD_ras_gridengine_DSO_TRUE
QRSH
OMPI_BUILD_ras_ccp_DSO_FALSE
OMPI_BUILD_ras_ccp_DSO_TRUE
OMPI_BUILD_ras_alps_DSO_FALSE
OMPI_BUILD_ras_alps_DSO_TRUE
MCA_plm_DSO_SUBDIRS
MCA_plm_STATIC_SUBDIRS
MCA_plm_ALL_SUBDIRS
MCA_plm_STATIC_LTLIBS
MCA_plm_DSO_COMPONENTS
MCA_plm_STATIC_COMPONENTS
MCA_plm_ALL_COMPONENTS
OMPI_BUILD_plm_tm_DSO_FALSE
OMPI_BUILD_plm_tm_DSO_TRUE
plm_tm_LIBS
plm_tm_LDFLAGS
plm_tm_CPPFLAGS
OMPI_BUILD_plm_slurm_DSO_FALSE
OMPI_BUILD_plm_slurm_DSO_TRUE
plm_slurm_LIBS
plm_slurm_LDFLAGS
plm_slurm_CPPFLAGS
OMPI_BUILD_plm_rsh_DSO_FALSE
OMPI_BUILD_plm_rsh_DSO_TRUE
OMPI_BUILD_plm_process_DSO_FALSE
OMPI_BUILD_plm_process_DSO_TRUE
OMPI_BUILD_plm_lsf_DSO_FALSE
OMPI_BUILD_plm_lsf_DSO_TRUE
plm_lsf_LIBS
plm_lsf_LDFLAGS
plm_lsf_CPPFLAGS
OMPI_BUILD_plm_ccp_DSO_FALSE
OMPI_BUILD_plm_ccp_DSO_TRUE
OMPI_BUILD_plm_alps_DSO_FALSE
OMPI_BUILD_plm_alps_DSO_TRUE
MCA_oob_DSO_SUBDIRS
MCA_oob_STATIC_SUBDIRS
MCA_oob_ALL_SUBDIRS
MCA_oob_STATIC_LTLIBS
MCA_oob_DSO_COMPONENTS
MCA_oob_STATIC_COMPONENTS
MCA_oob_ALL_COMPONENTS
OMPI_BUILD_oob_tcp_DSO_FALSE
OMPI_BUILD_oob_tcp_DSO_TRUE
MCA_odls_DSO_SUBDIRS
MCA_odls_STATIC_SUBDIRS
MCA_odls_ALL_SUBDIRS
MCA_odls_STATIC_LTLIBS
MCA_odls_DSO_COMPONENTS
MCA_odls_STATIC_COMPONENTS
MCA_odls_ALL_COMPONENTS
OMPI_BUILD_odls_process_DSO_FALSE
OMPI_BUILD_odls_process_DSO_TRUE
OMPI_BUILD_odls_default_DSO_FALSE
OMPI_BUILD_odls_default_DSO_TRUE
MCA_notifier_DSO_SUBDIRS
MCA_notifier_STATIC_SUBDIRS
MCA_notifier_ALL_SUBDIRS
MCA_notifier_STATIC_LTLIBS
MCA_notifier_DSO_COMPONENTS
MCA_notifier_STATIC_COMPONENTS
MCA_notifier_ALL_COMPONENTS
OMPI_BUILD_notifier_syslog_DSO_FALSE
OMPI_BUILD_notifier_syslog_DSO_TRUE
MCA_iof_DSO_SUBDIRS
MCA_iof_STATIC_SUBDIRS
MCA_iof_ALL_SUBDIRS
MCA_iof_STATIC_LTLIBS
MCA_iof_DSO_COMPONENTS
MCA_iof_STATIC_COMPONENTS
MCA_iof_ALL_COMPONENTS
OMPI_BUILD_iof_tool_DSO_FALSE
OMPI_BUILD_iof_tool_DSO_TRUE
OMPI_BUILD_iof_orted_DSO_FALSE
OMPI_BUILD_iof_orted_DSO_TRUE
OMPI_BUILD_iof_hnp_DSO_FALSE
OMPI_BUILD_iof_hnp_DSO_TRUE
MCA_grpcomm_DSO_SUBDIRS
MCA_grpcomm_STATIC_SUBDIRS
MCA_grpcomm_ALL_SUBDIRS
MCA_grpcomm_STATIC_LTLIBS
MCA_grpcomm_DSO_COMPONENTS
MCA_grpcomm_STATIC_COMPONENTS
MCA_grpcomm_ALL_COMPONENTS
OMPI_BUILD_grpcomm_basic_DSO_FALSE
OMPI_BUILD_grpcomm_basic_DSO_TRUE
OMPI_BUILD_grpcomm_bad_DSO_FALSE
OMPI_BUILD_grpcomm_bad_DSO_TRUE
OMPI_BUILD_grpcomm_cnos_DSO_FALSE
OMPI_BUILD_grpcomm_cnos_DSO_TRUE
MCA_filem_DSO_SUBDIRS
MCA_filem_STATIC_SUBDIRS
MCA_filem_ALL_SUBDIRS
MCA_filem_STATIC_LTLIBS
MCA_filem_DSO_COMPONENTS
MCA_filem_STATIC_COMPONENTS
MCA_filem_ALL_COMPONENTS
OMPI_BUILD_filem_rsh_DSO_FALSE
OMPI_BUILD_filem_rsh_DSO_TRUE
MCA_ess_DSO_SUBDIRS
MCA_ess_STATIC_SUBDIRS
MCA_ess_ALL_SUBDIRS
MCA_ess_STATIC_LTLIBS
MCA_ess_DSO_COMPONENTS
MCA_ess_STATIC_COMPONENTS
MCA_ess_ALL_COMPONENTS
OMPI_BUILD_ess_tool_DSO_FALSE
OMPI_BUILD_ess_tool_DSO_TRUE
OMPI_BUILD_ess_slurm_DSO_FALSE
OMPI_BUILD_ess_slurm_DSO_TRUE
ess_slurm_LIBS
ess_slurm_LDFLAGS
ess_slurm_CPPFLAGS
OMPI_BUILD_ess_singleton_DSO_FALSE
OMPI_BUILD_ess_singleton_DSO_TRUE
OMPI_BUILD_ess_lsf_DSO_FALSE
OMPI_BUILD_ess_lsf_DSO_TRUE
ess_lsf_LIBS
ess_lsf_LDFLAGS
ess_lsf_CPPFLAGS
OMPI_BUILD_ess_hnp_DSO_FALSE
OMPI_BUILD_ess_hnp_DSO_TRUE
OMPI_BUILD_ess_env_DSO_FALSE
OMPI_BUILD_ess_env_DSO_TRUE
OMPI_BUILD_ess_alps_DSO_FALSE
OMPI_BUILD_ess_alps_DSO_TRUE
OMPI_BUILD_ess_cnos_DSO_FALSE
OMPI_BUILD_ess_cnos_DSO_TRUE
OMPI_BUILD_ess_portals_utcp_DSO_FALSE
OMPI_BUILD_ess_portals_utcp_DSO_TRUE
ess_portals_utcp_LIBS
ess_portals_utcp_LDFLAGS
ess_portals_utcp_CPPFLAGS
MCA_errmgr_DSO_SUBDIRS
MCA_errmgr_STATIC_SUBDIRS
MCA_errmgr_ALL_SUBDIRS
MCA_errmgr_STATIC_LTLIBS
MCA_errmgr_DSO_COMPONENTS
MCA_errmgr_STATIC_COMPONENTS
MCA_errmgr_ALL_COMPONENTS
OMPI_BUILD_errmgr_default_DSO_FALSE
OMPI_BUILD_errmgr_default_DSO_TRUE
MCA_opal_FRAMEWORK_LIBS
MCA_opal_FRAMEWORK_COMPONENT_STATIC_SUBDIRS
MCA_opal_FRAMEWORK_COMPONENT_DSO_SUBDIRS
MCA_opal_FRAMEWORK_COMPONENT_ALL_SUBDIRS
MCA_opal_FRAMEWORKS_SUBDIRS
MCA_opal_FRAMEWORKS
MCA_timer_DSO_SUBDIRS
MCA_timer_STATIC_SUBDIRS
MCA_timer_ALL_SUBDIRS
MCA_timer_STATIC_LTLIBS
MCA_timer_DSO_COMPONENTS
MCA_timer_STATIC_COMPONENTS
MCA_timer_ALL_COMPONENTS
OMPI_BUILD_timer_linux_DSO_FALSE
OMPI_BUILD_timer_linux_DSO_TRUE
OMPI_BUILD_timer_windows_DSO_FALSE
OMPI_BUILD_timer_windows_DSO_TRUE
OMPI_BUILD_timer_solaris_DSO_FALSE
OMPI_BUILD_timer_solaris_DSO_TRUE
OMPI_BUILD_timer_darwin_DSO_FALSE
OMPI_BUILD_timer_darwin_DSO_TRUE
OMPI_BUILD_timer_altix_DSO_FALSE
OMPI_BUILD_timer_altix_DSO_TRUE
OMPI_BUILD_timer_aix_DSO_FALSE
OMPI_BUILD_timer_aix_DSO_TRUE
timer_aix_LIBS
OMPI_BUILD_timer_catamount_DSO_FALSE
OMPI_BUILD_timer_catamount_DSO_TRUE
MCA_paffinity_DSO_SUBDIRS
MCA_paffinity_STATIC_SUBDIRS
MCA_paffinity_ALL_SUBDIRS
MCA_paffinity_STATIC_LTLIBS
MCA_paffinity_DSO_COMPONENTS
MCA_paffinity_STATIC_COMPONENTS
MCA_paffinity_ALL_COMPONENTS
OMPI_BUILD_paffinity_posix_DSO_FALSE
OMPI_BUILD_paffinity_posix_DSO_TRUE
OMPI_BUILD_paffinity_test_DSO_FALSE
OMPI_BUILD_paffinity_test_DSO_TRUE
OMPI_BUILD_paffinity_darwin_DSO_FALSE
OMPI_BUILD_paffinity_darwin_DSO_TRUE
OMPI_BUILD_paffinity_windows_DSO_FALSE
OMPI_BUILD_paffinity_windows_DSO_TRUE
OMPI_BUILD_paffinity_solaris_DSO_FALSE
OMPI_BUILD_paffinity_solaris_DSO_TRUE
OMPI_BUILD_paffinity_linux_DSO_FALSE
OMPI_BUILD_paffinity_linux_DSO_TRUE
PLPA_BUILD_EXECUTABLES_FALSE
PLPA_BUILD_EXECUTABLES_TRUE
PLPA_BUILD_STANDALONE_FALSE
PLPA_BUILD_STANDALONE_TRUE
YFLAGS
YACC
MCA_memory_DSO_SUBDIRS
MCA_memory_STATIC_SUBDIRS
MCA_memory_ALL_SUBDIRS
MCA_memory_STATIC_LTLIBS
MCA_memory_DSO_COMPONENTS
MCA_memory_STATIC_COMPONENTS
MCA_memory_ALL_COMPONENTS
OMPI_BUILD_memory_malloc_solaris_DSO_FALSE
OMPI_BUILD_memory_malloc_solaris_DSO_TRUE
memory_malloc_solaris_LIBS
OMPI_BUILD_memory_ptmalloc2_DSO_FALSE
OMPI_BUILD_memory_ptmalloc2_DSO_TRUE
memory_ptmalloc2_LIBS
MCA_memcpy_DSO_SUBDIRS
MCA_memcpy_STATIC_SUBDIRS
MCA_memcpy_ALL_SUBDIRS
MCA_memcpy_STATIC_LTLIBS
MCA_memcpy_DSO_COMPONENTS
MCA_memcpy_STATIC_COMPONENTS
MCA_memcpy_ALL_COMPONENTS
MCA_memchecker_DSO_SUBDIRS
MCA_memchecker_STATIC_SUBDIRS
MCA_memchecker_ALL_SUBDIRS
MCA_memchecker_STATIC_LTLIBS
MCA_memchecker_DSO_COMPONENTS
MCA_memchecker_STATIC_COMPONENTS
MCA_memchecker_ALL_COMPONENTS
OMPI_BUILD_memchecker_valgrind_DSO_FALSE
OMPI_BUILD_memchecker_valgrind_DSO_TRUE
opal_memchecker_valgrind_CPPFLAGS
OMPI_WANT_MEMCHECKER_FALSE
OMPI_WANT_MEMCHECKER_TRUE
MCA_maffinity_DSO_SUBDIRS
MCA_maffinity_STATIC_SUBDIRS
MCA_maffinity_ALL_SUBDIRS
MCA_maffinity_STATIC_LTLIBS
MCA_maffinity_DSO_COMPONENTS
MCA_maffinity_STATIC_COMPONENTS
MCA_maffinity_ALL_COMPONENTS
OMPI_BUILD_maffinity_libnuma_DSO_FALSE
OMPI_BUILD_maffinity_libnuma_DSO_TRUE
maffinity_libnuma_LIBS
maffinity_libnuma_LDFLAGS
maffinity_libnuma_CPPFLAGS
OMPI_BUILD_maffinity_first_use_DSO_FALSE
OMPI_BUILD_maffinity_first_use_DSO_TRUE
MCA_installdirs_DSO_SUBDIRS
MCA_installdirs_STATIC_SUBDIRS
MCA_installdirs_ALL_SUBDIRS
MCA_installdirs_STATIC_LTLIBS
MCA_installdirs_DSO_COMPONENTS
MCA_installdirs_STATIC_COMPONENTS
MCA_installdirs_ALL_COMPONENTS
OMPI_BUILD_installdirs_windows_DSO_FALSE
OMPI_BUILD_installdirs_windows_DSO_TRUE
OMPI_BUILD_installdirs_config_DSO_FALSE
OMPI_BUILD_installdirs_config_DSO_TRUE
OMPI_BUILD_installdirs_env_DSO_FALSE
OMPI_BUILD_installdirs_env_DSO_TRUE
MCA_crs_DSO_SUBDIRS
MCA_crs_STATIC_SUBDIRS
MCA_crs_ALL_SUBDIRS
MCA_crs_STATIC_LTLIBS
MCA_crs_DSO_COMPONENTS
MCA_crs_STATIC_COMPONENTS
MCA_crs_ALL_COMPONENTS
OMPI_BUILD_crs_self_DSO_FALSE
OMPI_BUILD_crs_self_DSO_TRUE
OMPI_BUILD_crs_blcr_DSO_FALSE
OMPI_BUILD_crs_blcr_DSO_TRUE
crs_blcr_LIBS
crs_blcr_LDFLAGS
crs_blcr_CPPFLAGS
crs_blcr_CFLAGS
crs_blcr_WRAPPER_EXTRA_CPPFLAGS
crs_blcr_WRAPPER_EXTRA_LIBS
crs_blcr_WRAPPER_EXTRA_LDFLAGS
OMPI_BUILD_crs_none_DSO_FALSE
OMPI_BUILD_crs_none_DSO_TRUE
MCA_carto_DSO_SUBDIRS
MCA_carto_STATIC_SUBDIRS
MCA_carto_ALL_SUBDIRS
MCA_carto_STATIC_LTLIBS
MCA_carto_DSO_COMPONENTS
MCA_carto_STATIC_COMPONENTS
MCA_carto_ALL_COMPONENTS
OMPI_BUILD_carto_file_DSO_FALSE
OMPI_BUILD_carto_file_DSO_TRUE
OMPI_BUILD_carto_auto_detect_DSO_FALSE
OMPI_BUILD_carto_auto_detect_DSO_TRUE
MCA_backtrace_DSO_SUBDIRS
MCA_backtrace_STATIC_SUBDIRS
MCA_backtrace_ALL_SUBDIRS
MCA_backtrace_STATIC_LTLIBS
MCA_backtrace_DSO_COMPONENTS
MCA_backtrace_STATIC_COMPONENTS
MCA_backtrace_ALL_COMPONENTS
OMPI_BUILD_backtrace_none_DSO_FALSE
OMPI_BUILD_backtrace_none_DSO_TRUE
OMPI_BUILD_backtrace_darwin_DSO_FALSE
OMPI_BUILD_backtrace_darwin_DSO_TRUE
backtrace_darwin_CFLAGS
OMPI_BUILD_backtrace_printstack_DSO_FALSE
OMPI_BUILD_backtrace_printstack_DSO_TRUE
OMPI_BUILD_backtrace_execinfo_DSO_FALSE
OMPI_BUILD_backtrace_execinfo_DSO_TRUE
CASE_SENSITIVE_FS_FALSE
CASE_SENSITIVE_FS_TRUE
LEXLIB
LEX_OUTPUT_ROOT
LEX
LN_S
WANT_FT_THREAD_FALSE
WANT_FT_THREAD_TRUE
OMPI_HAVE_SOLARIS_THREADS_FALSE
OMPI_HAVE_SOLARIS_THREADS_TRUE
OMPI_HAVE_POSIX_THREADS_FALSE
OMPI_HAVE_POSIX_THREADS_TRUE
OMPI_MPI_OFFSET_KIND
OMPI_MPI_ADDRESS_KIND
OMPI_MPI_INTEGER_KIND
OMPI_F90_CKINDS
OMPI_F90_RKINDS
OMPI_F90_IKINDS
OMPI_SIZEOF_F90_DOUBLE_COMPLEX
OMPI_SIZEOF_F90_COMPLEX32
OMPI_SIZEOF_F90_COMPLEX16
OMPI_SIZEOF_F90_COMPLEX8
OMPI_SIZEOF_F90_COMPLEX
OMPI_SIZEOF_F90_DOUBLE_PRECISION
OMPI_SIZEOF_F90_REAL16
OMPI_SIZEOF_F90_REAL8
OMPI_SIZEOF_F90_REAL4
OMPI_SIZEOF_F90_REAL2
OMPI_SIZEOF_F90_REAL
OMPI_SIZEOF_F90_INTEGER16
OMPI_SIZEOF_F90_INTEGER8
OMPI_SIZEOF_F90_INTEGER4
OMPI_SIZEOF_F90_INTEGER2
OMPI_SIZEOF_F90_INTEGER1
OMPI_SIZEOF_F90_INTEGER
OMPI_SIZEOF_F90_LOGICAL8
OMPI_SIZEOF_F90_LOGICAL4
OMPI_SIZEOF_F90_LOGICAL2
OMPI_SIZEOF_F90_LOGICAL1
OMPI_SIZEOF_F90_LOGICAL
OMPI_FC_MODULE_FLAG
OMPI_F90_ABSOLUTE
OMPI_WANT_F90_BINDINGS_FALSE
OMPI_WANT_F90_BINDINGS_TRUE
FCFLAGS_f90
FCFLAGS_f
OMPI_F90_EXTRA_SHARED_LIBRARY_FLAGS
ac_ct_FC
FCFLAGS
FC
WANT_PMPI_F77_BINDINGS_LAYER_FALSE
WANT_PMPI_F77_BINDINGS_LAYER_TRUE
WANT_MPI_F77_BINDINGS_LAYER_FALSE
WANT_MPI_F77_BINDINGS_LAYER_TRUE
OMPI_F77_ABSOLUTE
OMPI_WANT_F77_BINDINGS_FALSE
OMPI_WANT_F77_BINDINGS_TRUE
ac_ct_F77
FFLAGS
F77
OMPI_ASM_FILE
OMPI_HAVE_ASM_FILE_FALSE
OMPI_HAVE_ASM_FILE_TRUE
PERL
FGREP
OMPI_ASSEMBLY_ARCH
OMPI_ASSEMBLY_FORMAT
OMPI_ASM_SUPPORT_64BIT
OMPI_ASM_TYPE
OMPI_ASM_LSYM
NM
ac_ct_DUMPBIN
DUMPBIN
OMPI_ASM_GSYM
OMPI_AS_LABEL_SUFFIX
OBJDUMP
OMPI_AS_GLOBAL
OMPI_ASM_TEXT
am__fastdepCCAS_FALSE
am__fastdepCCAS_TRUE
CCASDEPMODE
CCASFLAGS
CCAS
WANT_MPI_CXX_BINDINGS_FALSE
WANT_MPI_CXX_BINDINGS_TRUE
OMPI_CXX_ABSOLUTE
CXXCPP
am__fastdepCXX_FALSE
am__fastdepCXX_TRUE
CXXDEPMODE
ac_ct_CXX
CXXFLAGS
CXX
COMPILE_PROFILING_SEPARATELY_FALSE
COMPILE_PROFILING_SEPARATELY_TRUE
WANT_PMPI_BINDINGS_LAYER_FALSE
WANT_PMPI_BINDINGS_LAYER_TRUE
WANT_MPI_BINDINGS_LAYER_FALSE
WANT_MPI_BINDINGS_LAYER_TRUE
OMPI_NEED_WINDOWS_REPLACEMENTS_FALSE
OMPI_NEED_WINDOWS_REPLACEMENTS_TRUE
EGREP
GREP
CPP
OMPI_CC_ABSOLUTE
am__fastdepCC_FALSE
am__fastdepCC_TRUE
CCDEPMODE
AMDEPBACKSLASH
AMDEP_FALSE
AMDEP_TRUE
am__quote
am__include
DEPDIR
OBJEXT
EXEEXT
ac_ct_CC
CPPFLAGS
LDFLAGS
CFLAGS
CC
OMPI_WANT_SCRIPT_WRAPPER_COMPILERS_FALSE
OMPI_WANT_SCRIPT_WRAPPER_COMPILERS_TRUE
OMPI_INSTALL_BINARIES_FALSE
OMPI_INSTALL_BINARIES_TRUE
WANT_FT_FALSE
WANT_FT_TRUE
ORTE_DISABLE_FULL_SUPPORT_FALSE
ORTE_DISABLE_FULL_SUPPORT_TRUE
OMPI_FORTRAN_MAX_ARRAY_RANK
WANT_PERUSE_FALSE
WANT_PERUSE_TRUE
WANT_INSTALL_HEADERS_FALSE
WANT_INSTALL_HEADERS_TRUE
MPIF_H_PMPI_W_FUNCS
OMPI_F90_BUILD_SIZE
OMPI_WANT_BUILD_F90_LARGE_FALSE
OMPI_WANT_BUILD_F90_LARGE_TRUE
OMPI_WANT_BUILD_F90_MEDIUM_FALSE
OMPI_WANT_BUILD_F90_MEDIUM_TRUE
OMPI_WANT_BUILD_F90_SMALL_FALSE
OMPI_WANT_BUILD_F90_SMALL_TRUE
OMPI_WANT_BUILD_F90_TRIVIAL_FALSE
OMPI_WANT_BUILD_F90_TRIVIAL_TRUE
top_ompi_builddir
top_ompi_srcdir
ac_prefix_program
host_os
host_vendor
host_cpu
host
build_os
build_vendor
build_cpu
build
CLEANFILES
OMPI_TOP_SRCDIR
OMPI_TOP_BUILDDIR
libopen_pal_so_version
libopen_rte_so_version
libmca_common_portals_so_version
libmca_common_mx_so_version
libmca_common_sm_so_version
libmpi_f90_so_version
libmpi_f77_so_version
libmpi_cxx_so_version
libmpi_so_version
OPAL_RELEASE_DATE
OPAL_VERSION
OPAL_SVN_R
OPAL_WANT_SVN
OPAL_GREEK_VERSION
OPAL_RELEASE_VERSION
OPAL_MINOR_VERSION
OPAL_MAJOR_VERSION
ORTE_RELEASE_DATE
ORTE_VERSION
ORTE_SVN_R
ORTE_WANT_SVN
ORTE_GREEK_VERSION
ORTE_RELEASE_VERSION
ORTE_MINOR_VERSION
ORTE_MAJOR_VERSION
OMPI_RELEASE_DATE
OMPI_VERSION
OMPI_SVN_R
OMPI_WANT_SVN
OMPI_GREEK_VERSION
OMPI_RELEASE_VERSION
OMPI_MINOR_VERSION
OMPI_MAJOR_VERSION
OMPI_CONFIGURE_DATE
OMPI_CONFIGURE_HOST
OMPI_CONFIGURE_USER
CONFIGURE_DEPENDENCIES
am__untar
am__tar
AMTAR
am__leading_dot
SET_MAKE
AWK
mkdir_p
MKDIR_P
INSTALL_STRIP_PROGRAM
STRIP
install_sh
MAKEINFO
AUTOHEADER
AUTOMAKE
AUTOCONF
ACLOCAL
VERSION
PACKAGE
CYGPATH_W
am__isrc
INSTALL_DATA
INSTALL_SCRIPT
INSTALL_PROGRAM
OPAL_PARAM_FROM_PLATFORM
OPAL_DEFAULT_MCA_PARAM_CONF
target_alias
host_alias
build_alias
LIBS
ECHO_T
ECHO_N
ECHO_C
DEFS
mandir
localedir
libdir
psdir
pdfdir
dvidir
htmldir
infodir
docdir
oldincludedir
includedir
localstatedir
sharedstatedir
sysconfdir
datadir
datarootdir
libexecdir
sbindir
bindir
program_transform_name
prefix
exec_prefix
PACKAGE_URL
PACKAGE_BUGREPORT
PACKAGE_STRING
PACKAGE_VERSION
PACKAGE_TARNAME
PACKAGE_NAME
PATH_SEPARATOR
SHELL'
ac_subst_files=''
ac_user_opts='
enable_option_checking
with_platform
enable_dist
enable_coverage
enable_branch_probabilities
enable_mem_debug
enable_mem_profile
enable_picky
enable_debug
enable_debug_symbols
enable_sparse_groups
enable_mpi_f77
enable_mpi_f90
with_mpi_f90_size
enable_mpi_profile
enable_mpi_cxx
enable_mpi_cxx_seek
enable_weak_symbols
with_mpi_param_check
with_devel_headers
enable_pretty_print_stacktrace
enable_peruse
with_f90_max_array_dim
enable_pty_support
enable_dlopen
enable_heterogeneous
enable_trace
with_rte_support
with_cross
with_ft
enable_binaries
enable_script_wrapper_compilers
enable_per_user_config_files
enable_ipv6
enable_orterun_prefix_by_default
enable_mpirun_prefix_by_default
with_package_string
with_ident_string
with_openib_control_hdr_padding
with_dst_checksum
enable_shared
enable_static
with_wrapper_cflags
with_wrapper_cxxflags
with_wrapper_fflags
with_wrapper_fcflags
with_wrapper_ldflags
with_wrapper_libs
enable_dependency_tracking
enable_cxx_exceptions
with_exflags
enable_smp_locks
with_broken_qsort
with_threads
enable_mpi_threads
enable_ft_thread
with_cs_fs
enable_mca_no_build
enable_mca_dso
enable_mca_static
enable_mca_direct
with_blcr
with_blcr_libdir
with_libnuma
with_libnuma_libdir
enable_memchecker
with_valgrind
with_memory_manager
enable_emulate
enable_executables
enable_included_mode
with_plpa_symbol_prefix
with_timer
with_portals
with_portals_libs
with_alps
with_lsf
with_lsf_libdir
with_slurm
with_tm
with_sge
with_loadleveler
with_elan
with_elan_libdir
with_gm
with_gm_libdir
with_mx
with_mx_libdir
with_openib
with_openib_libdir
enable_openib_connectx_xrc
enable_openib_ibcm
enable_openib_rdmacm
with_portals_config
with_udapl
with_udapl_libdir
enable_mpi_io
enable_io_romio
with_io_romio_flags
with_psm
with_psm_libdir
enable_visibility
enable_contrib_no_build
with_contrib_vt_flags
with_event_rtsig
with_pic
enable_fast_install
with_gnu_ld
enable_libtool_lock
'
      ac_precious_vars='build_alias
host_alias
target_alias
CC
CFLAGS
LDFLAGS
LIBS
CPPFLAGS
CPP
CXX
CXXFLAGS
CCC
CXXCPP
CCAS
CCASFLAGS
F77
FFLAGS
FC
FCFLAGS
YACC
YFLAGS'


# Initialize some variables set by options.
ac_init_help=
ac_init_version=false
ac_unrecognized_opts=
ac_unrecognized_sep=
# The variables have the same names as the options, with
# dashes changed to underlines.
cache_file=/dev/null
exec_prefix=NONE
no_create=
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
verbose=
x_includes=NONE
x_libraries=NONE

# Installation directory options.
# These are left unexpanded so users can "make install exec_prefix=/foo"
# and all the variables that are supposed to be based on exec_prefix
# by default will actually change.
# Use braces instead of parens because sh, perl, etc. also accept them.
# (The list follows the same order as the GNU Coding Standards.)
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datarootdir='${prefix}/share'
datadir='${datarootdir}'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
includedir='${prefix}/include'
oldincludedir='/usr/include'
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
infodir='${datarootdir}/info'
htmldir='${docdir}'
dvidir='${docdir}'
pdfdir='${docdir}'
psdir='${docdir}'
libdir='${exec_prefix}/lib'
localedir='${datarootdir}/locale'
mandir='${datarootdir}/man'

ac_prev=
ac_dashdash=
for ac_option
do
  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval $ac_prev=\$ac_option
    ac_prev=
    continue
  fi

  case $ac_option in
  *=?*) ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
  *=)   ac_optarg= ;;
  *)    ac_optarg=yes ;;
  esac

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case $ac_dashdash$ac_option in
  --)
    ac_dashdash=yes ;;

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir=$ac_optarg ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build_alias ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build_alias=$ac_optarg ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file=$ac_optarg ;;

  --config-cache | -C)
    cache_file=config.cache ;;

  -datadir | --datadir | --datadi | --datad)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=*)
    datadir=$ac_optarg ;;

  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
  | --dataroo | --dataro | --datar)
    ac_prev=datarootdir ;;
  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
    datarootdir=$ac_optarg ;;

  -disable-* | --disable-*)
    ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval enable_$ac_useropt=no ;;

  -docdir | --docdir | --docdi | --doc | --do)
    ac_prev=docdir ;;
  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
    docdir=$ac_optarg ;;

  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
    ac_prev=dvidir ;;
  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
    dvidir=$ac_optarg ;;

  -enable-* | --enable-*)
    ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval enable_$ac_useropt=\$ac_optarg ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix=$ac_optarg ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he | -h)
    ac_init_help=long ;;
  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
    ac_init_help=recursive ;;
  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
    ac_init_help=short ;;

  -host | --host | --hos | --ho)
    ac_prev=host_alias ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host_alias=$ac_optarg ;;

  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
    ac_prev=htmldir ;;
  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
  | --ht=*)
    htmldir=$ac_optarg ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir=$ac_optarg ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir=$ac_optarg ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir=$ac_optarg ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir=$ac_optarg ;;

  -localedir | --localedir | --localedi | --localed | --locale)
    ac_prev=localedir ;;
  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
    localedir=$ac_optarg ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst | --locals)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
    localstatedir=$ac_optarg ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir=$ac_optarg ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c | -n)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir=$ac_optarg ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix=$ac_optarg ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix=$ac_optarg ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix=$ac_optarg ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name=$ac_optarg ;;

  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
    ac_prev=pdfdir ;;
  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
    pdfdir=$ac_optarg ;;

  -psdir | --psdir | --psdi | --psd | --ps)
    ac_prev=psdir ;;
  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
    psdir=$ac_optarg ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir=$ac_optarg ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir=$ac_optarg ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site=$ac_optarg ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir=$ac_optarg ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir=$ac_optarg ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target_alias ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target_alias=$ac_optarg ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers | -V)
    ac_init_version=: ;;

  -with-* | --with-*)
    ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval with_$ac_useropt=\$ac_optarg ;;

  -without-* | --without-*)
    ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval with_$ac_useropt=no ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes=$ac_optarg ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries=$ac_optarg ;;

  -*) as_fn_error $? "unrecognized option: \`$ac_option'
Try \`$0 --help' for more information"
    ;;

  *=*)
    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
    # Reject names that are not valid shell variable names.
    case $ac_envvar in #(
      '' | [0-9]* | *[!_$as_cr_alnum]* )
      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
    esac
    eval $ac_envvar=\$ac_optarg
    export $ac_envvar ;;

  *)
    # FIXME: should be removed in autoconf 3.0.
    $as_echo "$as_me: WARNING: you should use --build, --host, --target" >&2
    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
      $as_echo "$as_me: WARNING: invalid host type: $ac_option" >&2
    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
    ;;

  esac
done

if test -n "$ac_prev"; then
  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
  as_fn_error $? "missing argument to $ac_option"
fi

if test -n "$ac_unrecognized_opts"; then
  case $enable_option_checking in
    no) ;;
    fatal) as_fn_error $? "unrecognized options: $ac_unrecognized_opts" ;;
    *)     $as_echo "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2 ;;
  esac
fi

# Check all directory arguments for consistency.
for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
		datadir sysconfdir sharedstatedir localstatedir includedir \
		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
		libdir localedir mandir
do
  eval ac_val=\$$ac_var
  # Remove trailing slashes.
  case $ac_val in
    */ )
      ac_val=`expr "X$ac_val" : 'X\(.*[^/]\)' \| "X$ac_val" : 'X\(.*\)'`
      eval $ac_var=\$ac_val;;
  esac
  # Be sure to have absolute directory names.
  case $ac_val in
    [\\/$]* | ?:[\\/]* )  continue;;
    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
  esac
  as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
done

# There might be people who depend on the old broken behavior: `$host'
# used to hold the argument of --host etc.
# FIXME: To remove some day.
build=$build_alias
host=$host_alias
target=$target_alias

# FIXME: To remove some day.
if test "x$host_alias" != x; then
  if test "x$build_alias" = x; then
    cross_compiling=maybe
    $as_echo "$as_me: WARNING: if you wanted to set the --build type, don't use --host.
    If a cross compiler is detected then cross compile mode will be used" >&2
  elif test "x$build_alias" != "x$host_alias"; then
    cross_compiling=yes
  fi
fi

ac_tool_prefix=
test -n "$host_alias" && ac_tool_prefix=$host_alias-

test "$silent" = yes && exec 6>/dev/null


ac_pwd=`pwd` && test -n "$ac_pwd" &&
ac_ls_di=`ls -di .` &&
ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
  as_fn_error $? "working directory cannot be determined"
test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
  as_fn_error $? "pwd does not report name of working directory"


# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then the parent directory.
  ac_confdir=`$as_dirname -- "$as_myself" ||
$as_expr X"$as_myself" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_myself" : 'X\(//\)[^/]' \| \
	 X"$as_myself" : 'X\(//\)$' \| \
	 X"$as_myself" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$as_myself" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  srcdir=$ac_confdir
  if test ! -r "$srcdir/$ac_unique_file"; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r "$srcdir/$ac_unique_file"; then
  test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
  as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
fi
ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
ac_abs_confdir=`(
	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
	pwd)`
# When building in place, set srcdir=.
if test "$ac_abs_confdir" = "$ac_pwd"; then
  srcdir=.
fi
# Remove unnecessary trailing slashes from srcdir.
# Double slashes in file names in object file debugging info
# mess up M-x gdb in Emacs.
case $srcdir in
*/) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
esac
for ac_var in $ac_precious_vars; do
  eval ac_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_env_${ac_var}_value=\$${ac_var}
  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_cv_env_${ac_var}_value=\$${ac_var}
done

#
# Report the --help message.
#
if test "$ac_init_help" = "long"; then
  # Omit some internal or obsolete options to make the list less imposing.
  # This message is too long to be a string in the A/UX 3.1 sh.
  cat <<_ACEOF
\`configure' configures Open MPI 1.4.5 to adapt to many kinds of systems.

Usage: $0 [OPTION]... [VAR=VALUE]...

To assign environment variables (e.g., CC, CFLAGS...), specify them as
VAR=VALUE.  See below for descriptions of some of the useful variables.

Defaults for the options are specified in brackets.

Configuration:
  -h, --help              display this help and exit
      --help=short        display options specific to this package
      --help=recursive    display the short help of all the included packages
  -V, --version           display version information and exit
  -q, --quiet, --silent   do not print \`checking ...' messages
      --cache-file=FILE   cache test results in FILE [disabled]
  -C, --config-cache      alias for \`--cache-file=config.cache'
  -n, --no-create         do not create output files
      --srcdir=DIR        find the sources in DIR [configure dir or \`..']

Installation directories:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [PREFIX]

By default, \`make install' will install all the files in
\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
an installation prefix other than \`$ac_default_prefix' using \`--prefix',
for instance \`--prefix=\$HOME'.

For better control, use the options below.

Fine tuning of the installation directories:
  --bindir=DIR            user executables [EPREFIX/bin]
  --sbindir=DIR           system admin executables [EPREFIX/sbin]
  --libexecdir=DIR        program executables [EPREFIX/libexec]
  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]
  --libdir=DIR            object code libraries [EPREFIX/lib]
  --includedir=DIR        C header files [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc [/usr/include]
  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]
  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]
  --infodir=DIR           info documentation [DATAROOTDIR/info]
  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]
  --mandir=DIR            man documentation [DATAROOTDIR/man]
  --docdir=DIR            documentation root [DATAROOTDIR/doc/openmpi]
  --htmldir=DIR           html documentation [DOCDIR]
  --dvidir=DIR            dvi documentation [DOCDIR]
  --pdfdir=DIR            pdf documentation [DOCDIR]
  --psdir=DIR             ps documentation [DOCDIR]
_ACEOF

  cat <<\_ACEOF

Program names:
  --program-prefix=PREFIX            prepend PREFIX to installed program names
  --program-suffix=SUFFIX            append SUFFIX to installed program names
  --program-transform-name=PROGRAM   run sed PROGRAM on installed program names

System types:
  --build=BUILD     configure for building on BUILD [guessed]
  --host=HOST       cross-compile to build programs to run on HOST [BUILD]
_ACEOF
fi

if test -n "$ac_init_help"; then
  case $ac_init_help in
     short | recursive ) echo "Configuration of Open MPI 1.4.5:";;
   esac
  cat <<\_ACEOF

Optional Features:
  --disable-option-checking  ignore unrecognized --enable/--with options
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --enable-dist           guarantee that that the "dist" make target will be
                          functional, although may not guarantee that any
                          other make target will be functional.
  --enable-coverage       enable code coverage files to be generated
  --enable-branch-probabilities
                          enable profile arcs and branch probability
                          optimization
  --enable-mem-debug      enable memory debugging (debugging only) (default:
                          disabled)
  --enable-mem-profile    enable memory profiling (debugging only) (default:
                          disabled)
  --enable-picky          enable developer-level compiler pickyness when
                          building Open MPI (default: disabled)
  --enable-debug          enable developer-level debugging code (not for
                          general MPI users!) (default: disabled)
  --disable-debug-symbols Disable adding compiler flags to enable debugging
                          symbols if --enable-debug is specified. For
                          non-debugging builds, this flag has no effect.
  --enable-sparse-groups  enable sparse process groups (default: not enabled)
  --enable-mpi-f77        enable f77 MPI bindings (default: enabled)
  --enable-mpi-f90        enable f90 MPI bindings (default: enabled)
  --enable-mpi-profile    enable MPI profiling (default: enabled)
  --enable-mpi-cxx        enable C++ MPI bindings (default: enabled)
  --enable-mpi-cxx-seek   enable support for MPI::SEEK_SET, MPI::SEEK_END, and
                          MPI::SEEK_POS in C++ bindings (default: enabled)
  --enable-weak-symbols   use weak symbols, if available (default: enabled)
  --enable-pretty-print-stacktrace
                          Pretty print stacktrace on process signal (default:
                          enabled)
  --enable-peruse         Support PERUSE interface (default: disabled)
  --enable-pty-support    Enable/disable PTY support for STDIO forwarding.
                          (default: enabled)
  --enable-dlopen         Whether build should attempt to use dlopen (or
                          similar) to dynamically load components. Disabling
                          dlopen implies --disable-mca-dso. (default: enabled)
  --enable-heterogeneous  Enable features required for heterogeneous platform
                          support (default: disabled)
  --enable-trace          Enable internal tracing of OMPI/ORTE/OPAL calls --
                          used only for developer debugging, not tracing of
                          MPI applications (default: disabled)
  --enable-binaries       Build and install binaries required for Open MPI,
                          such as the wrapper compilers. Useful for multi-lib
                          installations. (default: enabled)
  --enable-script-wrapper-compilers
                          Use less featured script-based wrapper compilers
                          instead of the standard C-based wrapper compilers.
                          This option ignores the --disable-binaries option
                          and is mainly useful in cross-compile environments
  --enable-per-user-config-files
                          Disable per-user configuration files, to save disk
                          accesses during job strart-up. This is likely
                          desirable for large jobs. Note that this can also be
                          acheived by environment variables at run-time.
                          (default: enabled)
  --disable-ipv6          Disable IPv6 support (default: enabled, but only if
                          the underlying system supports it)
  --enable-orterun-prefix-by-default
                          Make "orterun ..." behave exactly the same as
                          "orterun --prefix \$prefix" (where \$prefix is the
                          value given to --prefix in configure)
  --enable-mpirun-prefix-by-default
                          Synonym for --enable-orterun-prefix-by-default
  --enable-shared[=PKGS]  build shared libraries [default=yes]
  --enable-static[=PKGS]  build static libraries [default=no]
  --disable-dependency-tracking  speeds up one-time build
  --enable-dependency-tracking   do not reject slow dependency extractors
  --enable-cxx-exceptions enable support for C++ exceptions (default:
                          disabled)
  --enable-smp-locks      enable smp locks in atomic ops. Do not disable if
                          code will ever run in SMP or multi-threaded
                          environment. (default: enabled)
  --enable-mpi-threads    Enable threads for MPI applications (default:
                          disabled)
  --disable-ft-thread     Disable fault tolerance thread running inside all
                          processes. Requires progress and/or MPI threads
                          (default: enabled)
  --enable-mca-no-build=LIST
                          Comma-separated list of <type>-<component> pairs
                          that will not be built. Example:
                          "--enable-mca-no-build=maffinity,btl-portals" will
                          disable building all maffinity components and the
                          "portals" btl components.
  --enable-mca-dso=LIST   Comma-separated list of types and/or type-component
                          pairs that will be built as run-time loadable
                          components (as opposed to statically linked in), if
                          supported on this platform. The default is to build
                          all components as DSOs.
  --enable-mca-static=LIST
                          Comma-separated list of types and/or type-component
                          pairs that will be built statically linked into the
                          library. The default (if DSOs are supported) is to
                          build all components as DSOs. Enabling a component
                          as static disables it building as a DSO.
  --enable-mca-direct=LIST
                          Comma-separated list of type-component pairs that
                          will be hard coded as the one component to use for a
                          given component type, saving the (small) overhead of
                          the component architecture. LIST must not be empty
                          and implies given component pairs are build as
                          static components.
  --enable-memchecker     Enable memory and buffer checks. Note that disabling
                          will *also* add "memchecker" to the
                          --enable-mca-no-build list (default: disabled)
  --enable-emulate        Emulate __NR_sched_setaffinity and
                          __NR_sched_getaffinity, to allow building on
                          non-Linux systems (for testing)
  --disable-executables   Using --disable-executables disables building and
                          installing the PLPA executables
  --enable-included-mode  Using --enable-included-mode puts the PLPA into
                          "included" mode. The default is
                          --disable-included-mode, meaning that the PLPA is in
                          "standalone" mode.
  --enable-debug          Using --enable-debug enables various
                          maintainer-level debugging controls. This option is
                          not recomended for end users.
  --enable-openib-connectx-xrc
                          Enable ConnectX XRC support. If you do not have
                          InfiniBand ConnectX adapters, you may disable the
                          ConnectX XRC support. If you do not know which
                          InfiniBand adapter is installed on your cluster,
                          leave this option enabled (default: enabled)
  --enable-openib-ibcm    Enable Open Fabrics IBCM support in openib BTL
                          (default: disabled)
  --enable-openib-rdmacm  Enable Open Fabrics RDMACM support in openib BTL
                          (default: enabled)
  --disable-mpi-io        Disable built-in support for MPI-2 I/O, likely
                          because an externally-provided MPI I/O package will
                          be used. Default is to use the internal component
                          system and its specially modified version of ROMIO
  --disable-io-romio      Disable the ROMIO MPI-IO component
  --enable-visibility     enable visibility feature of certain
                          compilers/linkers (default: enabled)
  --enable-contrib-no-build=LIST
                          Comma-separated list of contributed package NAMEs
                          that will not be built. Possible values:
                          vt. Example:
                          "--enable-contrib-no-build=libtrace,vt" will disable
                          building both the "libtrace" and "vt" contributed
                          software packages.
  --enable-fast-install[=PKGS]
                          optimize for fast installation [default=yes]
  --disable-libtool-lock  avoid locking (might break parallel builds)

Optional Packages:
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --with-platform=FILE    Load options for build from FILE. Options on the
                          command line not in FILE are used. Options on the
                          command line and in FILE are replaced by what is in
                          FILE.
  --with-mpi-f90-size=SIZE
                          specify the types of functions in the Fortran 90 MPI
                          module, where SIZE is one of: trivial (MPI-2
                          F90-specific functions only), small (trivial + all
                          MPI functions without choice buffers), medium (small
                          + all MPI functions with one choice buffer), large
                          (medium + all MPI functions with 2 choice buffers,
                          but only when both buffers are the same type).
                          Default SIZE is "small".
  --with-mpi-param-check(=VALUE)
                          behavior of MPI function parameter checking. Valid
                          values are: always, never, runtime. If
                          --with-mpi-param-check is specified with no VALUE
                          argument, it is equivalent to a VALUE of "always";
                          --without-mpi-param-check is equivalent to "never"
                          (default: runtime).
  --with-devel-headers    normal MPI users/applications do not need this
                          (mpi.h and mpif.h are ALWAYS installed). Developer
                          headers are only necessary for MCA module authors
                          (default: disabled).
  --with-f90-max-array-dim=<DIM>
                          The maximum array dimension supported in the F90 MPI
                          bindings (default: $OMPI_FORTRAN_MAX_ARRAY_RANK).
  --without-rte-support   Build without RTE support for systems that do not
                          require it (default: full RTE support built)
  --with-cross=FILE       Specify configure values that can not be determined
                          in a cross-compilation environment. See the Open MPI
                          FAQ.
  --with-ft=TYPE          Specify the type of fault tolerance to enable.
                          Options: LAM (LAM/MPI-like), cr (Checkpoint/Restart)
                          (default: disabled)
  --with-package-string=STRING
                          Use a branding string throughout Open MPI
  --with-ident-string=STRING
                          Embed an ident string into Open MPI object files
  --with-openib-control-hdr-padding
                          Add padding bytes to the openib control header
  --with-dst-checksum     Use an alternative checksum algorithm for messages
  --with-wrapper-cflags   Extra flags to add to CFLAGS when using mpicc
  --with-wrapper-cxxflags Extra flags to add to CXXFLAGS when using
                          mpiCC/mpic++
  --with-wrapper-fflags   Extra flags to add to FFLAGS when using mpif77
  --with-wrapper-fcflags  Extra flags to add to FCFLAGS when using mpif90
  --with-wrapper-ldflags  Extra flags to add to LDFLAGS when using wrapper
                          compilers
  --with-wrapper-libs     Extra flags to add to LIBS when using wrapper
                          compilers
  --with-exflags          Specify flags necessary to enable C++ exceptions
  --with-broken-qsort     Build with FreeBSD qsort instead of native qsort
                          (default: no)
  --with-threads          Set thread type (solaris / posix)
  --with-cs-fs            Destination FS is case sensitive (default: set to
                          value of the build FS's case sensitivity)
  --with-blcr(=DIR)       Path to BLCR Installation
  --with-blcr-libdir=DIR  Search for BLCR libraries in DIR
  --with-libnuma=(DIR)    Build libnuma support, optionally adding
                          DIR/include, DIR/lib, and DIR/lib64 to the search
                          path for headers and libraries
  --with-libnuma-libdir=DIR
                          Directory where the libnuma software is installed
  --with-valgrind(=DIR)   Directory where the valgrind software is installed
  --with-memory-manager=TYPE
                          Use TYPE for intercepting memory management calls to
                          control memory pinning.
  --with-plpa-symbol-prefix=STRING
                          STRING can be any valid C symbol name. It will be
                          prefixed to all public PLPA symbols. Default:
                          "plpa_"
  --with-valgrind(=DIR)   Directory where the valgrind software is installed
  --with-timer=TYPE       Build high resolution timer component TYPE
  --with-portals=DIR      Specify the installation directory of PORTALS
  --with-portals-libs=LIBS
                          Libraries to link with for portals
  --with-alps             Build ALPS scheduler component (default: no)
  --with-lsf(=DIR)        Build LSF support
  --with-lsf-libdir=DIR   Search for LSF libraries in DIR
  --with-slurm            Build SLURM scheduler component (default: yes)
  --with-tm(=DIR)         Directory where the tm software is installed
  --with-sge              Build SGE or Grid Engine support (default: no)
  --with-loadleveler(=DIR)
                          Directory where the loadleveler software is
                          installed
  --with-elan(=DIR)       Build Elan (QsNet2) support, searching for libraries
                          in DIR
  --with-elan-libdir=DIR  Search for Elan (QsNet2) libraries in DIR
  --with-gm(=DIR)         Build GM (Myrinet) support, searching for libraries
                          in DIR
  --with-gm-libdir=DIR    Search for GM (Myrinet) libraries in DIR
  --with-mx(=DIR)         Build MX (Myrinet Express) support, searching for
                          libraries in DIR
  --with-mx-libdir=DIR    Search for MX (Myrinet Express) libraries in DIR
  --with-openib(=DIR)     Build OpenFabrics support, optionally adding
                          DIR/include, DIR/lib, and DIR/lib64 to the search
                          path for headers and libraries
  --with-openib-libdir=DIR
                          Search for OpenFabrics libraries in DIR
  --with-portals(=DIR)    Build Portals support, searching for installation in
                          DIR
  --with-portals-config   configuration to use for Portals support. One of
                          "utcp", "xt3", "xt3-modex". (default: utcp)
  --with-portals-libs=LIBS
                          Libraries to link with for portals
  --with-udapl(=DIR)      Build uDAPL support, searching for libraries in DIR
  --with-udapl-libdir=DIR Search for uDAPL libraries in DIR
  --with-io-romio-flags=FLAGS
                          Pass FLAGS to the ROMIO distribution configuration
                          script
  --with-psm(=DIR)        Build PSM (QLogic InfiniPath PSM) support, searching
                          for libraries in DIR
  --with-psm-libdir=DIR   Search for PSM (QLogic InfiniPath PSM) libraries in
                          DIR
  --with-contrib-vt-flags=FLAGS
                          Pass FLAGS to the VampirTrace distribution
                          configuration script
  --with-event-rtsig      compile with support for real time signals
                          (experimental)
  --with-pic              try to use only PIC/non-PIC objects [default=use
                          both]
  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]

Some influential environment variables:
  CC          C compiler command
  CFLAGS      C compiler flags
  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
              nonstandard directory <lib dir>
  LIBS        libraries to pass to the linker, e.g. -l<library>
  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if
              you have headers in a nonstandard directory <include dir>
  CPP         C preprocessor
  CXX         C++ compiler command
  CXXFLAGS    C++ compiler flags
  CXXCPP      C++ preprocessor
  CCAS        assembler compiler command (defaults to CC)
  CCASFLAGS   assembler compiler flags (defaults to CFLAGS)
  F77         Fortran 77 compiler command
  FFLAGS      Fortran 77 compiler flags
  FC          Fortran compiler command
  FCFLAGS     Fortran compiler flags
  YACC        The `Yet Another C Compiler' implementation to use. Defaults to
              the first program found out of: `bison -y', `byacc', `yacc'.
  YFLAGS      The list of arguments that will be passed by default to $YACC.
              This script will default YFLAGS to the empty string to avoid a
              default value of `-d' given by some make applications.

Use these variables to override the choices made by `configure' or to help
it to find libraries and programs with nonstandard names/locations.

Report bugs to <http://www.open-mpi.org/community/help/>.
_ACEOF
ac_status=$?
fi

if test "$ac_init_help" = "recursive"; then
  # If there are subdirs, report their specific --help.
  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
    test -d "$ac_dir" ||
      { cd "$srcdir" && ac_pwd=`pwd` && srcdir=. && test -d "$ac_dir"; } ||
      continue
    ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`$as_echo "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`$as_echo "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix

    cd "$ac_dir" || { ac_status=$?; continue; }
    # Check for guested configure.
    if test -f "$ac_srcdir/configure.gnu"; then
      echo &&
      $SHELL "$ac_srcdir/configure.gnu" --help=recursive
    elif test -f "$ac_srcdir/configure"; then
      echo &&
      $SHELL "$ac_srcdir/configure" --help=recursive
    else
      $as_echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
    fi || ac_status=$?
    cd "$ac_pwd" || { ac_status=$?; break; }
  done
fi

test -n "$ac_init_help" && exit $ac_status
if $ac_init_version; then
  cat <<\_ACEOF
Open MPI configure 1.4.5
generated by GNU Autoconf 2.67

Copyright (C) 2010 Free Software Foundation, Inc.
This configure script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it.
_ACEOF
  exit
fi

## ------------------------ ##
## Autoconf initialization. ##
## ------------------------ ##

# ac_fn_c_try_compile LINENO
# --------------------------
# Try to compile conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_c_try_compile

# ac_fn_c_try_cpp LINENO
# ----------------------
# Try to preprocess conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_cpp ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } > conftest.i && {
	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
	 test ! -s conftest.err
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

    ac_retval=1
fi
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_c_try_cpp

# ac_fn_c_try_run LINENO
# ----------------------
# Try to link conftest.$ac_ext, and return whether this succeeded. Assumes
# that executables *can* be run.
ac_fn_c_try_run ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then :
  ac_retval=0
else
  $as_echo "$as_me: program exited with status $ac_status" >&5
       $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

       ac_retval=$ac_status
fi
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_c_try_run

# ac_fn_c_try_link LINENO
# -----------------------
# Try to link conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 $as_test_x conftest$ac_exeext
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_c_try_link

# ac_fn_c_check_type LINENO TYPE VAR INCLUDES
# -------------------------------------------
# Tests whether TYPE exists after having included INCLUDES, setting cache
# variable VAR accordingly.
ac_fn_c_check_type ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval "test \"\${$3+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  eval "$3=no"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
if (sizeof ($2))
	 return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
if (sizeof (($2)))
	    return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

else
  eval "$3=yes"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}

} # ac_fn_c_check_type

# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES
# -------------------------------------------------------
# Tests whether HEADER exists and can be compiled using the include files in
# INCLUDES, setting the cache variable VAR accordingly.
ac_fn_c_check_header_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval "test \"\${$3+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#include <$2>
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  eval "$3=yes"
else
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}

} # ac_fn_c_check_header_compile

# ac_fn_c_compute_int LINENO EXPR VAR INCLUDES
# --------------------------------------------
# Tries to find the compile-time value of EXPR in a program that includes
# INCLUDES, setting VAR accordingly. Returns whether the value could be
# computed
ac_fn_c_compute_int ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if test "$cross_compiling" = yes; then
    # Depending upon the size, compute the lo and hi bounds.
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) >= 0)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_lo=0 ac_mid=0
  while :; do
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) <= $ac_mid)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_hi=$ac_mid; break
else
  as_fn_arith $ac_mid + 1 && ac_lo=$as_val
			if test $ac_lo -le $ac_mid; then
			  ac_lo= ac_hi=
			  break
			fi
			as_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  done
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) < 0)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_hi=-1 ac_mid=-1
  while :; do
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) >= $ac_mid)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_lo=$ac_mid; break
else
  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val
			if test $ac_mid -le $ac_hi; then
			  ac_lo= ac_hi=
			  break
			fi
			as_fn_arith 2 '*' $ac_mid && ac_mid=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  done
else
  ac_lo= ac_hi=
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
# Binary search between lo and hi bounds.
while test "x$ac_lo" != "x$ac_hi"; do
  as_fn_arith '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo && ac_mid=$as_val
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) <= $ac_mid)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_hi=$ac_mid
else
  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
done
case $ac_lo in #((
?*) eval "$3=\$ac_lo"; ac_retval=0 ;;
'') ac_retval=1 ;;
esac
  else
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
static long int longval () { return $2; }
static unsigned long int ulongval () { return $2; }
#include <stdio.h>
#include <stdlib.h>
int
main ()
{

  FILE *f = fopen ("conftest.val", "w");
  if (! f)
    return 1;
  if (($2) < 0)
    {
      long int i = longval ();
      if (i != ($2))
	return 1;
      fprintf (f, "%ld", i);
    }
  else
    {
      unsigned long int i = ulongval ();
      if (i != ($2))
	return 1;
      fprintf (f, "%lu", i);
    }
  /* Do not output a trailing newline, as this causes \r\n confusion
     on some platforms.  */
  return ferror (f) || fclose (f) != 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  echo >>conftest.val; read $3 <conftest.val; ac_retval=0
else
  ac_retval=1
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
rm -f conftest.val

  fi
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_c_compute_int

# ac_fn_cxx_try_compile LINENO
# ----------------------------
# Try to compile conftest.$ac_ext, and return whether this succeeded.
ac_fn_cxx_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_cxx_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_cxx_try_compile

# ac_fn_cxx_try_cpp LINENO
# ------------------------
# Try to preprocess conftest.$ac_ext, and return whether this succeeded.
ac_fn_cxx_try_cpp ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } > conftest.i && {
	 test -z "$ac_cxx_preproc_warn_flag$ac_cxx_werror_flag" ||
	 test ! -s conftest.err
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

    ac_retval=1
fi
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_cxx_try_cpp

# ac_fn_cxx_try_link LINENO
# -------------------------
# Try to link conftest.$ac_ext, and return whether this succeeded.
ac_fn_cxx_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_cxx_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 $as_test_x conftest$ac_exeext
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_cxx_try_link

# ac_fn_cxx_try_run LINENO
# ------------------------
# Try to link conftest.$ac_ext, and return whether this succeeded. Assumes
# that executables *can* be run.
ac_fn_cxx_try_run ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then :
  ac_retval=0
else
  $as_echo "$as_me: program exited with status $ac_status" >&5
       $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

       ac_retval=$ac_status
fi
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_cxx_try_run

# ac_fn_cxx_compute_int LINENO EXPR VAR INCLUDES
# ----------------------------------------------
# Tries to find the compile-time value of EXPR in a program that includes
# INCLUDES, setting VAR accordingly. Returns whether the value could be
# computed
ac_fn_cxx_compute_int ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if test "$cross_compiling" = yes; then
    # Depending upon the size, compute the lo and hi bounds.
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) >= 0)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_lo=0 ac_mid=0
  while :; do
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) <= $ac_mid)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_hi=$ac_mid; break
else
  as_fn_arith $ac_mid + 1 && ac_lo=$as_val
			if test $ac_lo -le $ac_mid; then
			  ac_lo= ac_hi=
			  break
			fi
			as_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  done
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) < 0)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_hi=-1 ac_mid=-1
  while :; do
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) >= $ac_mid)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_lo=$ac_mid; break
else
  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val
			if test $ac_mid -le $ac_hi; then
			  ac_lo= ac_hi=
			  break
			fi
			as_fn_arith 2 '*' $ac_mid && ac_mid=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  done
else
  ac_lo= ac_hi=
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
# Binary search between lo and hi bounds.
while test "x$ac_lo" != "x$ac_hi"; do
  as_fn_arith '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo && ac_mid=$as_val
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) <= $ac_mid)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_hi=$ac_mid
else
  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
done
case $ac_lo in #((
?*) eval "$3=\$ac_lo"; ac_retval=0 ;;
'') ac_retval=1 ;;
esac
  else
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
static long int longval () { return $2; }
static unsigned long int ulongval () { return $2; }
#include <stdio.h>
#include <stdlib.h>
int
main ()
{

  FILE *f = fopen ("conftest.val", "w");
  if (! f)
    return 1;
  if (($2) < 0)
    {
      long int i = longval ();
      if (i != ($2))
	return 1;
      fprintf (f, "%ld", i);
    }
  else
    {
      unsigned long int i = ulongval ();
      if (i != ($2))
	return 1;
      fprintf (f, "%lu", i);
    }
  /* Do not output a trailing newline, as this causes \r\n confusion
     on some platforms.  */
  return ferror (f) || fclose (f) != 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_run "$LINENO"; then :
  echo >>conftest.val; read $3 <conftest.val; ac_retval=0
else
  ac_retval=1
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
rm -f conftest.val

  fi
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_cxx_compute_int

# ac_fn_f77_try_compile LINENO
# ----------------------------
# Try to compile conftest.$ac_ext, and return whether this succeeded.
ac_fn_f77_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_f77_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_f77_try_compile

# ac_fn_f77_try_link LINENO
# -------------------------
# Try to link conftest.$ac_ext, and return whether this succeeded.
ac_fn_f77_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_f77_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 $as_test_x conftest$ac_exeext
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_f77_try_link

# ac_fn_f77_try_run LINENO
# ------------------------
# Try to link conftest.$ac_ext, and return whether this succeeded. Assumes
# that executables *can* be run.
ac_fn_f77_try_run ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then :
  ac_retval=0
else
  $as_echo "$as_me: program exited with status $ac_status" >&5
       $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

       ac_retval=$ac_status
fi
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_f77_try_run

# ac_fn_fc_try_compile LINENO
# ---------------------------
# Try to compile conftest.$ac_ext, and return whether this succeeded.
ac_fn_fc_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_fc_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_fc_try_compile

# ac_fn_fc_try_link LINENO
# ------------------------
# Try to link conftest.$ac_ext, and return whether this succeeded.
ac_fn_fc_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_fc_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 $as_test_x conftest$ac_exeext
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_fc_try_link

# ac_fn_fc_try_run LINENO
# -----------------------
# Try to link conftest.$ac_ext, and return whether this succeeded. Assumes
# that executables *can* be run.
ac_fn_fc_try_run ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then :
  ac_retval=0
else
  $as_echo "$as_me: program exited with status $ac_status" >&5
       $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

       ac_retval=$ac_status
fi
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
  as_fn_set_status $ac_retval

} # ac_fn_fc_try_run

# ac_fn_c_check_header_mongrel LINENO HEADER VAR INCLUDES
# -------------------------------------------------------
# Tests whether HEADER exists, giving a warning if it cannot be compiled using
# the include files in INCLUDES and setting the cache variable VAR
# accordingly.
ac_fn_c_check_header_mongrel ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if eval "test \"\${$3+set}\"" = set; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval "test \"\${$3+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
else
  # Is the header compilable?
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking $2 usability" >&5
$as_echo_n "checking $2 usability... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#include <$2>
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_header_compiler=yes
else
  ac_header_compiler=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_header_compiler" >&5
$as_echo "$ac_header_compiler" >&6; }

# Is the header present?
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking $2 presence" >&5
$as_echo_n "checking $2 presence... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <$2>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  ac_header_preproc=yes
else
  ac_header_preproc=no
fi
rm -f conftest.err conftest.i conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_header_preproc" >&5
$as_echo "$ac_header_preproc" >&6; }

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in #((
  yes:no: )
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: accepted by the compiler, rejected by the preprocessor!" >&5
$as_echo "$as_me: WARNING: $2: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result" >&5
$as_echo "$as_me: WARNING: $2: proceeding with the compiler's result" >&2;}
    ;;
  no:yes:* )
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: present but cannot be compiled" >&5
$as_echo "$as_me: WARNING: $2: present but cannot be compiled" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2:     check for missing prerequisite headers?" >&5
$as_echo "$as_me: WARNING: $2:     check for missing prerequisite headers?" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: see the Autoconf documentation" >&5
$as_echo "$as_me: WARNING: $2: see the Autoconf documentation" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&5
$as_echo "$as_me: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result" >&5
$as_echo "$as_me: WARNING: $2: proceeding with the compiler's result" >&2;}
( $as_echo "## ------------------------------------------------------ ##
## Report this to http://www.open-mpi.org/community/help/ ##
## ------------------------------------------------------ ##"
     ) | sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval "test \"\${$3+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  eval "$3=\$ac_header_compiler"
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
fi
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}

} # ac_fn_c_check_header_mongrel

# ac_fn_c_check_decl LINENO SYMBOL VAR INCLUDES
# ---------------------------------------------
# Tests whether SYMBOL is declared in INCLUDES, setting cache variable VAR
# accordingly.
ac_fn_c_check_decl ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  as_decl_name=`echo $2|sed 's/ *(.*//'`
  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $as_decl_name is declared" >&5
$as_echo_n "checking whether $as_decl_name is declared... " >&6; }
if eval "test \"\${$3+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
#ifndef $as_decl_name
#ifdef __cplusplus
  (void) $as_decl_use;
#else
  (void) $as_decl_name;
#endif
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  eval "$3=yes"
else
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}

} # ac_fn_c_check_decl

# ac_fn_c_check_member LINENO AGGR MEMBER VAR INCLUDES
# ----------------------------------------------------
# Tries to find if the field MEMBER exists in type AGGR, after including
# INCLUDES, setting cache variable VAR accordingly.
ac_fn_c_check_member ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2.$3" >&5
$as_echo_n "checking for $2.$3... " >&6; }
if eval "test \"\${$4+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$5
int
main ()
{
static $2 ac_aggr;
if (ac_aggr.$3)
return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  eval "$4=yes"
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$5
int
main ()
{
static $2 ac_aggr;
if (sizeof ac_aggr.$3)
return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  eval "$4=yes"
else
  eval "$4=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
eval ac_res=\$$4
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}

} # ac_fn_c_check_member

# ac_fn_c_check_func LINENO FUNC VAR
# ----------------------------------
# Tests whether FUNC exists, setting the cache variable VAR accordingly
ac_fn_c_check_func ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval "test \"\${$3+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
/* Define $2 to an innocuous variant, in case <limits.h> declares $2.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $2 innocuous_$2

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $2 (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef $2

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char $2 ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined __stub_$2 || defined __stub___$2
choke me
#endif

int
main ()
{
return $2 ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  eval "$3=yes"
else
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}

} # ac_fn_c_check_func
cat >config.log <<_ACEOF
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by Open MPI $as_me 1.4.5, which was
generated by GNU Autoconf 2.67.  Invocation command line was

  $ $0 $@

_ACEOF
exec 5>>config.log
{
cat <<_ASUNAME
## --------- ##
## Platform. ##
## --------- ##

hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`

/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`

/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`

_ASUNAME

as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    $as_echo "PATH: $as_dir"
  done
IFS=$as_save_IFS

} >&5

cat >&5 <<_ACEOF


## ----------- ##
## Core tests. ##
## ----------- ##

_ACEOF


# Keep a trace of the command line.
# Strip out --no-create and --no-recursion so they do not pile up.
# Strip out --silent because we don't want to record it for future runs.
# Also quote any args containing shell meta-characters.
# Make two passes to allow for proper duplicate-argument suppression.
ac_configure_args=
ac_configure_args0=
ac_configure_args1=
ac_must_keep_next=false
for ac_pass in 1 2
do
  for ac_arg
  do
    case $ac_arg in
    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil)
      continue ;;
    *\'*)
      ac_arg=`$as_echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    case $ac_pass in
    1) as_fn_append ac_configure_args0 " '$ac_arg'" ;;
    2)
      as_fn_append ac_configure_args1 " '$ac_arg'"
      if test $ac_must_keep_next = true; then
	ac_must_keep_next=false # Got value, back to normal.
      else
	case $ac_arg in
	  *=* | --config-cache | -C | -disable-* | --disable-* \
	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
	  | -with-* | --with-* | -without-* | --without-* | --x)
	    case "$ac_configure_args0 " in
	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
	    esac
	    ;;
	  -* ) ac_must_keep_next=true ;;
	esac
      fi
      as_fn_append ac_configure_args " '$ac_arg'"
      ;;
    esac
  done
done
{ ac_configure_args0=; unset ac_configure_args0;}
{ ac_configure_args1=; unset ac_configure_args1;}

# When interrupted or exit'd, cleanup temporary files, and complete
# config.log.  We remove comments because anyway the quotes in there
# would cause problems or look ugly.
# WARNING: Use '\'' to represent an apostrophe within the trap.
# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
trap 'exit_status=$?
  # Save into config.log some information that might help in debugging.
  {
    echo

    $as_echo "## ---------------- ##
## Cache variables. ##
## ---------------- ##"
    echo
    # The following way of writing the cache mishandles newlines in values,
(
  for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
$as_echo "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
      *) { eval $ac_var=; unset $ac_var;} ;;
      esac ;;
    esac
  done
  (set) 2>&1 |
    case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      sed -n \
	"s/'\''/'\''\\\\'\'''\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
      ;; #(
    *)
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
      ;;
    esac |
    sort
)
    echo

    $as_echo "## ----------------- ##
## Output variables. ##
## ----------------- ##"
    echo
    for ac_var in $ac_subst_vars
    do
      eval ac_val=\$$ac_var
      case $ac_val in
      *\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
      esac
      $as_echo "$ac_var='\''$ac_val'\''"
    done | sort
    echo

    if test -n "$ac_subst_files"; then
      $as_echo "## ------------------- ##
## File substitutions. ##
## ------------------- ##"
      echo
      for ac_var in $ac_subst_files
      do
	eval ac_val=\$$ac_var
	case $ac_val in
	*\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
	esac
	$as_echo "$ac_var='\''$ac_val'\''"
      done | sort
      echo
    fi

    if test -s confdefs.h; then
      $as_echo "## ----------- ##
## confdefs.h. ##
## ----------- ##"
      echo
      cat confdefs.h
      echo
    fi
    test "$ac_signal" != 0 &&
      $as_echo "$as_me: caught signal $ac_signal"
    $as_echo "$as_me: exit $exit_status"
  } >&5
  rm -f core *.core core.conftest.* &&
    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
    exit $exit_status
' 0
for ac_signal in 1 2 13 15; do
  trap 'ac_signal='$ac_signal'; as_fn_exit 1' $ac_signal
done
ac_signal=0

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -f -r conftest* confdefs.h

$as_echo "/* confdefs.h */" > confdefs.h

# Predefined preprocessor variables.

cat >>confdefs.h <<_ACEOF
#define PACKAGE_NAME "$PACKAGE_NAME"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_TARNAME "$PACKAGE_TARNAME"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_VERSION "$PACKAGE_VERSION"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_STRING "$PACKAGE_STRING"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_BUGREPORT "$PACKAGE_BUGREPORT"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_URL "$PACKAGE_URL"
_ACEOF


# Let the site file select an alternate cache file if it wants to.
# Prefer an explicitly selected file to automatically selected ones.
ac_site_file1=NONE
ac_site_file2=NONE
if test -n "$CONFIG_SITE"; then
  # We do not want a PATH search for config.site.
  case $CONFIG_SITE in #((
    -*)  ac_site_file1=./$CONFIG_SITE;;
    */*) ac_site_file1=$CONFIG_SITE;;
    *)   ac_site_file1=./$CONFIG_SITE;;
  esac
elif test "x$prefix" != xNONE; then
  ac_site_file1=$prefix/share/config.site
  ac_site_file2=$prefix/etc/config.site
else
  ac_site_file1=$ac_default_prefix/share/config.site
  ac_site_file2=$ac_default_prefix/etc/config.site
fi
for ac_site_file in "$ac_site_file1" "$ac_site_file2"
do
  test "x$ac_site_file" = xNONE && continue
  if test /dev/null != "$ac_site_file" && test -r "$ac_site_file"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file" >&5
$as_echo "$as_me: loading site script $ac_site_file" >&6;}
    sed 's/^/| /' "$ac_site_file" >&5
    . "$ac_site_file" \
      || { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "failed to load site script $ac_site_file
See \`config.log' for more details" "$LINENO" 5 ; }
  fi
done

if test -r "$cache_file"; then
  # Some versions of bash will fail to source /dev/null (special files
  # actually), so we avoid doing that.  DJGPP emulates it as a regular file.
  if test /dev/null != "$cache_file" && test -f "$cache_file"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: loading cache $cache_file" >&5
$as_echo "$as_me: loading cache $cache_file" >&6;}
    case $cache_file in
      [\\/]* | ?:[\\/]* ) . "$cache_file";;
      *)                      . "./$cache_file";;
    esac
  fi
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: creating cache $cache_file" >&5
$as_echo "$as_me: creating cache $cache_file" >&6;}
  >$cache_file
fi

# Check that the precious variables saved in the cache have kept the same
# value.
ac_cache_corrupted=false
for ac_var in $ac_precious_vars; do
  eval ac_old_set=\$ac_cv_env_${ac_var}_set
  eval ac_new_set=\$ac_env_${ac_var}_set
  eval ac_old_val=\$ac_cv_env_${ac_var}_value
  eval ac_new_val=\$ac_env_${ac_var}_value
  case $ac_old_set,$ac_new_set in
    set,)
      { $as_echo "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
$as_echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,set)
      { $as_echo "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was not set in the previous run" >&5
$as_echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,);;
    *)
      if test "x$ac_old_val" != "x$ac_new_val"; then
	# differences in whitespace do not lead to failure.
	ac_old_val_w=`echo x $ac_old_val`
	ac_new_val_w=`echo x $ac_new_val`
	if test "$ac_old_val_w" != "$ac_new_val_w"; then
	  { $as_echo "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' has changed since the previous run:" >&5
$as_echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
	  ac_cache_corrupted=:
	else
	  { $as_echo "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&5
$as_echo "$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&2;}
	  eval $ac_var=\$ac_old_val
	fi
	{ $as_echo "$as_me:${as_lineno-$LINENO}:   former value:  \`$ac_old_val'" >&5
$as_echo "$as_me:   former value:  \`$ac_old_val'" >&2;}
	{ $as_echo "$as_me:${as_lineno-$LINENO}:   current value: \`$ac_new_val'" >&5
$as_echo "$as_me:   current value: \`$ac_new_val'" >&2;}
      fi;;
  esac
  # Pass precious variables to config.status.
  if test "$ac_new_set" = set; then
    case $ac_new_val in
    *\'*) ac_arg=$ac_var=`$as_echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
    *) ac_arg=$ac_var=$ac_new_val ;;
    esac
    case " $ac_configure_args " in
      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
      *) as_fn_append ac_configure_args " '$ac_arg'" ;;
    esac
  fi
done
if $ac_cache_corrupted; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
$as_echo "$as_me: error: changes in the environment can compromise the build" >&2;}
  as_fn_error $? "run \`make distclean' and/or \`rm $cache_file' and start over" "$LINENO" 5
fi
## -------------------- ##
## Main body of script. ##
## -------------------- ##

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu



ac_aux_dir=
for ac_dir in config "$srcdir"/config; do
  if test -f "$ac_dir/install-sh"; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f "$ac_dir/install.sh"; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  elif test -f "$ac_dir/shtool"; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/shtool install -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  as_fn_error $? "cannot find install-sh, install.sh, or shtool in config \"$srcdir\"/config" "$LINENO" 5
fi

# These three variables are undocumented and unsupported,
# and are intended to be withdrawn in a future Autoconf release.
# They can cause serious problems if a builder's source tree is in a directory
# whose full name contains unusual characters.
ac_config_guess="$SHELL $ac_aux_dir/config.guess"  # Please don't use this var.
ac_config_sub="$SHELL $ac_aux_dir/config.sub"  # Please don't use this var.
ac_configure="$SHELL $ac_aux_dir/configure"  # Please don't use this var.




# Get our platform support file.  This has to be done very, very early
# because it twiddles random bits of autoconf


# Check whether --with-platform was given.
if test "${with_platform+set}" = set; then :
  withval=$with_platform;
fi

    if test "$with_platform" = "yes" ; then
        as_fn_error $? "--with-platform argument must include FILE option" "$LINENO" 5
    elif test "$with_platform" = "no" ; then
        as_fn_error $? "--without-platform is not a valid argument" "$LINENO" 5
    elif test "$with_platform" != "" ; then
        # if no path part, check in contrib/platform
        if test "`basename $with_platform`" = "$with_platform" ; then
            if test -r "${srcdir}/contrib/platform/$with_platform" ; then
                with_platform="${srcdir}/contrib/platform/$with_platform"
            fi
        fi

        # make sure file exists
        if test ! -r "$with_platform" ; then
            as_fn_error $? "platform file $with_platform not found" "$LINENO" 5
        fi

        # eval into environment

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:4536: Loading environment file $with_platform, with contents below" >&5
else
    echo Loading environment file $with_platform, with contents below >&5
fi

# 1 is the filename
if test -n "$with_platform" -a -f "$with_platform"; then
    cat $with_platform >&5
fi
        . "$with_platform"

        # see if they left us a name
        if test "$OMPI_PLATFORM_LOADED" != "" ; then
           platform_loaded="$OMPI_PLATFORM_LOADED"
        else
           platform_loaded="$with_platform"
        fi
        echo "Loaded platform arguments for $platform_loaded"

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:4558: Loaded platform arguments for $platform_loaded" >&5
else
    echo Loaded platform arguments for $platform_loaded >&5
fi

        # look for default mca param file

        # setup by getting full pathname for the platform directories
        platform_base="`dirname $with_platform`"
        # get full pathname of where we are so we can return
        platform_savedir="`pwd`"
        # go to where the platform file is located
        cd "$platform_base"
        # get the full path to this location
        platform_file_dir=`pwd`
        # return to where we started
        cd "$platform_savedir"

        # define an alternate default mca param filename
        platform_alt_mca_file="`basename $platform_loaded`.conf"

        # look where platform file is located for platform.conf name
        if test -r "${platform_file_dir}/${platform_alt_mca_file}" ; then
            OPAL_DEFAULT_MCA_PARAM_CONF=$platform_file_dir/$platform_alt_mca_file

            OPAL_PARAM_FROM_PLATFORM="yes"

        # if not, see if a file is there with the default name
        elif test -r "${platform_file_dir}/openmpi-mca-params.conf" ; then
            OPAL_DEFAULT_MCA_PARAM_CONF=$platform_file_dir/openmpi-mca-params.conf

            OPAL_PARAM_FROM_PLATFORM="yes"

        # if not, then just use the default
        else
            OPAL_DEFAULT_MCA_PARAM_CONF=openmpi-mca-params.conf

            OPAL_PARAM_FROM_PLATFORM="no"

        fi

    else
        OPAL_DEFAULT_MCA_PARAM_CONF=openmpi-mca-params.conf

    fi


#
# Init automake
#
am__api_version='1.11'

# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AmigaOS /C/install, which installs bootblocks on floppy discs
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# OS/2's system install, which has a completely different semantic
# ./install, which can be erroneously created by make from ./install.sh.
# Reject install programs that cannot install multiple files.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for a BSD-compatible install" >&5
$as_echo_n "checking for a BSD-compatible install... " >&6; }
if test -z "$INSTALL"; then
if test "${ac_cv_path_install+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    # Account for people who put trailing slashes in PATH elements.
case $as_dir/ in #((
  ./ | .// | /[cC]/* | \
  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
  ?:[\\/]os2[\\/]install[\\/]* | ?:[\\/]OS2[\\/]INSTALL[\\/]* | \
  /usr/ucb/* ) ;;
  *)
    # OSF1 and SCO ODT 3.0 have their own names for install.
    # Don't use installbsd from OSF since it installs stuff as root
    # by default.
    for ac_prog in ginstall scoinst install; do
      for ac_exec_ext in '' $ac_executable_extensions; do
	if { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_test_x "$as_dir/$ac_prog$ac_exec_ext"; }; then
	  if test $ac_prog = install &&
	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  elif test $ac_prog = install &&
	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # program-specific install script used by HP pwplus--don't use.
	    :
	  else
	    rm -rf conftest.one conftest.two conftest.dir
	    echo one > conftest.one
	    echo two > conftest.two
	    mkdir conftest.dir
	    if "$as_dir/$ac_prog$ac_exec_ext" -c conftest.one conftest.two "`pwd`/conftest.dir" &&
	      test -s conftest.one && test -s conftest.two &&
	      test -s conftest.dir/conftest.one &&
	      test -s conftest.dir/conftest.two
	    then
	      ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
	      break 3
	    fi
	  fi
	fi
      done
    done
    ;;
esac

  done
IFS=$as_save_IFS

rm -rf conftest.one conftest.two conftest.dir

fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL=$ac_cv_path_install
  else
    # As a last resort, use the slow shell script.  Don't cache a
    # value for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the value is a relative name.
    INSTALL=$ac_install_sh
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $INSTALL" >&5
$as_echo "$INSTALL" >&6; }

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether build environment is sane" >&5
$as_echo_n "checking whether build environment is sane... " >&6; }
# Just in case
sleep 1
echo timestamp > conftest.file
# Reject unsafe characters in $srcdir or the absolute working directory
# name.  Accept space and tab only in the latter.
am_lf='
'
case `pwd` in
  *[\\\"\#\$\&\'\`$am_lf]*)
    as_fn_error $? "unsafe absolute working directory name" "$LINENO" 5 ;;
esac
case $srcdir in
  *[\\\"\#\$\&\'\`$am_lf\ \	]*)
    as_fn_error $? "unsafe srcdir value: \`$srcdir'" "$LINENO" 5 ;;
esac

# Do `set' in a subshell so we don't clobber the current shell's
# arguments.  Must try -L first in case configure is actually a
# symlink; some systems play weird games with the mod time of symlinks
# (eg FreeBSD returns the mod time of the symlink's containing
# directory).
if (
   set X `ls -Lt "$srcdir/configure" conftest.file 2> /dev/null`
   if test "$*" = "X"; then
      # -L didn't work.
      set X `ls -t "$srcdir/configure" conftest.file`
   fi
   rm -f conftest.file
   if test "$*" != "X $srcdir/configure conftest.file" \
      && test "$*" != "X conftest.file $srcdir/configure"; then

      # If neither matched, then we have a broken ls.  This can happen
      # if, for instance, CONFIG_SHELL is bash and it inherits a
      # broken ls alias from the environment.  This has actually
      # happened.  Such a system could not be considered "sane".
      as_fn_error $? "ls -t appears to fail.  Make sure there is not a broken
alias in your environment" "$LINENO" 5
   fi

   test "$2" = conftest.file
   )
then
   # Ok.
   :
else
   as_fn_error $? "newly created file is older than distributed files!
Check your system clock" "$LINENO" 5
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
test "$program_prefix" != NONE &&
  program_transform_name="s&^&$program_prefix&;$program_transform_name"
# Use a double $ so make ignores it.
test "$program_suffix" != NONE &&
  program_transform_name="s&\$&$program_suffix&;$program_transform_name"
# Double any \ or $.
# By default was `s,x,x', remove it if useless.
ac_script='s/[\\$]/&&/g;s/;s,x,x,$//'
program_transform_name=`$as_echo "$program_transform_name" | sed "$ac_script"`

# expand $ac_aux_dir to an absolute path
am_aux_dir=`cd $ac_aux_dir && pwd`

if test x"${MISSING+set}" != xset; then
  case $am_aux_dir in
  *\ * | *\	*)
    MISSING="\${SHELL} \"$am_aux_dir/missing\"" ;;
  *)
    MISSING="\${SHELL} $am_aux_dir/missing" ;;
  esac
fi
# Use eval to expand $SHELL
if eval "$MISSING --run true"; then
  am_missing_run="$MISSING --run "
else
  am_missing_run=
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: \`missing' script is too old or missing" >&5
$as_echo "$as_me: WARNING: \`missing' script is too old or missing" >&2;}
fi

if test x"${install_sh}" != xset; then
  case $am_aux_dir in
  *\ * | *\	*)
    install_sh="\${SHELL} '$am_aux_dir/install-sh'" ;;
  *)
    install_sh="\${SHELL} $am_aux_dir/install-sh"
  esac
fi

# Installed binaries are usually stripped using `strip' when the user
# run `make install-strip'.  However `strip' might not be the right
# tool to use in cross-compilation environments, therefore Automake
# will honor the `STRIP' environment variable to overrule this program.
if test "$cross_compiling" != no; then
  if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}strip", so it can be a program name with args.
set dummy ${ac_tool_prefix}strip; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_STRIP+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$STRIP"; then
  ac_cv_prog_STRIP="$STRIP" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_STRIP="${ac_tool_prefix}strip"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
STRIP=$ac_cv_prog_STRIP
if test -n "$STRIP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $STRIP" >&5
$as_echo "$STRIP" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_STRIP"; then
  ac_ct_STRIP=$STRIP
  # Extract the first word of "strip", so it can be a program name with args.
set dummy strip; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_ac_ct_STRIP+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_STRIP"; then
  ac_cv_prog_ac_ct_STRIP="$ac_ct_STRIP" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_STRIP="strip"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
if test -n "$ac_ct_STRIP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_STRIP" >&5
$as_echo "$ac_ct_STRIP" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi

  if test "x$ac_ct_STRIP" = x; then
    STRIP=":"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    STRIP=$ac_ct_STRIP
  fi
else
  STRIP="$ac_cv_prog_STRIP"
fi

fi
INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for a thread-safe mkdir -p" >&5
$as_echo_n "checking for a thread-safe mkdir -p... " >&6; }
if test -z "$MKDIR_P"; then
  if test "${ac_cv_path_mkdir+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in mkdir gmkdir; do
	 for ac_exec_ext in '' $ac_executable_extensions; do
	   { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_test_x "$as_dir/$ac_prog$ac_exec_ext"; } || continue
	   case `"$as_dir/$ac_prog$ac_exec_ext" --version 2>&1` in #(
	     'mkdir (GNU coreutils) '* | \
	     'mkdir (coreutils) '* | \
	     'mkdir (fileutils) '4.1*)
	       ac_cv_path_mkdir=$as_dir/$ac_prog$ac_exec_ext
	       break 3;;
	   esac
	 done
       done
  done
IFS=$as_save_IFS

fi

  test -d ./--version && rmdir ./--version
  if test "${ac_cv_path_mkdir+set}" = set; then
    MKDIR_P="$ac_cv_path_mkdir -p"
  else
    # As a last resort, use the slow shell script.  Don't cache a
    # value for MKDIR_P within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the value is a relative name.
    MKDIR_P="$ac_install_sh -d"
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $MKDIR_P" >&5
$as_echo "$MKDIR_P" >&6; }

mkdir_p="$MKDIR_P"
case $mkdir_p in
  [\\/$]* | ?:[\\/]*) ;;
  */*) mkdir_p="\$(top_builddir)/$mkdir_p" ;;
esac

for ac_prog in gawk mawk nawk awk
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_AWK+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$AWK"; then
  ac_cv_prog_AWK="$AWK" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_AWK="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
AWK=$ac_cv_prog_AWK
if test -n "$AWK"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $AWK" >&5
$as_echo "$AWK" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$AWK" && break
done

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \$(MAKE)" >&5
$as_echo_n "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
set x ${MAKE-make}
ac_make=`$as_echo "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat >conftest.make <<\_ACEOF
SHELL = /bin/sh
all:
	@echo '@@@%%%=$(MAKE)=@@@%%%'
_ACEOF
# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
case `${MAKE-make} -f conftest.make 2>/dev/null` in
  *@@@%%%=?*=@@@%%%*)
    eval ac_cv_prog_make_${ac_make}_set=yes;;
  *)
    eval ac_cv_prog_make_${ac_make}_set=no;;
esac
rm -f conftest.make
fi
if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
  SET_MAKE=
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  SET_MAKE="MAKE=${MAKE-make}"
fi

rm -rf .tst 2>/dev/null
mkdir .tst 2>/dev/null
if test -d .tst; then
  am__leading_dot=.
else
  am__leading_dot=_
fi
rmdir .tst 2>/dev/null

if test "`cd $srcdir && pwd`" != "`pwd`"; then
  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output
  # is not polluted with repeated "-I."
  am__isrc=' -I$(srcdir)'
  # test to see if srcdir already configured
  if test -f $srcdir/config.status; then
    as_fn_error $? "source directory already configured; run \"make distclean\" there first" "$LINENO" 5
  fi
fi

# test whether we have cygpath
if test -z "$CYGPATH_W"; then
  if (cygpath --version) >/dev/null 2>/dev/null; then
    CYGPATH_W='cygpath -w'
  else
    CYGPATH_W=echo
  fi
fi


# Define the identity of the package.
 PACKAGE='openmpi'
 VERSION='1.4.5'


# Some tools Automake needs.

ACLOCAL=${ACLOCAL-"${am_missing_run}aclocal-${am__api_version}"}


AUTOCONF=${AUTOCONF-"${am_missing_run}autoconf"}


AUTOMAKE=${AUTOMAKE-"${am_missing_run}automake-${am__api_version}"}


AUTOHEADER=${AUTOHEADER-"${am_missing_run}autoheader"}


MAKEINFO=${MAKEINFO-"${am_missing_run}makeinfo"}

# We need awk for the "check" target.  The system "awk" is bad on
# some platforms.
# Always define AMTAR for backward compatibility.

AMTAR=${AMTAR-"${am_missing_run}tar"}


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking how to create a ustar tar archive" >&5
$as_echo_n "checking how to create a ustar tar archive... " >&6; }
# Loop over all known methods to create a tar archive until one works.
_am_tools='gnutar plaintar pax cpio none'
_am_tools=${am_cv_prog_tar_ustar-$_am_tools}
# Do not fold the above two line into one, because Tru64 sh and
# Solaris sh will not grok spaces in the rhs of `-'.
for _am_tool in $_am_tools
do
  case $_am_tool in
  gnutar)
    for _am_tar in tar gnutar gtar;
    do
      { echo "$as_me:$LINENO: $_am_tar --version" >&5
   ($_am_tar --version) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && break
    done
    am__tar="$_am_tar --format=ustar -chf - "'"$$tardir"'
    am__tar_="$_am_tar --format=ustar -chf - "'"$tardir"'
    am__untar="$_am_tar -xf -"
    ;;
  plaintar)
    # Must skip GNU tar: if it does not support --format= it doesn't create
    # ustar tarball either.
    (tar --version) >/dev/null 2>&1 && continue
    am__tar='tar chf - "$$tardir"'
    am__tar_='tar chf - "$tardir"'
    am__untar='tar xf -'
    ;;
  pax)
    am__tar='pax -L -x ustar -w "$$tardir"'
    am__tar_='pax -L -x ustar -w "$tardir"'
    am__untar='pax -r'
    ;;
  cpio)
    am__tar='find "$$tardir" -print | cpio -o -H ustar -L'
    am__tar_='find "$tardir" -print | cpio -o -H ustar -L'
    am__untar='cpio -i -H ustar -d'
    ;;
  none)
    am__tar=false
    am__tar_=false
    am__untar=false
    ;;
  esac

  # If the value was cached, stop now.  We just wanted to have am__tar
  # and am__untar set.
  test -n "${am_cv_prog_tar_ustar}" && break

  # tar/untar a dummy directory, and stop if the command works
  rm -rf conftest.dir
  mkdir conftest.dir
  echo GrepMe > conftest.dir/file
  { echo "$as_me:$LINENO: tardir=conftest.dir && eval $am__tar_ >conftest.tar" >&5
   (tardir=conftest.dir && eval $am__tar_ >conftest.tar) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
  rm -rf conftest.dir
  if test -s conftest.tar; then
    { echo "$as_me:$LINENO: $am__untar <conftest.tar" >&5
   ($am__untar <conftest.tar) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
    grep GrepMe conftest.dir/file >/dev/null 2>&1 && break
  fi
done
rm -rf conftest.dir

if test "${am_cv_prog_tar_ustar+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  am_cv_prog_tar_ustar=$_am_tool
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_prog_tar_ustar" >&5
$as_echo "$am_cv_prog_tar_ustar" >&6; }








# Do we have AS_VAR_COPY?


# Make configure depend on the VERSION file, since it's used in AC_INIT
CONFIGURE_DEPENDENCIES='$(top_srcdir)/VERSION'


#
# Start it up
#



# Some helper script functions.  Unfortunately, we cannot use  kinds
# of arugments here because of the m4 substitution.  So we have to set
# special variable names before invoking the function.  :-\

ompi_show_title() {
  cat <<EOF

============================================================================
== ${1}
============================================================================
EOF
}


ompi_show_subtitle() {
  cat <<EOF

*** ${1}
EOF
}


ompi_show_subsubtitle() {
  cat <<EOF

+++ ${1}
EOF
}

ompi_show_subsubsubtitle() {
  cat <<EOF

--- ${1}
EOF
}

#
# Save some stats about this build
#

OMPI_CONFIGURE_USER="`whoami`"
OMPI_CONFIGURE_HOST="`hostname | head -n 1`"
OMPI_CONFIGURE_DATE="`date`"

#
# Save these details so that they can be used in ompi_info later
#



ompi_show_title "Configuring Open MPI"

ompi_show_subtitle "Checking versions"

# Get the version of OMPI that we are installing



    : ${ompi_ver_need_svn=1}
    : ${srcdir=.}
    : ${svnversion_result=-1}

        if test -f "$srcdir/VERSION"; then
        ompi_vers=`sed -n "
	t clear
	: clear
	s/^major/OMPI_MAJOR_VERSION/
	s/^minor/OMPI_MINOR_VERSION/
	s/^release/OMPI_RELEASE_VERSION/
	s/^greek/OMPI_GREEK_VERSION/
	s/^want_svn/OMPI_WANT_SVN/
	s/^svn_r/OMPI_SVN_R/
	s/^date/OMPI_RELEASE_DATE/
	t print
	b
	: print
	p" < "$srcdir/VERSION"`
	eval "$ompi_vers"

        # Only print release version if it isn't 0
        if test $OMPI_RELEASE_VERSION -ne 0 ; then
            OMPI_VERSION="$OMPI_MAJOR_VERSION.$OMPI_MINOR_VERSION.$OMPI_RELEASE_VERSION"
        else
            OMPI_VERSION="$OMPI_MAJOR_VERSION.$OMPI_MINOR_VERSION"
        fi
        OMPI_VERSION="${OMPI_VERSION}${OMPI_GREEK_VERSION}"
        OMPI_BASE_VERSION=$OMPI_VERSION

        if test $OMPI_WANT_SVN -eq 1 && test $ompi_ver_need_svn -eq 1 ; then
            if test "$svnversion_result" != "-1" ; then
                OMPI_SVN_R=$svnversion_result
            fi
            if test "$OMPI_SVN_R" = "-1" ; then
                { $as_echo "$as_me:${as_lineno-$LINENO}: checking for SVN version" >&5
$as_echo_n "checking for SVN version... " >&6; }
                if test -d "$srcdir/.svn" ; then
                    OMPI_SVN_R=r`svnversion "$srcdir"`
                elif test -d "$srcdir/.hg" ; then
                    OMPI_SVN_R=hg`hg -v -R "$srcdir" tip | grep changeset | cut -d: -f3`
                fi
                if test "OMPI_SVN_R" = ""; then
                    OMPI_SVN_R=svn`date '+%m%d%Y'`
                fi
                { $as_echo "$as_me:${as_lineno-$LINENO}: result: done" >&5
$as_echo "done" >&6; }
            fi
            OMPI_VERSION="${OMPI_VERSION}${OMPI_SVN_R}"
        fi
    fi











    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Open MPI version" >&5
$as_echo_n "checking Open MPI version... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $OMPI_VERSION" >&5
$as_echo "$OMPI_VERSION" >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Open MPI release date" >&5
$as_echo_n "checking Open MPI release date... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $OMPI_RELEASE_DATE" >&5
$as_echo "$OMPI_RELEASE_DATE" >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Open MPI Subversion repository version" >&5
$as_echo_n "checking Open MPI Subversion repository version... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $OMPI_SVN_R" >&5
$as_echo "$OMPI_SVN_R" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_MAJOR_VERSION $OMPI_MAJOR_VERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_MINOR_VERSION $OMPI_MINOR_VERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_RELEASE_VERSION $OMPI_RELEASE_VERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_GREEK_VERSION "$OMPI_GREEK_VERSION"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_VERSION "$OMPI_RELEASE_VERSION"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_RELEASE_DATE "$OMPI_RELEASE_DATE"
_ACEOF


    ac_config_files="$ac_config_files ompi/include/ompi/version.h"





    : ${ompi_ver_need_svn=1}
    : ${srcdir=.}
    : ${svnversion_result=-1}

        if test -f "$srcdir/VERSION"; then
        ompi_vers=`sed -n "
	t clear
	: clear
	s/^major/ORTE_MAJOR_VERSION/
	s/^minor/ORTE_MINOR_VERSION/
	s/^release/ORTE_RELEASE_VERSION/
	s/^greek/ORTE_GREEK_VERSION/
	s/^want_svn/ORTE_WANT_SVN/
	s/^svn_r/ORTE_SVN_R/
	s/^date/ORTE_RELEASE_DATE/
	t print
	b
	: print
	p" < "$srcdir/VERSION"`
	eval "$ompi_vers"

        # Only print release version if it isn't 0
        if test $ORTE_RELEASE_VERSION -ne 0 ; then
            ORTE_VERSION="$ORTE_MAJOR_VERSION.$ORTE_MINOR_VERSION.$ORTE_RELEASE_VERSION"
        else
            ORTE_VERSION="$ORTE_MAJOR_VERSION.$ORTE_MINOR_VERSION"
        fi
        ORTE_VERSION="${ORTE_VERSION}${ORTE_GREEK_VERSION}"
        ORTE_BASE_VERSION=$ORTE_VERSION

        if test $ORTE_WANT_SVN -eq 1 && test $ompi_ver_need_svn -eq 1 ; then
            if test "$svnversion_result" != "-1" ; then
                ORTE_SVN_R=$svnversion_result
            fi
            if test "$ORTE_SVN_R" = "-1" ; then
                { $as_echo "$as_me:${as_lineno-$LINENO}: checking for SVN version" >&5
$as_echo_n "checking for SVN version... " >&6; }
                if test -d "$srcdir/.svn" ; then
                    ORTE_SVN_R=r`svnversion "$srcdir"`
                elif test -d "$srcdir/.hg" ; then
                    ORTE_SVN_R=hg`hg -v -R "$srcdir" tip | grep changeset | cut -d: -f3`
                fi
                if test "ORTE_SVN_R" = ""; then
                    ORTE_SVN_R=svn`date '+%m%d%Y'`
                fi
                { $as_echo "$as_me:${as_lineno-$LINENO}: result: done" >&5
$as_echo "done" >&6; }
            fi
            ORTE_VERSION="${ORTE_VERSION}${ORTE_SVN_R}"
        fi
    fi











    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Open Run-Time Environment version" >&5
$as_echo_n "checking Open Run-Time Environment version... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ORTE_VERSION" >&5
$as_echo "$ORTE_VERSION" >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Open Run-Time Environment release date" >&5
$as_echo_n "checking Open Run-Time Environment release date... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ORTE_RELEASE_DATE" >&5
$as_echo "$ORTE_RELEASE_DATE" >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Open Run-Time Environment Subversion repository version" >&5
$as_echo_n "checking Open Run-Time Environment Subversion repository version... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ORTE_SVN_R" >&5
$as_echo "$ORTE_SVN_R" >&6; }


cat >>confdefs.h <<_ACEOF
#define ORTE_MAJOR_VERSION $ORTE_MAJOR_VERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define ORTE_MINOR_VERSION $ORTE_MINOR_VERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define ORTE_RELEASE_VERSION $ORTE_RELEASE_VERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define ORTE_GREEK_VERSION "$ORTE_GREEK_VERSION"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define ORTE_VERSION "$ORTE_RELEASE_VERSION"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define ORTE_RELEASE_DATE "$ORTE_RELEASE_DATE"
_ACEOF


    ac_config_files="$ac_config_files orte/include/orte/version.h"





    : ${ompi_ver_need_svn=1}
    : ${srcdir=.}
    : ${svnversion_result=-1}

        if test -f "$srcdir/VERSION"; then
        ompi_vers=`sed -n "
	t clear
	: clear
	s/^major/OPAL_MAJOR_VERSION/
	s/^minor/OPAL_MINOR_VERSION/
	s/^release/OPAL_RELEASE_VERSION/
	s/^greek/OPAL_GREEK_VERSION/
	s/^want_svn/OPAL_WANT_SVN/
	s/^svn_r/OPAL_SVN_R/
	s/^date/OPAL_RELEASE_DATE/
	t print
	b
	: print
	p" < "$srcdir/VERSION"`
	eval "$ompi_vers"

        # Only print release version if it isn't 0
        if test $OPAL_RELEASE_VERSION -ne 0 ; then
            OPAL_VERSION="$OPAL_MAJOR_VERSION.$OPAL_MINOR_VERSION.$OPAL_RELEASE_VERSION"
        else
            OPAL_VERSION="$OPAL_MAJOR_VERSION.$OPAL_MINOR_VERSION"
        fi
        OPAL_VERSION="${OPAL_VERSION}${OPAL_GREEK_VERSION}"
        OPAL_BASE_VERSION=$OPAL_VERSION

        if test $OPAL_WANT_SVN -eq 1 && test $ompi_ver_need_svn -eq 1 ; then
            if test "$svnversion_result" != "-1" ; then
                OPAL_SVN_R=$svnversion_result
            fi
            if test "$OPAL_SVN_R" = "-1" ; then
                { $as_echo "$as_me:${as_lineno-$LINENO}: checking for SVN version" >&5
$as_echo_n "checking for SVN version... " >&6; }
                if test -d "$srcdir/.svn" ; then
                    OPAL_SVN_R=r`svnversion "$srcdir"`
                elif test -d "$srcdir/.hg" ; then
                    OPAL_SVN_R=hg`hg -v -R "$srcdir" tip | grep changeset | cut -d: -f3`
                fi
                if test "OPAL_SVN_R" = ""; then
                    OPAL_SVN_R=svn`date '+%m%d%Y'`
                fi
                { $as_echo "$as_me:${as_lineno-$LINENO}: result: done" >&5
$as_echo "done" >&6; }
            fi
            OPAL_VERSION="${OPAL_VERSION}${OPAL_SVN_R}"
        fi
    fi











    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Open Portable Access Layer version" >&5
$as_echo_n "checking Open Portable Access Layer version... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $OPAL_VERSION" >&5
$as_echo "$OPAL_VERSION" >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Open Portable Access Layer release date" >&5
$as_echo_n "checking Open Portable Access Layer release date... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $OPAL_RELEASE_DATE" >&5
$as_echo "$OPAL_RELEASE_DATE" >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Open Portable Access Layer Subversion repository version" >&5
$as_echo_n "checking Open Portable Access Layer Subversion repository version... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $OPAL_SVN_R" >&5
$as_echo "$OPAL_SVN_R" >&6; }


cat >>confdefs.h <<_ACEOF
#define OPAL_MAJOR_VERSION $OPAL_MAJOR_VERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OPAL_MINOR_VERSION $OPAL_MINOR_VERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OPAL_RELEASE_VERSION $OPAL_RELEASE_VERSION
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OPAL_GREEK_VERSION "$OPAL_GREEK_VERSION"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OPAL_VERSION "$OPAL_RELEASE_VERSION"
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OPAL_RELEASE_DATE "$OPAL_RELEASE_DATE"
_ACEOF


    ac_config_files="$ac_config_files opal/include/opal/version.h"



# Get shared library version numbers

. $srcdir/VERSION





# It's icky that we have to hard-code the names of the
# common components here.  :-( This could probably be done
# transparently by adding some intelligence in autogen.sh
# and/or ompi_mca.m4, but I don't have the cycles to do this
# right now.






#
# Hardwire OPAL progress threads to be off
#
OMPI_ENABLE_PROGRESS_THREADS=0
enable_progress_threads="no"

cat >>confdefs.h <<_ACEOF
#define OMPI_ENABLE_PROGRESS_THREADS $OMPI_ENABLE_PROGRESS_THREADS
_ACEOF



# List header files to generate

ac_config_headers="$ac_config_headers opal/include/opal_config.h orte/include/orte_config.h ompi/include/ompi_config.h ompi/include/mpi.h"


# override/fixup the version numbers set by AC_INIT, since on
# developer builds, there's no good way to know what the version is
# before running configure :(.  We only use the base version number
# (ie, no svn r numbers) for the version set in AC_INIT.  This will
# always match reality because we add the VERSION file (the only way
# to change the major.minor.release{greek}) into the configure
# dependencies.  PACKAGE_VERSION the AC_DEFINE doesn't change once set
# the first time -- AC_INIT's input (so it doesn't have an r number in
# it).  PACKAGE_VERSION the AC_SUBST can be rewritten along the way,
# and we'd like it to have the r number in it so that it shows up in
# the tarball name, so it is set to the full version here.
PACKAGE_VERSION="$OPAL_VERSION"
PACKAGE_STRING="${PACKAGE_NAME} ${PACKAGE_VERSION}"
VERSION="${PACKAGE_VERSION}"

ompi_show_subtitle "Initialization, setup"

OMPI_TOP_BUILDDIR="`pwd`"

cd "$srcdir"
OMPI_TOP_SRCDIR="`pwd`"

cd "$OMPI_TOP_BUILDDIR"

{ $as_echo "$as_me:${as_lineno-$LINENO}: builddir: $OMPI_TOP_BUILDDIR" >&5
$as_echo "$as_me: builddir: $OMPI_TOP_BUILDDIR" >&6;}
{ $as_echo "$as_me:${as_lineno-$LINENO}: srcdir: $OMPI_TOP_SRCDIR" >&5
$as_echo "$as_me: srcdir: $OMPI_TOP_SRCDIR" >&6;}
if test "$OMPI_TOP_BUILDDIR" != "$OMPI_TOP_SRCDIR"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: Detected VPATH build" >&5
$as_echo "$as_me: Detected VPATH build" >&6;}
fi

# Setup the top of the opal/include/opal_config.h file




# Other basic setup stuff (shared with components)

# Make sure we can run config.sub.
$SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
  as_fn_error $? "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
$as_echo_n "checking build system type... " >&6; }
if test "${ac_cv_build+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_build_alias=$build_alias
test "x$ac_build_alias" = x &&
  ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
test "x$ac_build_alias" = x &&
  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
  as_fn_error $? "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
$as_echo "$ac_cv_build" >&6; }
case $ac_cv_build in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5 ;;
esac
build=$ac_cv_build
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_build
shift
build_cpu=$1
build_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
build_os=$*
IFS=$ac_save_IFS
case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking host system type" >&5
$as_echo_n "checking host system type... " >&6; }
if test "${ac_cv_host+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "x$host_alias" = x; then
  ac_cv_host=$ac_cv_build
else
  ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
$as_echo "$ac_cv_host" >&6; }
case $ac_cv_host in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5 ;;
esac
host=$ac_cv_host
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_host
shift
host_cpu=$1
host_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
host_os=$*
IFS=$ac_save_IFS
case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac



#
# Save some stats about this build
#

OMPI_CONFIGURE_USER="`whoami`"
OMPI_CONFIGURE_HOST="`hostname | head -n 1`"
OMPI_CONFIGURE_DATE="`date`"

#
# Make automake clean emacs ~ files for "make clean"
#

CLEANFILES="*~ .\#*"


#
# This is useful later (ompi_info, and therefore mpiexec)
#



cat >>confdefs.h <<_ACEOF
#define OMPI_ARCH "$host"
_ACEOF


#
# See if we can find an old installation of OMPI to overwrite
#

# Stupid autoconf 2.54 has a bug in AC_PREFIX_PROGRAM -- if ompi_clean
# is not found in the path and the user did not specify --prefix,
# we'll get a $prefix of "."

ompi_prefix_save="$prefix"
if test "x$prefix" = xNONE; then
  $as_echo_n "checking for prefix by " >&6
  # Extract the first word of "ompi_clean", so it can be a program name with args.
set dummy ompi_clean; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_path_ac_prefix_program+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  case $ac_prefix_program in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_ac_prefix_program="$ac_prefix_program" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_ac_prefix_program="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
ac_prefix_program=$ac_cv_path_ac_prefix_program
if test -n "$ac_prefix_program"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_prefix_program" >&5
$as_echo "$ac_prefix_program" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  if test -n "$ac_prefix_program"; then
    prefix=`$as_dirname -- "$ac_prefix_program" ||
$as_expr X"$ac_prefix_program" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$ac_prefix_program" : 'X\(//\)[^/]' \| \
	 X"$ac_prefix_program" : 'X\(//\)$' \| \
	 X"$ac_prefix_program" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$ac_prefix_program" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
    prefix=`$as_dirname -- "$prefix" ||
$as_expr X"$prefix" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$prefix" : 'X\(//\)[^/]' \| \
	 X"$prefix" : 'X\(//\)$' \| \
	 X"$prefix" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$prefix" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  fi
fi

if test "$prefix" = "."; then
    prefix="$ompi_prefix_save"
fi
unset ompi_prefix_save

#
# Basic sanity checking; we can't install to a relative path
#

case "$prefix" in
  /*/bin)
    prefix="`dirname $prefix`"
    echo installing to directory \"$prefix\"
    ;;
  /*)
    echo installing to directory \"$prefix\"
    ;;
  NONE)
    echo installing to directory \"$ac_default_prefix\"
    ;;
  [a-zA-Z]:*)
    echo installing to directory \"$prefix\"
    ;;
  *)
    as_fn_error $? "prefix \"$prefix\" must be an absolute directory path" "$LINENO" 5
    ;;
esac

# Allow the --enable-dist flag to be passed in

# Check whether --enable-dist was given.
if test "${enable_dist+set}" = set; then :
  enableval=$enable_dist; OMPI_WANT_DIST=yes
else
  OMPI_WANT_DIST=no
fi


if test "$OMPI_WANT_DIST" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Configuring in 'make dist' mode" >&5
$as_echo "$as_me: WARNING: Configuring in 'make dist' mode" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Most make targets may be non-functional!" >&5
$as_echo "$as_me: WARNING: Most make targets may be non-functional!" >&2;}
fi

top_ompi_srcdir="$OMPI_TOP_SRCDIR"

top_ompi_builddir="$OMPI_TOP_BUILDDIR"


############################################################################
# Configuration options
############################################################################


ompi_show_subtitle "Configuration options"

#
# Is this a developer copy?
#
if test -d .svn -o -d .hg; then
    OMPI_DEVEL=1
else
    OMPI_DEVEL=0
fi

#
# Code coverage options
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to run code coverage" >&5
$as_echo_n "checking whether to run code coverage... " >&6; }
# Check whether --enable-coverage was given.
if test "${enable_coverage+set}" = set; then :
  enableval=$enable_coverage;
fi

if test "$enable_coverage" = "yes"; then
    if test "$enable_shared" = "yes"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Code coverage can run only with static libraries. Please
run configure with --enable-static --disable-shared if
you want code coverage. Also ensure that you execute
make clean too ensure removal of all leftover shared
mpi libraries" >&5
$as_echo "$as_me: WARNING: Code coverage can run only with static libraries. Please
run configure with --enable-static --disable-shared if
you want code coverage. Also ensure that you execute
make clean too ensure removal of all leftover shared
mpi libraries" >&2;}
        as_fn_error $? "Cannot continue processing" "$LINENO" 5
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_COVERAGE=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_COVERAGE=0
fi


#
# Branch Probabilities options
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to compile with branch probabilities" >&5
$as_echo_n "checking whether to compile with branch probabilities... " >&6; }
# Check whether --enable-branch-probabilities was given.
if test "${enable_branch_probabilities+set}" = set; then :
  enableval=$enable_branch_probabilities;
fi

if test "$enable_branch_probabilities" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_BRANCH_PROBABILITIES=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_BRANCH_PROBABILITIES=0
fi


#
# Memory debugging
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to debug memory usage" >&5
$as_echo_n "checking whether to debug memory usage... " >&6; }
# Check whether --enable-mem-debug was given.
if test "${enable_mem_debug+set}" = set; then :
  enableval=$enable_mem_debug;
fi

if test "$enable_mem_debug" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_MEM_DEBUG=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_MEM_DEBUG=0
fi
#################### Early development override ####################
if test "$WANT_MEM_DEBUG" = "0" -a -z "$enable_mem_debug" -a "$OMPI_DEVEL" = 1; then
    WANT_MEM_DEBUG=1
    echo "--> developer override: enable mem profiling by default"
fi
#################### Early development override ####################

cat >>confdefs.h <<_ACEOF
#define OMPI_ENABLE_MEM_DEBUG $WANT_MEM_DEBUG
_ACEOF


#
# Memory profiling
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to profile memory usage" >&5
$as_echo_n "checking whether to profile memory usage... " >&6; }
# Check whether --enable-mem-profile was given.
if test "${enable_mem_profile+set}" = set; then :
  enableval=$enable_mem_profile;
fi

if test "$enable_mem_profile" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_MEM_PROFILE=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_MEM_PROFILE=0
fi
#################### Early development override ####################
if test "$WANT_MEM_PROFILE" = "0" -a -z "$enable_mem_profile" -a "$OMPI_DEVEL" = 1; then
    WANT_MEM_PROFILE=1
    echo "--> developer override: enable mem profiling by default"
fi
#################### Early development override ####################

cat >>confdefs.h <<_ACEOF
#define OMPI_ENABLE_MEM_PROFILE $WANT_MEM_PROFILE
_ACEOF


#
# Developer picky compiler options
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want developer-level compiler pickyness" >&5
$as_echo_n "checking if want developer-level compiler pickyness... " >&6; }
# Check whether --enable-picky was given.
if test "${enable_picky+set}" = set; then :
  enableval=$enable_picky;
fi

if test "$enable_picky" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_PICKY_COMPILER=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_PICKY_COMPILER=0
fi
#################### Early development override ####################
if test "$WANT_PICKY_COMPILER" = "0" -a -z "$enable_picky" -a "$OMPI_DEVEL" = 1; then
    WANT_PICKY_COMPILER=1
    echo "--> developer override: enable picky compiler by default"
fi
#################### Early development override ####################

#
# Developer debugging
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want developer-level debugging code" >&5
$as_echo_n "checking if want developer-level debugging code... " >&6; }
# Check whether --enable-debug was given.
if test "${enable_debug+set}" = set; then :
  enableval=$enable_debug;
fi

if test "$enable_debug" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_DEBUG=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_DEBUG=0
fi
#################### Early development override ####################
if test "$WANT_DEBUG" = "0" -a -z "$enable_debug" -a "$OMPI_DEVEL" = 1; then
    WANT_DEBUG=1
    echo "--> developer override: enable debugging code by default"
fi
#################### Early development override ####################
if test "$WANT_DEBUG" = "0"; then
    CFLAGS="-DNDEBUG $CFLAGS"
    CXXFLAGS="-DNDEBUG $CXXFLAGS"
fi

cat >>confdefs.h <<_ACEOF
#define OMPI_ENABLE_DEBUG $WANT_DEBUG
_ACEOF


# Check whether --enable-debug-symbols was given.
if test "${enable_debug_symbols+set}" = set; then :
  enableval=$enable_debug_symbols;
fi


#
# Sparse Groups
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want sparse process groups" >&5
$as_echo_n "checking if want sparse process groups... " >&6; }
# Check whether --enable-sparse-groups was given.
if test "${enable_sparse_groups+set}" = set; then :
  enableval=$enable_sparse_groups;
fi

if test "$enable_sparse_groups" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    GROUP_SPARSE=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    GROUP_SPARSE=0
fi

cat >>confdefs.h <<_ACEOF
#define OMPI_GROUP_SPARSE $GROUP_SPARSE
_ACEOF


#
# Fortran 77
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want Fortran 77 bindings" >&5
$as_echo_n "checking if want Fortran 77 bindings... " >&6; }
# Check whether --enable-mpi-f77 was given.
if test "${enable_mpi_f77+set}" = set; then :
  enableval=$enable_mpi_f77;
fi

if test "$enable_mpi_f77" != "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    OMPI_WANT_F77_BINDINGS=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    OMPI_WANT_F77_BINDINGS=0
fi


#
# Fortran 90
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want Fortran 90 bindings" >&5
$as_echo_n "checking if want Fortran 90 bindings... " >&6; }
# Check whether --enable-mpi-f90 was given.
if test "${enable_mpi_f90+set}" = set; then :
  enableval=$enable_mpi_f90;
fi

if test "$enable_mpi_f90" != "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    OMPI_WANT_F90_BINDINGS=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    OMPI_WANT_F90_BINDINGS=0
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking desired Fortran 90 bindings \"size\"" >&5
$as_echo_n "checking desired Fortran 90 bindings \"size\"... " >&6; }

# Check whether --with-mpi-f90-size was given.
if test "${with_mpi_f90_size+set}" = set; then :
  withval=$with_mpi_f90_size;
fi


if test "$OMPI_WANT_F90_BINDINGS" = "0"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: disabled (Fortran 90 bindings disabled)" >&5
$as_echo "disabled (Fortran 90 bindings disabled)" >&6; }
elif test "$with_mpi_f90_size" = "no"; then
    OMPI_WANT_F90_BINDINGS=0
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: disabling F90 MPI module (used specified)" >&5
$as_echo "disabling F90 MPI module (used specified)" >&6; }
else
    # Default value
    if test "$with_mpi_f90_size" = ""; then
        with_mpi_f90_size=small
    fi

    # Check for each of the sizes
    if test "$with_mpi_f90_size" = "trivial"; then
        OMPI_F90_BUILD_SIZE=trivial
    elif test "$with_mpi_f90_size" = "small"; then
        OMPI_F90_BUILD_SIZE=small
    elif test "$with_mpi_f90_size" = "medium"; then
        OMPI_F90_BUILD_SIZE=medium
    elif test "$with_mpi_f90_size" = "large"; then
        OMPI_F90_BUILD_SIZE=large
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: Unrecognized size: $with_mpi_f90_size" >&5
$as_echo "Unrecognized size: $with_mpi_f90_size" >&6; }
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi
fi

 if test "$OMPI_F90_BUILD_SIZE" = "trivial"; then
  OMPI_WANT_BUILD_F90_TRIVIAL_TRUE=
  OMPI_WANT_BUILD_F90_TRIVIAL_FALSE='#'
else
  OMPI_WANT_BUILD_F90_TRIVIAL_TRUE='#'
  OMPI_WANT_BUILD_F90_TRIVIAL_FALSE=
fi

 if test "$OMPI_F90_BUILD_SIZE" = "small"; then
  OMPI_WANT_BUILD_F90_SMALL_TRUE=
  OMPI_WANT_BUILD_F90_SMALL_FALSE='#'
else
  OMPI_WANT_BUILD_F90_SMALL_TRUE='#'
  OMPI_WANT_BUILD_F90_SMALL_FALSE=
fi

 if test "$OMPI_F90_BUILD_SIZE" = "medium"; then
  OMPI_WANT_BUILD_F90_MEDIUM_TRUE=
  OMPI_WANT_BUILD_F90_MEDIUM_FALSE='#'
else
  OMPI_WANT_BUILD_F90_MEDIUM_TRUE='#'
  OMPI_WANT_BUILD_F90_MEDIUM_FALSE=
fi

 if test "$OMPI_F90_BUILD_SIZE" = "large"; then
  OMPI_WANT_BUILD_F90_LARGE_TRUE=
  OMPI_WANT_BUILD_F90_LARGE_FALSE='#'
else
  OMPI_WANT_BUILD_F90_LARGE_TRUE='#'
  OMPI_WANT_BUILD_F90_LARGE_FALSE=
fi



{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $OMPI_F90_BUILD_SIZE" >&5
$as_echo "$OMPI_F90_BUILD_SIZE" >&6; }

#
# MPI profiling
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable PMPI" >&5
$as_echo_n "checking whether to enable PMPI... " >&6; }
# Check whether --enable-mpi-profile was given.
if test "${enable_mpi_profile+set}" = set; then :
  enableval=$enable_mpi_profile;
fi

if test "$enable_mpi_profile" != "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_MPI_PROFILING=1
    MPIF_H_PMPI_W_FUNCS=", PMPI_WTICK, PMPI_WTIME"
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_MPI_PROFILING=0
    MPIF_H_PMPI_W_FUNCS=
fi



#
# C++
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want C++ bindings" >&5
$as_echo_n "checking if want C++ bindings... " >&6; }
# Check whether --enable-mpi-cxx was given.
if test "${enable_mpi_cxx+set}" = set; then :
  enableval=$enable_mpi_cxx;
fi

if test "$enable_mpi_cxx" != "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_MPI_CXX_SUPPORT=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_MPI_CXX_SUPPORT=0
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want MPI::SEEK_SET support" >&5
$as_echo_n "checking if want MPI::SEEK_SET support... " >&6; }
# Check whether --enable-mpi-cxx-seek was given.
if test "${enable_mpi_cxx_seek+set}" = set; then :
  enableval=$enable_mpi_cxx_seek;
fi

if test "$enable_mpi_cxx_seek" != "no" ; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
  OMPI_WANT_MPI_CXX_SEEK=1
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  OMPI_WANT_MPI_CXX_SEEK=0
fi

cat >>confdefs.h <<_ACEOF
#define OMPI_WANT_MPI_CXX_SEEK $OMPI_WANT_MPI_CXX_SEEK
_ACEOF


#
# Do we want to disable weak symbols for some reason?
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want to enable weak symbol support" >&5
$as_echo_n "checking if want to enable weak symbol support... " >&6; }
# Check whether --enable-weak-symbols was given.
if test "${enable_weak_symbols+set}" = set; then :
  enableval=$enable_weak_symbols;
fi

if test "$enable_weak_symbols" != "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_WEAK_SYMBOLS=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_WEAK_SYMBOLS=0
fi

#
# Do we want to disable MPI parameter checking at run-time?
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want run-time MPI parameter checking" >&5
$as_echo_n "checking if want run-time MPI parameter checking... " >&6; }

# Check whether --with-mpi-param-check was given.
if test "${with_mpi_param_check+set}" = set; then :
  withval=$with_mpi_param_check;
fi

mpi_param_check=ompi_mpi_param_check
if test "$with_mpi_param_check" = "no" -o \
    "$with_mpi_param_check" = "never"; then
    mpi_param_check=0
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: never" >&5
$as_echo "never" >&6; }
elif test "$with_mpi_param_check" = "yes" -o \
    "$with_mpi_param_check" = "always"; then
    mpi_param_check=1
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: always" >&5
$as_echo "always" >&6; }
elif test "$with_mpi_param_check" = "runtime" -o \
    -z "$with_mpi_params_check"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: runtime" >&5
$as_echo "runtime" >&6; }
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: unknown" >&5
$as_echo "unknown" >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Unrecognized --with-mpi-param-check value" >&5
$as_echo "$as_me: WARNING: *** Unrecognized --with-mpi-param-check value" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See \"configure --help\" output" >&5
$as_echo "$as_me: WARNING: *** See \"configure --help\" output" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Defaulting to \"runtime\"" >&5
$as_echo "$as_me: WARNING: *** Defaulting to \"runtime\"" >&2;}
fi

cat >>confdefs.h <<_ACEOF
#define MPI_PARAM_CHECK $mpi_param_check
_ACEOF



#
# Do we want to install all of OMPI's header files?
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want to install OMPI header files" >&5
$as_echo_n "checking if want to install OMPI header files... " >&6; }

# Check whether --with-devel-headers was given.
if test "${with_devel_headers+set}" = set; then :
  withval=$with_devel_headers;
fi

if test "$with_devel_headers" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_INSTALL_HEADERS=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_INSTALL_HEADERS=0
fi
 if test "$WANT_INSTALL_HEADERS" = 1; then
  WANT_INSTALL_HEADERS_TRUE=
  WANT_INSTALL_HEADERS_FALSE='#'
else
  WANT_INSTALL_HEADERS_TRUE='#'
  WANT_INSTALL_HEADERS_FALSE=
fi


#
# Do we want the pretty-print stack trace feature?
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want pretty-print stacktrace" >&5
$as_echo_n "checking if want pretty-print stacktrace... " >&6; }
# Check whether --enable-pretty-print-stacktrace was given.
if test "${enable_pretty_print_stacktrace+set}" = set; then :
  enableval=$enable_pretty_print_stacktrace;
fi

if test "$enable_pretty_print_stacktrace" = "no" ; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_PRETTY_PRINT_STACKTRACE=0
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_PRETTY_PRINT_STACKTRACE=1
fi

cat >>confdefs.h <<_ACEOF
#define OMPI_WANT_PRETTY_PRINT_STACKTRACE $WANT_PRETTY_PRINT_STACKTRACE
_ACEOF


#
# Do we want to enable peruse interface?
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if peruse support is required" >&5
$as_echo_n "checking if peruse support is required... " >&6; }
# Check whether --enable-peruse was given.
if test "${enable_peruse+set}" = set; then :
  enableval=$enable_peruse;
fi

if test "$enable_peruse" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    WANT_PERUSE=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    WANT_PERUSE=0
fi

cat >>confdefs.h <<_ACEOF
#define OMPI_WANT_PERUSE $WANT_PERUSE
_ACEOF

 if test "$WANT_PERUSE" = "1"; then
  WANT_PERUSE_TRUE=
  WANT_PERUSE_FALSE='#'
else
  WANT_PERUSE_TRUE='#'
  WANT_PERUSE_FALSE=
fi


#
# What is the max array rank that we want to support in the f90 bindings?
#

OMPI_FORTRAN_MAX_ARRAY_RANK=4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking max supported array dimension in F90 MPI bindings" >&5
$as_echo_n "checking max supported array dimension in F90 MPI bindings... " >&6; }

# Check whether --with-f90-max-array-dim was given.
if test "${with_f90_max_array_dim+set}" = set; then :
  withval=$with_f90_max_array_dim;
fi

if test ! -z "$with_f90_max_array_dim" -a "$with_f90_max_array_dim" != "no"; then
    # Ensure it's a number (hopefully an integer!), and >=1 and <=7
    expr $with_f90_max_array_dim + 1 > /dev/null 2> /dev/null
    happy=1
    if test "$?" != "0"; then :
  happy=0
else
  expr $with_f90_max_array_dim \>= 1 \& $with_f90_max_array_dim \<= 7 > /dev/null 2>/dev/null
           if test "$?" != "0"; then :
  happy=0
fi
fi

    # If badness in the above tests, bail
    if test "$happy" = "0"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: bad value ($with_f90_max_array_dim)" >&5
$as_echo "bad value ($with_f90_max_array_dim)" >&6; }
           { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: --with-f90-max-array-dim value must be >=1 and <=7" >&5
$as_echo "$as_me: WARNING: --with-f90-max-array-dim value must be >=1 and <=7" >&2;}
           as_fn_error $? "Cannot continue" "$LINENO" 5
fi
    OMPI_FORTRAN_MAX_ARRAY_RANK="$with_f90_max_array_dim"
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $OMPI_FORTRAN_MAX_ARRAY_RANK" >&5
$as_echo "$OMPI_FORTRAN_MAX_ARRAY_RANK" >&6; }


# do we want PTY support?
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if pty support should be enabled" >&5
$as_echo_n "checking if pty support should be enabled... " >&6; }
# Check whether --enable-pty-support was given.
if test "${enable_pty_support+set}" = set; then :
  enableval=$enable_pty_support;
fi

if test "$enable_pty_support" = "no" ; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    OMPI_ENABLE_PTY_SUPPORT=0
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    OMPI_ENABLE_PTY_SUPPORT=1
fi

cat >>confdefs.h <<_ACEOF
#define OMPI_ENABLE_PTY_SUPPORT $OMPI_ENABLE_PTY_SUPPORT
_ACEOF


#
# Do we want to allow DLOPEN?
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if user wants dlopen support" >&5
$as_echo_n "checking if user wants dlopen support... " >&6; }
# Check whether --enable-dlopen was given.
if test "${enable_dlopen+set}" = set; then :
  enableval=$enable_dlopen;
fi

if test "$enable_dlopen" = "no" ; then
    enable_mca_dso="no"
    enable_mca_static="yes"
    OMPI_ENABLE_DLOPEN_SUPPORT=0
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
else
    OMPI_ENABLE_DLOPEN_SUPPORT=1
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
fi

#
# Heterogeneous support
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if heterogeneous support should be enabled" >&5
$as_echo_n "checking if heterogeneous support should be enabled... " >&6; }
# Check whether --enable-heterogeneous was given.
if test "${enable_heterogeneous+set}" = set; then :
  enableval=$enable_heterogeneous;
fi

if test "$enable_heterogeneous" = "yes" ; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
     ompi_want_heterogeneous=1
else
     { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
     ompi_want_heterogeneous=0
fi

cat >>confdefs.h <<_ACEOF
#define OMPI_ENABLE_HETEROGENEOUS_SUPPORT $ompi_want_heterogeneous
_ACEOF


#
# Internal trace file logging (debugging)
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want trace file debugging" >&5
$as_echo_n "checking if want trace file debugging... " >&6; }
# Check whether --enable-trace was given.
if test "${enable_trace+set}" = set; then :
  enableval=$enable_trace;
fi

if test "$enable_trace" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    opal_want_trace=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    opal_want_trace=0
fi

cat >>confdefs.h <<_ACEOF
#define OPAL_ENABLE_TRACE $opal_want_trace
_ACEOF



#
# Minimal RTE support
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want full RTE support" >&5
$as_echo_n "checking if want full RTE support... " >&6; }

# Check whether --with-rte-support was given.
if test "${with_rte_support+set}" = set; then :
  withval=$with_rte_support;
fi

if test "$with_rte_support" = "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    orte_without_full_support=1
    list_of_frameworks="errmgr,ess-singleton,ess-hnp,ess-tool,ess-env,filem,grpcomm-basic,grpcomm-bad,iof,odls,oob,plm,ras,rmaps,rml,routed,snapc,btl-sm,coll-sm,common-sm,mpool-sm,dpm-orte,pubsub-orte"
    if test -z $enable_mca_no_build ; then
      enable_mca_no_build="$list_of_frameworks"
    else
      enable_mca_no_build="$enable_mca_no_build,$list_of_frameworks"
    fi
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    orte_without_full_support=0
fi

cat >>confdefs.h <<_ACEOF
#define ORTE_DISABLE_FULL_SUPPORT $orte_without_full_support
_ACEOF

 if test "$with_rte_support" = "no"; then
  ORTE_DISABLE_FULL_SUPPORT_TRUE=
  ORTE_DISABLE_FULL_SUPPORT_FALSE='#'
else
  ORTE_DISABLE_FULL_SUPPORT_TRUE='#'
  ORTE_DISABLE_FULL_SUPPORT_FALSE=
fi


#
# Cross-compile data
#

# Check whether --with-cross was given.
if test "${with_cross+set}" = set; then :
  withval=$with_cross;
fi

if test "$with_cross" = "yes" ; then
    as_fn_error $? "--with-cross argument must include FILE option" "$LINENO" 5
elif test "$with_cross" = "no" ; then
    as_fn_error $? "--without-cross is not a valid argument" "$LINENO" 5
elif test "$with_cross" != "" ; then
    if test ! -r $with_cross ; then
        as_fn_error $? "could not find cross-compile data file $with_cross" "$LINENO" 5
    fi

    # eval into environment

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:6662: Loading cross-compile file $with_cross, with contents below" >&5
else
    echo Loading cross-compile file $with_cross, with contents below >&5
fi

# 1 is the filename
if test -n "$with_cross" -a -f "$with_cross"; then
    cat $with_cross >&5
fi
    . "$with_cross"
fi

#
# --with-ft=TYPE
#  TYPE:
#    - LAM (synonym for 'cr' currently)
#    - cr
#  /* General FT sections */
#  #if OPAL_ENABLE_FT == 0 /* FT Disabled globaly */
#  #if OPAL_ENABLE_FT == 1 /* FT Enabled globaly */
#  /* CR Specific sections */
#  #if OPAL_ENABLE_FT_CR == 0 /* FT Ckpt/Restart Disabled */
#  #if OPAL_ENABLE_FT_CR == 1 /* FT Ckpt/Restart Enabled */
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want fault tolerance" >&5
$as_echo_n "checking if want fault tolerance... " >&6; }

# Check whether --with-ft was given.
if test "${with_ft+set}" = set; then :
  withval=$with_ft; ompi_want_ft=1
else
  ompi_want_ft=0
fi

if test "$with_ft" = "no" -o "$ompi_want_ft" = "0"; then
    ompi_want_ft=0
    ompi_want_ft_cr=0
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Disabled fault tolerance" >&5
$as_echo "Disabled fault tolerance" >&6; }
else
    ompi_want_ft=1
    ompi_want_ft_cr=0
    ompi_want_ft_type=none

    # Default value
    if test "$with_ft" = "" -o "$with_ft" = "yes"; then
        ompi_want_ft_type=cr
        ompi_want_ft_cr=1
    elif test "$with_ft" = "LAM"; then
        ompi_want_ft_type=lam
        ompi_want_ft_cr=1
    elif test "$with_ft" = "lam"; then
        ompi_want_ft_type=lam
        ompi_want_ft_cr=1
    elif test "$with_ft" = "CR"; then
        ompi_want_ft_type=cr
        ompi_want_ft_cr=1
    elif test "$with_ft" = "cr"; then
        ompi_want_ft_type=cr
        ompi_want_ft_cr=1
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: Unrecognized FT TYPE: $with_ft" >&5
$as_echo "Unrecognized FT TYPE: $with_ft" >&6; }
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Enabled $with_ft ($ompi_want_ft_type)" >&5
$as_echo "Enabled $with_ft ($ompi_want_ft_type)" >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: **************************************************" >&5
$as_echo "$as_me: WARNING: **************************************************" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fault Tolerance Integration into Open MPI is *" >&5
$as_echo "$as_me: WARNING: *** Fault Tolerance Integration into Open MPI is *" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** a research quality implementation, and care  *" >&5
$as_echo "$as_me: WARNING: *** a research quality implementation, and care  *" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** should be used when choosing to enable it.   *" >&5
$as_echo "$as_me: WARNING: *** should be used when choosing to enable it.   *" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: **************************************************" >&5
$as_echo "$as_me: WARNING: **************************************************" >&2;}
fi

cat >>confdefs.h <<_ACEOF
#define OPAL_ENABLE_FT $ompi_want_ft
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OPAL_ENABLE_FT_CR $ompi_want_ft_cr
_ACEOF

 if test "$ompi_want_ft" = "1"; then
  WANT_FT_TRUE=
  WANT_FT_FALSE='#'
else
  WANT_FT_TRUE='#'
  WANT_FT_FALSE=
fi


#
# Do we want to install binaries?
#
# Check whether --enable-binaries was given.
if test "${enable_binaries+set}" = set; then :
  enableval=$enable_binaries;
fi

 if test "$enable_binaries" != "no"; then
  OMPI_INSTALL_BINARIES_TRUE=
  OMPI_INSTALL_BINARIES_FALSE='#'
else
  OMPI_INSTALL_BINARIES_TRUE='#'
  OMPI_INSTALL_BINARIES_FALSE=
fi


# Check whether --enable-script-wrapper-compilers was given.
if test "${enable_script_wrapper_compilers+set}" = set; then :
  enableval=$enable_script_wrapper_compilers;
fi

 if test "$enable_script_wrapper_compilers" = "yes"; then
  OMPI_WANT_SCRIPT_WRAPPER_COMPILERS_TRUE=
  OMPI_WANT_SCRIPT_WRAPPER_COMPILERS_FALSE='#'
else
  OMPI_WANT_SCRIPT_WRAPPER_COMPILERS_TRUE='#'
  OMPI_WANT_SCRIPT_WRAPPER_COMPILERS_FALSE=
fi

ac_config_files="$ac_config_files ompi/tools/wrappers/ompi_wrapper_script"


#
# Support per-user config files?
#
# Check whether --enable-per-user-config-files was given.
if test "${enable_per_user_config_files+set}" = set; then :
  enableval=$enable_per_user_config_files;
fi

if test "$enable_per_user_config_files" = "no" ; then
  result=0
else
  result=1
fi

cat >>confdefs.h <<_ACEOF
#define OMPI_WANT_HOME_CONFIG_FILES $result
_ACEOF


#
# Do we want to disable IPv6 support?
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want IPv6 support" >&5
$as_echo_n "checking if want IPv6 support... " >&6; }
# Check whether --enable-ipv6 was given.
if test "${enable_ipv6+set}" = set; then :
  enableval=$enable_ipv6;
fi

if test "$enable_ipv6" = "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    opal_want_ipv6=0
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes (if underlying system supports it)" >&5
$as_echo "yes (if underlying system supports it)" >&6; }
    opal_want_ipv6=1
fi

cat >>confdefs.h <<_ACEOF
#define OPAL_ENABLE_IPV6 $opal_want_ipv6
_ACEOF


#
# Do we want orterun's --prefix behavior to be enabled by default?
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if want orterun \"--prefix\" behavior to be enabled by default" >&5
$as_echo_n "checking if want orterun \"--prefix\" behavior to be enabled by default... " >&6; }
# Check whether --enable-orterun-prefix-by-default was given.
if test "${enable_orterun_prefix_by_default+set}" = set; then :
  enableval=$enable_orterun_prefix_by_default;
fi

# Check whether --enable-mpirun-prefix-by-default was given.
if test "${enable_mpirun_prefix_by_default+set}" = set; then :
  enableval=$enable_mpirun_prefix_by_default;
fi

if test "$enable_orterun_prefix_by_default" = ""; then
    enable_orterun_prefix_by_default=$enable_mpirun_prefix_by_default
fi
if test "$enable_orterun_prefix_by_default" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    orte_want_orterun_prefix_by_default=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    orte_want_orterun_prefix_by_default=0
fi

cat >>confdefs.h <<_ACEOF
#define ORTE_WANT_ORTERUN_PREFIX_BY_DEFAULT $orte_want_orterun_prefix_by_default
_ACEOF


#
# Package/brand string
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for package/brand string" >&5
$as_echo_n "checking for package/brand string... " >&6; }

# Check whether --with-package-string was given.
if test "${with_package_string+set}" = set; then :
  withval=$with_package_string;
fi

if test "$with_package_string" = "" -o "$with_package_string" = "no"; then
    with_package_string="Open MPI $OMPI_CONFIGURE_USER@$OMPI_CONFIGURE_HOST Distribution"
fi

cat >>confdefs.h <<_ACEOF
#define OPAL_PACKAGE_STRING "$with_package_string"
_ACEOF

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $with_package_string" >&5
$as_echo "$with_package_string" >&6; }

#
# Ident string
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ident string" >&5
$as_echo_n "checking for ident string... " >&6; }

# Check whether --with-ident-string was given.
if test "${with_ident_string+set}" = set; then :
  withval=$with_ident_string;
fi

if test "$with_ident_string" = "" -o "$with_ident_string" = "no"; then
    with_ident_string="%VERSION%"
fi
with_ident_string="`echo $with_ident_string | sed -e 's/%VERSION%/'$OMPI_VERSION/`"

cat >>confdefs.h <<_ACEOF
#define OPAL_IDENT_STRING "$with_ident_string"
_ACEOF

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $with_ident_string" >&5
$as_echo "$with_ident_string" >&6; }


#
# Add padding to OpenIB header
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to add padding to the openib control header" >&5
$as_echo_n "checking whether to add padding to the openib control header... " >&6; }

# Check whether --with-openib-control-hdr-padding was given.
if test "${with_openib_control_hdr_padding+set}" = set; then :
  withval=$with_openib_control_hdr_padding;
fi

if test "$with_openib_control_hdr_padding" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    ompi_openib_pad_hdr=1
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    ompi_openib_pad_hdr=0
fi

cat >>confdefs.h <<_ACEOF
#define OMPI_OPENIB_PAD_HDR $ompi_openib_pad_hdr
_ACEOF



#
# Use alternative checksum algorithm
#
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to use an alternative checksum algo for messages" >&5
$as_echo_n "checking whether to use an alternative checksum algo for messages... " >&6; }

# Check whether --with-dst-checksum was given.
if test "${with_dst_checksum+set}" = set; then :
  withval=$with_dst_checksum;
fi

if test "$with_dst_checksum" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    CFLAGS="-DOMPI_CSUM_DST $CFLAGS"
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi



if test "$enable_binaries" = "no" -a "$enable_dist" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: --disable-binaries is incompatible with --enable dist" >&5
$as_echo "$as_me: WARNING: --disable-binaries is incompatible with --enable dist" >&2;}
    as_fn_error $? "Cannot continue" "$LINENO" 5
fi

############################################################################
# Libtool: part one
# (before C compiler setup)
############################################################################

#
# Part one of libtool magic.  Enable static so that we have the --with
# tests done up here and can check for OS.  Save the values of
# $enable_static and $enable_shared before setting the defaults,
# because if the user specified --[en|dis]able-[static|shared] on the
# command line, they'll already be set.  In this way, we can tell if
# the user requested something or if the default was set here.
#

ompi_enable_shared="$enable_shared"
ompi_enable_static="$enable_static"
# Check whether --enable-shared was given.
if test "${enable_shared+set}" = set; then :
  enableval=$enable_shared; p=${PACKAGE-default}
    case $enableval in
    yes) enable_shared=yes ;;
    no) enable_shared=no ;;
    *)
      enable_shared=no
      # Look at the argument we got.  We use all the common list separators.
      lt_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR,"
      for pkg in $enableval; do
	IFS="$lt_save_ifs"
	if test "X$pkg" = "X$p"; then
	  enable_shared=yes
	fi
      done
      IFS="$lt_save_ifs"
      ;;
    esac
else
  enable_shared=yes
fi









# Check whether --enable-static was given.
if test "${enable_static+set}" = set; then :
  enableval=$enable_static; p=${PACKAGE-default}
    case $enableval in
    yes) enable_static=yes ;;
    no) enable_static=no ;;
    *)
     enable_static=no
      # Look at the argument we got.  We use all the common list separators.
      lt_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR,"
      for pkg in $enableval; do
	IFS="$lt_save_ifs"
	if test "X$pkg" = "X$p"; then
	  enable_static=yes
	fi
      done
      IFS="$lt_save_ifs"
      ;;
    esac
else
  enable_static=no
fi











    WRAPPER_EXTRA_CPPFLAGS=
    WRAPPER_EXTRA_CFLAGS=
    WRAPPER_EXTRA_CXXFLAGS=
    WRAPPER_EXTRA_FFLAGS=
    WRAPPER_EXTRA_FCFLAGS=
    WRAPPER_EXTRA_LDFLAGS=
    WRAPPER_EXTRA_LIBS=

    USER_WRAPPER_EXTRA_CFLAGS=
    USER_WRAPPER_EXTRA_CXXFLAGS=
    USER_WRAPPER_EXTRA_FFLAGS=
    USER_WRAPPER_EXTRA_FCFLAGS=
    USER_WRAPPER_EXTRA_LDFLAGS=
    USER_WRAPPER_EXTRA_LIBS=


# Check whether --with-wrapper-cflags was given.
if test "${with_wrapper_cflags+set}" = set; then :
  withval=$with_wrapper_cflags;
fi

    if test "$with_wrapper_cflags" = "yes" -o "$with_wrapper_cflags" = "no"; then
        as_fn_error $? "--with-wrapper-cflags must have an argument.  Aborting" "$LINENO" 5
    elif test ! -z "$with_wrapper_cflags" ; then
        USER_WRAPPER_EXTRA_CFLAGS="$with_wrapper_cflags"
    fi


# Check whether --with-wrapper-cxxflags was given.
if test "${with_wrapper_cxxflags+set}" = set; then :
  withval=$with_wrapper_cxxflags;
fi

    if test "$with_wrapper_cxxflags" = "yes" -o "$with_wrapper_cxxflags" = "no"; then
        as_fn_error $? "--with-wrapper-cxxflags must have an argument.  Aborting" "$LINENO" 5
    elif test ! -z "$with_wrapper_cxxflags" ; then
        USER_WRAPPER_EXTRA_CXXFLAGS="$with_wrapper_cxxflags"
    fi


# Check whether --with-wrapper-fflags was given.
if test "${with_wrapper_fflags+set}" = set; then :
  withval=$with_wrapper_fflags;
fi

    if test "$with_wrapper_fflags" = "yes" -o "$with_wrapper_fflags" = "no"; then
        as_fn_error $? "--with-wrapper-fflags must have an argument.  Aborting" "$LINENO" 5
    elif test ! -z "$with_wrapper_fflags" ; then
        USER_WRAPPER_EXTRA_FFLAGS="$with_wrapper_fflags"
    fi


# Check whether --with-wrapper-fcflags was given.
if test "${with_wrapper_fcflags+set}" = set; then :
  withval=$with_wrapper_fcflags;
fi

    if test "$with_wrapper_fcflags" = "yes" -o "$with_wrapper_fcflags" = "no"; then
        as_fn_error $? "--with-wrapper-fcflags must have an argument.  Aborting" "$LINENO" 5
    elif test ! -z "$with_wrapper_fcflags" ; then
        USER_WRAPPER_EXTRA_FCFLAGS="$with_wrapper_fcflags"
    fi


# Check whether --with-wrapper-ldflags was given.
if test "${with_wrapper_ldflags+set}" = set; then :
  withval=$with_wrapper_ldflags;
fi

    if test "$with_wrapper_ldflags" = "yes" -o "$with_wrapper_ldflags" = "no"; then
        as_fn_error $? "--with-wrapper-ldflags must have an argument.  Aborting" "$LINENO" 5
    elif test ! -z "$with_wrapper_ldflags" ; then
        USER_WRAPPER_EXTRA_LDFLAGS="$with_wrapper_ldflags"
    fi


# Check whether --with-wrapper-libs was given.
if test "${with_wrapper_libs+set}" = set; then :
  withval=$with_wrapper_libs;
fi

    if test "$with_wrapper_libs" = "yes" -o "$with_wrapper_libs" = "no"; then
        as_fn_error $? "--with-wrapper-libs must have an argument.  Aborting" "$LINENO" 5
    elif test ! -z "$with_wrapper_libs" ; then
        USER_WRAPPER_EXTRA_LIBS="$with_wrapper_libs"
    fi



##################################
# Check for known incompatibility
##################################

# Do *not* print a message that we're checking the OS because this
# test is *not* meant to be an all-inclusive "if it passes this test,
# then configure must succeed" test.  This test is *only* mean to
# screen out the versions of OS X where we know OMPI will cause kernel
# panics because of bad implementations of pty's.  See
# https://svn.open-mpi.org/trac/ompi/ticket/1637 for details.

# We do not support OS X before version 10.4 (Tiger)
case $host_os in
# Corresponds to OS X 10.0 - 10.3 (additional [] quoting for m4)
darwin[4567]*)
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Open MPI does not support OS X prior to version 10.4 (Tiger)" >&5
$as_echo "$as_me: WARNING: Open MPI does not support OS X prior to version 10.4 (Tiger)" >&2;}
    as_fn_error $? "Cannot continue" "$LINENO" 5
esac

############################################################################
# Check for compilers and preprocessors
############################################################################
ompi_show_title "Compiler and preprocessor tests"

##################################
# C compiler characteristics
##################################


    ompi_show_subtitle "C compiler and preprocessor"

    # $%@#!@#% AIX!!  This has to be called before anything invokes the C
    # compiler.

DEPDIR="${am__leading_dot}deps"

ac_config_commands="$ac_config_commands depfiles"


am_make=${MAKE-make}
cat > confinc << 'END'
am__doit:
	@echo this is the am__doit target
.PHONY: am__doit
END
# If we don't find an include directive, just comment out the code.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for style of include used by $am_make" >&5
$as_echo_n "checking for style of include used by $am_make... " >&6; }
am__include="#"
am__quote=
_am_result=none
# First try GNU make style include.
echo "include confinc" > confmf
# Ignore all kinds of additional output from `make'.
case `$am_make -s -f confmf 2> /dev/null` in #(
*the\ am__doit\ target*)
  am__include=include
  am__quote=
  _am_result=GNU
  ;;
esac
# Now try BSD make style include.
if test "$am__include" = "#"; then
   echo '.include "confinc"' > confmf
   case `$am_make -s -f confmf 2> /dev/null` in #(
   *the\ am__doit\ target*)
     am__include=.include
     am__quote="\""
     _am_result=BSD
     ;;
   esac
fi


{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $_am_result" >&5
$as_echo "$_am_result" >&6; }
rm -f confinc confmf

# Check whether --enable-dependency-tracking was given.
if test "${enable_dependency_tracking+set}" = set; then :
  enableval=$enable_dependency_tracking;
fi

if test "x$enable_dependency_tracking" != xno; then
  am_depcomp="$ac_aux_dir/depcomp"
  AMDEPBACKSLASH='\'
fi
 if test "x$enable_dependency_tracking" != xno; then
  AMDEP_TRUE=
  AMDEP_FALSE='#'
else
  AMDEP_TRUE='#'
  AMDEP_FALSE=
fi



    #
    # Check for the compiler
    #
    ompi_cflags_save="$CFLAGS"
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
set dummy ${ac_tool_prefix}gcc; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_CC+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="${ac_tool_prefix}gcc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_CC="gcc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
$as_echo "$ac_ct_CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
else
  CC="$ac_cv_prog_CC"
fi

if test -z "$CC"; then
          if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
set dummy ${ac_tool_prefix}cc; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_CC+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="${ac_tool_prefix}cc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  fi
fi
if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_CC+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_prog_rejected=no
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
       ac_prog_rejected=yes
       continue
     fi
    ac_cv_prog_CC="cc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# != 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    ac_cv_prog_CC="$as_dir/$ac_word${1+' '}$@"
  fi
fi
fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  for ac_prog in cl.exe
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_CC+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    test -n "$CC" && break
  done
fi
if test -z "$CC"; then
  ac_ct_CC=$CC
  for ac_prog in cl.exe
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_CC="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
$as_echo "$ac_ct_CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$ac_ct_CC" && break
done

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
fi

fi


test -z "$CC" && { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "no acceptable C compiler found in \$PATH
See \`config.log' for more details" "$LINENO" 5 ; }

# Provide some information about the compiler.
$as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files a.out a.out.dSYM a.exe b.out"
# Try to create an executable without -o first, disregard a.out.
# It will help us diagnose broken compilers, and finding out an intuition
# of exeext.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the C compiler works" >&5
$as_echo_n "checking whether the C compiler works... " >&6; }
ac_link_default=`$as_echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`

# The possible output files:
ac_files="a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*"

ac_rmfiles=
for ac_file in $ac_files
do
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
    * ) ac_rmfiles="$ac_rmfiles $ac_file";;
  esac
done
rm -f $ac_rmfiles

if { { ac_try="$ac_link_default"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link_default") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then :
  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
# in a Makefile.  We should not override ac_cv_exeext if it was cached,
# so that the user can short-circuit this test for compilers unknown to
# Autoconf.
for ac_file in $ac_files ''
do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )
	;;
    [ab].out )
	# We found the default executable, but exeext='' is most
	# certainly right.
	break;;
    *.* )
	if test "${ac_cv_exeext+set}" = set && test "$ac_cv_exeext" != no;
	then :; else
	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	fi
	# We set ac_cv_exeext here because the later test for it is not
	# safe: cross compilers may not add the suffix if given an `-o'
	# argument, so we may need to know it at that point already.
	# Even if this section looks crufty: it has the advantage of
	# actually working.
	break;;
    * )
	break;;
  esac
done
test "$ac_cv_exeext" = no && ac_cv_exeext=

else
  ac_file=''
fi
if test -z "$ac_file"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
$as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "C compiler cannot create executables
See \`config.log' for more details" "$LINENO" 5 ; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name" >&5
$as_echo_n "checking for C compiler default output file name... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_file" >&5
$as_echo "$ac_file" >&6; }
ac_exeext=$ac_cv_exeext

rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out
ac_clean_files=$ac_clean_files_save
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for suffix of executables" >&5
$as_echo_n "checking for suffix of executables... " >&6; }
if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then :
  # If both `conftest.exe' and `conftest' are `present' (well, observable)
# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
# work properly (i.e., refer to `conftest.exe'), while it won't with
# `rm'.
for ac_file in conftest.exe conftest conftest.*; do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	  break;;
    * ) break;;
  esac
done
else
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of executables: cannot compile and link
See \`config.log' for more details" "$LINENO" 5 ; }
fi
rm -f conftest conftest$ac_cv_exeext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
$as_echo "$ac_cv_exeext" >&6; }

rm -f conftest.$ac_ext
EXEEXT=$ac_cv_exeext
ac_exeext=$EXEEXT
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main ()
{
FILE *f = fopen ("conftest.out", "w");
 return ferror (f) || fclose (f) != 0;

  ;
  return 0;
}
_ACEOF
ac_clean_files="$ac_clean_files conftest.out"
# Check that the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling" >&5
$as_echo_n "checking whether we are cross compiling... " >&6; }
if test "$cross_compiling" != yes; then
  { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
  if { ac_try='./conftest$ac_cv_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then
    cross_compiling=no
  else
    if test "$cross_compiling" = maybe; then
	cross_compiling=yes
    else
	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run C compiled programs.
If you meant to cross compile, use \`--host'.
See \`config.log' for more details" "$LINENO" 5 ; }
    fi
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cross_compiling" >&5
$as_echo "$cross_compiling" >&6; }

rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out
ac_clean_files=$ac_clean_files_save
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
$as_echo_n "checking for suffix of object files... " >&6; }
if test "${ac_cv_objext+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.o conftest.obj
if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then :
  for ac_file in conftest.o conftest.obj conftest.*; do
  test -f "$ac_file" || continue;
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;
    *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
       break;;
  esac
done
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of object files: cannot compile
See \`config.log' for more details" "$LINENO" 5 ; }
fi
rm -f conftest.$ac_cv_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext" >&5
$as_echo "$ac_cv_objext" >&6; }
OBJEXT=$ac_cv_objext
ac_objext=$OBJEXT
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler" >&5
$as_echo_n "checking whether we are using the GNU C compiler... " >&6; }
if test "${ac_cv_c_compiler_gnu+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_compiler_gnu=yes
else
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
ac_cv_c_compiler_gnu=$ac_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
$as_echo "$ac_cv_c_compiler_gnu" >&6; }
if test $ac_compiler_gnu = yes; then
  GCC=yes
else
  GCC=
fi
ac_test_CFLAGS=${CFLAGS+set}
ac_save_CFLAGS=$CFLAGS
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
$as_echo_n "checking whether $CC accepts -g... " >&6; }
if test "${ac_cv_prog_cc_g+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_save_c_werror_flag=$ac_c_werror_flag
   ac_c_werror_flag=yes
   ac_cv_prog_cc_g=no
   CFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_prog_cc_g=yes
else
  CFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

else
  ac_c_werror_flag=$ac_save_c_werror_flag
	 CFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_prog_cc_g=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   ac_c_werror_flag=$ac_save_c_werror_flag
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
$as_echo "$ac_cv_prog_cc_g" >&6; }
if test "$ac_test_CFLAGS" = set; then
  CFLAGS=$ac_save_CFLAGS
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89" >&5
$as_echo_n "checking for $CC option to accept ISO C89... " >&6; }
if test "${ac_cv_prog_cc_c89+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_cv_prog_cc_c89=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdarg.h>
#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */
struct buf { int x; };
FILE * (*rcsopen) (struct buf *, struct stat *, int);
static char *e (p, i)
     char **p;
     int i;
{
  return p[i];
}
static char *f (char * (*g) (char **, int), char **p, ...)
{
  char *s;
  va_list v;
  va_start (v,p);
  s = g (p, va_arg (v,int));
  va_end (v);
  return s;
}

/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
   function prototypes and stuff, but not '\xHH' hex character constants.
   These don't provoke an error unfortunately, instead are silently treated
   as 'x'.  The following induces an error, until -std is added to get
   proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
   array size at least.  It's necessary to write '\x00'==0 to get something
   that's true only with -std.  */
int osf4_cc_array ['\x00' == 0 ? 1 : -1];

/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
   inside strings and character constants.  */
#define FOO(x) 'x'
int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];

int test (int i, double x);
struct s1 {int (*f) (int a);};
struct s2 {int (*f) (double a);};
int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);
int argc;
char **argv;
int
main ()
{
return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];
  ;
  return 0;
}
_ACEOF
for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \
	-Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_prog_cc_c89=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext
  test "x$ac_cv_prog_cc_c89" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC

fi
# AC_CACHE_VAL
case "x$ac_cv_prog_cc_c89" in
  x)
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
$as_echo "none needed" >&6; } ;;
  xno)
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
$as_echo "unsupported" >&6; } ;;
  *)
    CC="$CC $ac_cv_prog_cc_c89"
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
$as_echo "$ac_cv_prog_cc_c89" >&6; } ;;
esac
if test "x$ac_cv_prog_cc_c89" != xno; then :

fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

depcc="$CC"   am_compiler_list=

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
$as_echo_n "checking dependency style of $depcc... " >&6; }
if test "${am_cv_CC_dependencies_compiler_type+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
  # We make a subdir and do the tests there.  Otherwise we can end up
  # making bogus files that we don't know about and never remove.  For
  # instance it was reported that on HP-UX the gcc test will end up
  # making a dummy file named `D' -- because `-MD' means `put the output
  # in D'.
  mkdir conftest.dir
  # Copy depcomp to subdir because otherwise we won't find it if we're
  # using a relative directory.
  cp "$am_depcomp" conftest.dir
  cd conftest.dir
  # We will build objects and dependencies in a subdirectory because
  # it helps to detect inapplicable dependency modes.  For instance
  # both Tru64's cc and ICC support -MD to output dependencies as a
  # side effect of compilation, but ICC will put the dependencies in
  # the current directory while Tru64 will put them in the object
  # directory.
  mkdir sub

  am_cv_CC_dependencies_compiler_type=none
  if test "$am_compiler_list" = ""; then
     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
  fi
  am__universal=false
  case " $depcc " in #(
     *\ -arch\ *\ -arch\ *) am__universal=true ;;
     esac

  for depmode in $am_compiler_list; do
    # Setup a source with many dependencies, because some compilers
    # like to wrap large dependency lists on column 80 (with \), and
    # we should not choose a depcomp mode which is confused by this.
    #
    # We need to recreate these files for each test, as the compiler may
    # overwrite some of them when testing with obscure command lines.
    # This happens at least with the AIX C compiler.
    : > sub/conftest.c
    for i in 1 2 3 4 5 6; do
      echo '#include "conftst'$i'.h"' >> sub/conftest.c
      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
      # Solaris 8's {/usr,}/bin/sh.
      touch sub/conftst$i.h
    done
    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf

    # We check with `-c' and `-o' for the sake of the "dashmstdout"
    # mode.  It turns out that the SunPro C++ compiler does not properly
    # handle `-M -o', and we need to detect this.  Also, some Intel
    # versions had trouble with output in subdirs
    am__obj=sub/conftest.${OBJEXT-o}
    am__minus_obj="-o $am__obj"
    case $depmode in
    gcc)
      # This depmode causes a compiler race in universal mode.
      test "$am__universal" = false || continue
      ;;
    nosideeffect)
      # after this tag, mechanisms are not by side-effect, so they'll
      # only be used when explicitly requested
      if test "x$enable_dependency_tracking" = xyes; then
	continue
      else
	break
      fi
      ;;
    msvisualcpp | msvcmsys)
      # This compiler won't grok `-c -o', but also, the minuso test has
      # not run yet.  These depmodes are late enough in the game, and
      # so weak that their functioning should not be impacted.
      am__obj=conftest.${OBJEXT-o}
      am__minus_obj=
      ;;
    none) break ;;
    esac
    if depmode=$depmode \
       source=sub/conftest.c object=$am__obj \
       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \
         >/dev/null 2>conftest.err &&
       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&
       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
      # icc doesn't choke on unknown options, it will just issue warnings
      # or remarks (even with -Werror).  So we grep stderr for any message
      # that says an option was ignored or not supported.
      # When given -MP, icc 7.0 and 7.1 complain thusly:
      #   icc: Command line warning: ignoring option '-M'; no argument required
      # The diagnosis changed in icc 8.0:
      #   icc: Command line remark: option '-MP' not supported
      if (grep 'ignoring option' conftest.err ||
          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
        am_cv_CC_dependencies_compiler_type=$depmode
        break
      fi
    fi
  done

  cd ..
  rm -rf conftest.dir
else
  am_cv_CC_dependencies_compiler_type=none
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_CC_dependencies_compiler_type" >&5
$as_echo "$am_cv_CC_dependencies_compiler_type" >&6; }
CCDEPMODE=depmode=$am_cv_CC_dependencies_compiler_type

 if
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CC_dependencies_compiler_type" = gcc3; then
  am__fastdepCC_TRUE=
  am__fastdepCC_FALSE='#'
else
  am__fastdepCC_TRUE='#'
  am__fastdepCC_FALSE=
fi


    BASECC="`basename $CC`"
    CFLAGS="$ompi_cflags_save"

cat >>confdefs.h <<_ACEOF
#define OMPI_CC "$CC"
_ACEOF

    set dummy $CC
    ompi_cc_argv0=$2

# 1 is the variable name to do "which" on
# 2 is the variable name to assign the return value to



    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ompi_prog ompi_file ompi_dir ompi_sentinel; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ompi_prog ompi_file ompi_dir ompi_sentinel\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


ompi_prog=$ompi_cc_argv0

IFS_SAVE=$IFS
IFS="$PATH_SEPARATOR"
for ompi_dir in $PATH; do
    if test -x "$ompi_dir/$ompi_prog"; then
        OMPI_CC_ABSOLUTE="$ompi_dir/$ompi_prog"
        break
    fi
done
IFS=$IFS_SAVE


    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done




if test "x$CC" != xcc; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC and cc understand -c and -o together" >&5
$as_echo_n "checking whether $CC and cc understand -c and -o together... " >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether cc understands -c and -o together" >&5
$as_echo_n "checking whether cc understands -c and -o together... " >&6; }
fi
set dummy $CC; ac_cc=`$as_echo "$2" |
		      sed 's/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/'`
if eval "test \"\${ac_cv_prog_cc_${ac_cc}_c_o+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
# Make sure it works both with $CC and with simple cc.
# We do the test twice because some compilers refuse to overwrite an
# existing .o file with -o, though they will create one.
ac_try='$CC -c conftest.$ac_ext -o conftest2.$ac_objext >&5'
rm -f conftest2.*
if { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } &&
   test -f conftest2.$ac_objext && { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; };
then
  eval ac_cv_prog_cc_${ac_cc}_c_o=yes
  if test "x$CC" != xcc; then
    # Test first that cc exists at all.
    if { ac_try='cc -c conftest.$ac_ext >&5'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then
      ac_try='cc -c conftest.$ac_ext -o conftest2.$ac_objext >&5'
      rm -f conftest2.*
      if { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } &&
	 test -f conftest2.$ac_objext && { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; };
      then
	# cc works too.
	:
      else
	# cc exists but doesn't like -o.
	eval ac_cv_prog_cc_${ac_cc}_c_o=no
      fi
    fi
  fi
else
  eval ac_cv_prog_cc_${ac_cc}_c_o=no
fi
rm -f core conftest*

fi
if eval test \$ac_cv_prog_cc_${ac_cc}_c_o = yes; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }

$as_echo "#define NO_MINUS_C_MINUS_O 1" >>confdefs.h

fi

# FIXME: we rely on the cache variable name because
# there is no other way.
set dummy $CC
am_cc=`echo $2 | sed 's/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/'`
eval am_t=\$ac_cv_prog_cc_${am_cc}_c_o
if test "$am_t" != yes; then
   # Losing compiler, so override with the script.
   # FIXME: It is wrong to rewrite CC.
   # But if we don't then we get into trouble of one sort or another.
   # A longer-term fix would be to have automake use am__CC in this case,
   # and then we could set am__CC="\$(top_srcdir)/compile \$(CC)"
   CC="$am_aux_dir/compile $CC"
fi



ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor" >&5
$as_echo_n "checking how to run the C preprocessor... " >&6; }
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
  if test "${ac_cv_prog_CPP+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
      # Double quotes because CPP needs to be expanded
    for CPP in "$CC -E" "$CC -E -traditional-cpp" "/lib/cpp"
    do
      ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :

else
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  # Broken: success on invalid input.
continue
else
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok; then :
  break
fi

    done
    ac_cv_prog_CPP=$CPP

fi
  CPP=$ac_cv_prog_CPP
else
  ac_cv_prog_CPP=$CPP
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $CPP" >&5
$as_echo "$CPP" >&6; }
ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :

else
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  # Broken: success on invalid input.
continue
else
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok; then :

else
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
See \`config.log' for more details" "$LINENO" 5 ; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
$as_echo_n "checking for grep that handles long lines and -e... " >&6; }
if test "${ac_cv_path_GREP+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -z "$GREP"; then
  ac_path_GREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in grep ggrep; do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_GREP="$as_dir/$ac_prog$ac_exec_ext"
      { test -f "$ac_path_GREP" && $as_test_x "$ac_path_GREP"; } || continue
# Check for GNU ac_path_GREP and select it if it is found.
  # Check for GNU $ac_path_GREP
case `"$ac_path_GREP" --version 2>&1` in
*GNU*)
  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
*)
  ac_count=0
  $as_echo_n 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    $as_echo 'GREP' >> "conftest.nl"
    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_GREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_GREP="$ac_path_GREP"
      ac_path_GREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_GREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_GREP"; then
    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_GREP=$GREP
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
$as_echo "$ac_cv_path_GREP" >&6; }
 GREP="$ac_cv_path_GREP"


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
$as_echo_n "checking for egrep... " >&6; }
if test "${ac_cv_path_EGREP+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
   then ac_cv_path_EGREP="$GREP -E"
   else
     if test -z "$EGREP"; then
  ac_path_EGREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in egrep; do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_EGREP="$as_dir/$ac_prog$ac_exec_ext"
      { test -f "$ac_path_EGREP" && $as_test_x "$ac_path_EGREP"; } || continue
# Check for GNU ac_path_EGREP and select it if it is found.
  # Check for GNU $ac_path_EGREP
case `"$ac_path_EGREP" --version 2>&1` in
*GNU*)
  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
*)
  ac_count=0
  $as_echo_n 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    $as_echo 'EGREP' >> "conftest.nl"
    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_EGREP="$ac_path_EGREP"
      ac_path_EGREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_EGREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_EGREP"; then
    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_EGREP=$EGREP
fi

   fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
$as_echo "$ac_cv_path_EGREP" >&6; }
 EGREP="$ac_cv_path_EGREP"



    # AM_PROG_CC_C_O AC_REQUIREs AC_PROG_CC, so we have to be a little
    # careful about ordering here, and AC_REQUIRE these things so that
    # they get stamped out in the right order.








    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the C compiler vendor" >&5
$as_echo_n "checking for the C compiler vendor... " >&6; }
if test "${ompi_cv_c_compiler_vendor+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    ompi_check_compiler_vendor_result="unknown"

    # GNU is probably the most common, so check that one as soon as
    # possible.  Intel pretends to be GNU, so need to check Intel
    # before checking for GNU.

    # Intel
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__INTEL_COMPILER) || defined(__ICC) )
#error "condition defined(__INTEL_COMPILER) || defined(__ICC) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="intel"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # GNU
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __GNUC__
#error "symbol __GNUC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="gnu"

               # We do not support gccfss as a compiler, so die if
               # someone tries to use it.  gccfss (gcc
               # for SPARC Systems) is a compiler that is no longer
               # supported by Oracle, and it has some major flaws
               # that prevents it from actually compiling OMPI code.
               # So if we detect it, we automatically bail.

               if ($CC --version | grep gccfss) >/dev/null 2>&1; then
                   { $as_echo "$as_me:${as_lineno-$LINENO}: result: gccfss" >&5
$as_echo "gccfss" >&6; }
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Detected gccfss being used to compile Open MPI." >&5
$as_echo "$as_me: WARNING: Detected gccfss being used to compile Open MPI." >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Because of several issues, Open MPI does not support" >&5
$as_echo "$as_me: WARNING: Because of several issues, Open MPI does not support" >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: the gccfss compiler.  Please use a different compiler." >&5
$as_echo "$as_me: WARNING: the gccfss compiler.  Please use a different compiler." >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: If you didn't think you used gccfss, you may want to" >&5
$as_echo "$as_me: WARNING: If you didn't think you used gccfss, you may want to" >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: check to see if the compiler you think you used is" >&5
$as_echo "$as_me: WARNING: check to see if the compiler you think you used is" >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: actually a link to gccfss." >&5
$as_echo "$as_me: WARNING: actually a link to gccfss." >&2;}
                   as_fn_error $? "Cannot continue" "$LINENO" 5
               fi
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Borland Turbo C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __TURBOC__
#error "symbol __TURBOC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="borland"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Borland C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __BORLANDC__
#error "symbol __BORLANDC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="borland"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Comeau C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __COMO__
#error "symbol __COMO__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="comeau"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Compaq C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__DECC) || defined(VAXC) || defined(__VAXC) )
#error "condition defined(__DECC) || defined(VAXC) || defined(__VAXC) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="compaq"
else

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__osf__) && defined(__LANGUAGE_C__) )
#error "condition defined(__osf__) && defined(__LANGUAGE_C__) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="compaq"
else

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __DECCXX
#error "symbol __DECCXX not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="compaq"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Cray C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef _CRAYC
#error "symbol _CRAYC not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="cray"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Diab C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __DCC__
#error "symbol __DCC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="diab"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Digital Mars
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__DMC__) || defined(__SC__) || defined(__ZTC__) )
#error "condition defined(__DMC__) || defined(__SC__) || defined(__ZTC__) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="digital mars"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # HP ANSI C / aC++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__HP_cc) || defined(__HP_aCC) )
#error "condition defined(__HP_cc) || defined(__HP_aCC) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="hp"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # IBM XL C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__xlC__) || defined(__IBMC__) || defined(__IBMCPP__) )
#error "condition defined(__xlC__) || defined(__IBMC__) || defined(__IBMCPP__) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="ibm"
else

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(_AIX) && !defined(__GNUC__) )
#error "condition defined(_AIX) && !defined(__GNUC__) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="ibm"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # KAI C++ (rest in peace)
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __KCC
#error "symbol __KCC not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="kai"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # LCC
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __LCC__
#error "symbol __LCC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="lcc"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # MetaWare High C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __HIGHC__
#error "symbol __HIGHC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="metaware high"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Metrowerks Codewarrior
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __MWERKS__
#error "symbol __MWERKS__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="metrowerks"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # MIPSpro (SGI)
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(sgi) || defined(__sgi) )
#error "condition defined(sgi) || defined(__sgi) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="sgi"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # MPW C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__MRC__) || defined(MPW_C) || defined(MPW_CPLUS) )
#error "condition defined(__MRC__) || defined(MPW_C) || defined(MPW_CPLUS) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="mpw"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Microsoft
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :
  # Always use C compiler when checking for Microsoft, as
           # Visual C++ doesn't recognize .cc as a C++ file.
           ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(_MSC_VER) || defined(__MSC_VER) )
#error "condition defined(_MSC_VER) || defined(__MSC_VER) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="microsoft"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
           ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi

    # Norcroft C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __CC_NORCROFT
#error "symbol __CC_NORCROFT not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="norcroft"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Pelles C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __POCC__
#error "symbol __POCC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="pelles"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Portland Group
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __PGI
#error "symbol __PGI not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="portland group"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # SAS/C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(SASC) || defined(__SASC) || defined(__SASC__) )
#error "condition defined(SASC) || defined(__SASC) || defined(__SASC__) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="sas"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Sun Workshop C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__SUNPRO_C) || defined(__SUNPRO_CC) )
#error "condition defined(__SUNPRO_C) || defined(__SUNPRO_CC) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="sun"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # TenDRA C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __TenDRA__
#error "symbol __TenDRA__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="tendra"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Tiny C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __TINYC__
#error "symbol __TINYC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="tiny"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # USL C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __USLC__
#error "symbol __USLC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="usl"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Watcom C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __WATCOMC__
#error "symbol __WATCOMC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="watcom"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    ompi_cv_c_compiler_vendor="$ompi_check_compiler_vendor_result"
    unset ompi_check_compiler_vendor_result

         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_compiler_vendor" >&5
$as_echo "$ompi_cv_c_compiler_vendor" >&6; }

    ompi_c_vendor="$ompi_cv_c_compiler_vendor"


    # Check for standard headers, needed here because needed before
    # the types checks.
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ANSI C header files" >&5
$as_echo_n "checking for ANSI C header files... " >&6; }
if test "${ac_cv_header_stdc+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_header_stdc=yes
else
  ac_cv_header_stdc=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <string.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "memchr" >/dev/null 2>&1; then :

else
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "free" >/dev/null 2>&1; then :

else
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then :
  :
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ctype.h>
#include <stdlib.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
# define ISLOWER(c) \
		   (('a' <= (c) && (c) <= 'i') \
		     || ('j' <= (c) && (c) <= 'r') \
		     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
#endif

#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int
main ()
{
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
	|| toupper (i) != TOUPPER (i))
      return 2;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :

else
  ac_cv_header_stdc=no
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc" >&5
$as_echo "$ac_cv_header_stdc" >&6; }
if test $ac_cv_header_stdc = yes; then

$as_echo "#define STDC_HEADERS 1" >>confdefs.h

fi


    # GNU C and autotools are inconsistent about whether this is
    # defined so let's make it true everywhere for now...  However, IBM
    # XL compilers on PPC Linux behave really badly when compiled with
    # _GNU_SOURCE defined, so don't define it in that situation.
    #
    # Don't use AC_GNU_SOURCE because it requires that no compiler
    # tests are done before setting it, and we need to at least do
    # enough tests to figure out if we're using XL or not.
    if test "$ompi_cv_c_compiler_vendor" != "ibm"; then :

           $as_echo "#define _GNU_SOURCE 1" >>confdefs.h

fi

    # Do we want code coverage
    if test "$WANT_COVERAGE" = "1"; then
        if test "$ompi_c_vendor" = "gnu" ; then
            # For compilers > gcc-4.x, use --coverage for
            # compiling and linking to circumvent trouble with
            # libgcov.
            CFLAGS_orig="$CFLAGS"
            LDFLAGS_orig="$LDFLAGS"

            CFLAGS="$CFLAGS_orig --coverage"
            LDFLAGS="$LDFLAGS_orig --coverage"
            OMPI_COVERAGE_FLAGS=

            { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports --coverage" >&5
$as_echo_n "checking if $CC supports --coverage... " >&6; }
if test "${ompi_cv_cc_coverage+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv_cc_coverage="yes"
else
  ompi_cv_cc_coverage="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cc_coverage" >&5
$as_echo "$ompi_cv_cc_coverage" >&6; }

            if test "$ompi_cv_cc_coverage" = "yes" ; then
                OMPI_COVERAGE_FLAGS="--coverage"
                CLEANFILES="*.gcno ${CLEANFILES}"
                CONFIG_CLEAN_FILES="*.gcda *.gcov ${CONFIG_CLEAN_FILES}"
            else
                OMPI_COVERAGE_FLAGS="-ftest-coverage -fprofile-arcs"
                CLEANFILES="*.bb *.bbg ${CLEANFILES}"
                CONFIG_CLEAN_FILES="*.da *.*.gcov ${CONFIG_CLEAN_FILES}"
            fi
            CFLAGS="$CFLAGS_orig $OMPI_COVERAGE_FLAGS"
            LDFLAGS="$LDFLAGS_orig $OMPI_COVERAGE_FLAGS"
            WRAPPER_EXTRA_CFLAGS="${WRAPPER_EXTRA_CFLAGS} $OMPI_COVERAGE_FLAGS"
            WRAPPER_EXTRA_LDFLAGS="${WRAPPER_EXTRA_LDFLAGS} $OMPI_COVERAGE_FLAGS"


# 1 is the variable name to be uniq-ized
ompi_name=CFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${CFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count

# 1 is the variable name to be uniq-ized
ompi_name=LDFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${LDFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count

# 1 is the variable name to be uniq-ized
ompi_name=WRAPPER_EXTRA_CFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${WRAPPER_EXTRA_CFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count

# 1 is the variable name to be uniq-ized
ompi_name=WRAPPER_EXTRA_LDFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${WRAPPER_EXTRA_LDFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $OMPI_COVERAGE_FLAGS has been added to CFLAGS (--enable-coverage)" >&5
$as_echo "$as_me: WARNING: $OMPI_COVERAGE_FLAGS has been added to CFLAGS (--enable-coverage)" >&2;}

            WANT_DEBUG=1
        else
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Code coverage functionality is currently available only with GCC" >&5
$as_echo "$as_me: WARNING: Code coverage functionality is currently available only with GCC" >&2;}
            as_fn_error $? "Configure: Cannot continue" "$LINENO" 5
       fi
    fi

    # Do we want debugging?
    if test "$WANT_DEBUG" = "1" -a "$enable_debug_symbols" != "no" ; then
        if test "$ompi_c_vendor" = "gnu"; then
            CFLAGS="$CFLAGS -g"  # keep the -g3 for when it will become a standard option.
        else
            CFLAGS="$CFLAGS -g"
        fi


# 1 is the variable name to be uniq-ized
ompi_name=CFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${CFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: -g has been added to CFLAGS (--enable-debug)" >&5
$as_echo "$as_me: WARNING: -g has been added to CFLAGS (--enable-debug)" >&2;}
    fi

    # These flags are generally gcc-specific; even the
    # gcc-impersonating compilers won't accept them.
    OMPI_CFLAGS_BEFORE_PICKY="$CFLAGS"
    if test "$WANT_PICKY_COMPILER" = 1 -a "$ompi_c_vendor" = "gnu" ; then
        add="-Wall -Wundef -Wno-long-long -Wsign-compare"
        add="$add -Wmissing-prototypes -Wstrict-prototypes"
        add="$add -Wcomment -pedantic"

        # see if -Wno-long-double works...
        CFLAGS_orig="$CFLAGS"
        # CFLAGS="$CFLAGS -Wno-long-double"
        # Starting with GCC-4.4, the compiler complains about not
        # knowing -Wno-long-double, only if -Wstrict-prototypes is set, too.
        #
        # Actually, this is not real fix, as GCC will pass on any -Wno- flag,
        # have fun with the warning: -Wno-britney
        CFLAGS="$CFLAGS $add -Wno-long-double -Wstrict-prototypes"

        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports -Wno-long-double" >&5
$as_echo_n "checking if $CC supports -Wno-long-double... " >&6; }
if test "${ompi_cv_cc_wno_long_double+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv_cc_wno_long_double="yes"
else
  ompi_cv_cc_wno_long_double="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cc_wno_long_double" >&5
$as_echo "$ompi_cv_cc_wno_long_double" >&6; }

        CFLAGS="$CFLAGS_orig"
        if test "$ompi_cv_cc_wno_long_double" = "yes" ; then
            add="$add -Wno-long-double"
        fi

        add="$add -Werror-implicit-function-declaration "

        CFLAGS="$CFLAGS $add"

# 1 is the variable name to be uniq-ized
ompi_name=CFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${CFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $add has been added to CFLAGS (--enable-picky)" >&5
$as_echo "$as_me: WARNING: $add has been added to CFLAGS (--enable-picky)" >&2;}
        unset add
    fi

    # See if this version of gcc allows -finline-functions and/or
    # -fno-strict-aliasing.  Even check the gcc-impersonating compilers.
    if test "$GCC" = "yes"; then
        CFLAGS_orig="$CFLAGS"

        CFLAGS="$CFLAGS_orig -finline-functions"
        add=
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports -finline-functions" >&5
$as_echo_n "checking if $CC supports -finline-functions... " >&6; }
if test "${ompi_cv_cc_finline_functions+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv_cc_finline_functions="yes"
else
  ompi_cv_cc_finline_functions="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cc_finline_functions" >&5
$as_echo "$ompi_cv_cc_finline_functions" >&6; }
        if test "$ompi_cv_cc_finline_functions" = "yes" ; then
            add=" -finline-functions"
        fi
        CFLAGS="$CFLAGS_orig$add"

        CFLAGS_orig="$CFLAGS"
        CFLAGS="$CFLAGS_orig -fno-strict-aliasing"
        add=
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports -fno-strict-aliasing" >&5
$as_echo_n "checking if $CC supports -fno-strict-aliasing... " >&6; }
if test "${ompi_cv_cc_fno_strict_aliasing+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv_cc_fno_strict_aliasing="yes"
else
  ompi_cv_cc_fno_strict_aliasing="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cc_fno_strict_aliasing" >&5
$as_echo "$ompi_cv_cc_fno_strict_aliasing" >&6; }
        if test "$ompi_cv_cc_fno_strict_aliasing" = "yes" ; then
            add=" -fno-strict-aliasing"
        fi
        CFLAGS="$CFLAGS_orig$add"


# 1 is the variable name to be uniq-ized
ompi_name=CFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${CFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $add has been added to CFLAGS" >&5
$as_echo "$as_me: WARNING: $add has been added to CFLAGS" >&2;}
        unset add
    fi

    # Try to enable restrict keyword
    RESTRICT_CFLAGS=
    case "$ompi_c_vendor" in
        intel)
            RESTRICT_CFLAGS="-restrict"
        ;;
        sgi)
            RESTRICT_CFLAGS="-LANG:restrict=ON"
        ;;
    esac
    if test ! -z "$RESTRICT_CFLAGS" ; then
        CFLAGS_orig="$CFLAGS"
        CFLAGS="$CFLAGS_orig $RESTRICT_CFLAGS"
        add=
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports $RESTRICT_CFLAGS" >&5
$as_echo_n "checking if $CC supports $RESTRICT_CFLAGS... " >&6; }
if test "${ompi_cv_cc_restrict_cflags+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv_cc_restrict_cflags="yes"
else
  ompi_cv_cc_restrict_cflags="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cc_restrict_cflags" >&5
$as_echo "$ompi_cv_cc_restrict_cflags" >&6; }
        if test "$ompi_cv_cc_restrict_cflags" = "yes" ; then
            add=" $RESTRICT_CFLAGS"
        fi

        CFLAGS="${CFLAGS_orig}${add}"

# 1 is the variable name to be uniq-ized
ompi_name=CFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${CFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count
        if test "$add" != "" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $add has been added to CFLAGS" >&5
$as_echo "$as_me: WARNING: $add has been added to CFLAGS" >&2;}
        fi
        unset add
    fi

    # see if the C compiler supports __builtin_expect
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports __builtin_expect" >&5
$as_echo_n "checking if $CC supports __builtin_expect... " >&6; }
if test "${ompi_cv_cc_supports___builtin_expect+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
void *ptr = (void*) 0;
           if (__builtin_expect (ptr != (void*) 0, 1)) return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ompi_cv_cc_supports___builtin_expect="yes"
else
  ompi_cv_cc_supports___builtin_expect="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cc_supports___builtin_expect" >&5
$as_echo "$ompi_cv_cc_supports___builtin_expect" >&6; }
    if test "$ompi_cv_cc_supports___builtin_expect" = "yes" ; then
        have_builtin_expect=1
    else
        have_builtin_expect=0
    fi

cat >>confdefs.h <<_ACEOF
#define OMPI_C_HAVE_BUILTIN_EXPECT $have_builtin_expect
_ACEOF


    # see if the C compiler supports __builtin_prefetch
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports __builtin_prefetch" >&5
$as_echo_n "checking if $CC supports __builtin_prefetch... " >&6; }
if test "${ompi_cv_cc_supports___builtin_prefetch+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
int ptr;
           __builtin_prefetch(&ptr,0,0);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ompi_cv_cc_supports___builtin_prefetch="yes"
else
  ompi_cv_cc_supports___builtin_prefetch="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cc_supports___builtin_prefetch" >&5
$as_echo "$ompi_cv_cc_supports___builtin_prefetch" >&6; }
    if test "$ompi_cv_cc_supports___builtin_prefetch" = "yes" ; then
        have_builtin_prefetch=1
    else
        have_builtin_prefetch=0
    fi

cat >>confdefs.h <<_ACEOF
#define OMPI_C_HAVE_BUILTIN_PREFETCH $have_builtin_prefetch
_ACEOF


    # Preload the optflags for the case where the user didn't specify
    # any.  If we're using GNU compilers, use -O3 (since it GNU
    # doesn't require all compilation units to be compiled with the
    # same level of optimization -- selecting a high level of
    # optimization is not prohibitive).  If we're using anything else,
    # be conservative and just use -O.
    #
    # Note: gcc-impersonating compilers accept -O3
    if test "$WANT_DEBUG" = "1"; then
        OPTFLAGS=
    else
        if test "$GCC" = yes; then
            OPTFLAGS="-O3"
        else
            OPTFLAGS="-O"
        fi
    fi



# Modularize this setup so that sub-configure.in scripts can use this
# same setup code.

##################################
# Optimization flags
##################################

# If the user did not specify optimization flags, add some (the value
# from $OPTFLAGS)

co_arg=""$OMPI_CFLAGS_BEFORE_PICKY""
co_found=0
for co_word in $co_arg; do
    # See http://www.gnu.org/software/autoconf/manual/html_node/Quadrigraphs.html#Quadrigraphs
    # for an explanation of [ and ] -- they m4 expand to [ and ]
    case $co_word in
    -g)              co_found=1 ;;
    -g[1-3])   co_found=1 ;;
    +K[0-5])   co_found=1 ;;
    -O)              co_found=1 ;;
    -O[0-9])   co_found=1 ;;
    -xO)             co_found=1 ;;
    -xO[0-9])  co_found=1 ;;
    -fast)           co_found=1 ;;

    # The below Sun Studio flags require or
    # trigger -xO optimization
    -xvector*)     co_found=1 ;;
    -xdepend=yes)  co_found=1 ;;

    esac
done

if test "$co_found" = "0"; then
    co_result="$OPTFLAGS $co_arg"
else
    co_result="$co_arg"
fi

# Clean up

unset co_found co_word co_arg

    OMPI_CFLAGS_BEFORE_PICKY="$co_result"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C optimization flags" >&5
$as_echo_n "checking for C optimization flags... " >&6; }


# Modularize this setup so that sub-configure.in scripts can use this
# same setup code.

##################################
# Optimization flags
##################################

# If the user did not specify optimization flags, add some (the value
# from $OPTFLAGS)

co_arg=""$CFLAGS""
co_found=0
for co_word in $co_arg; do
    # See http://www.gnu.org/software/autoconf/manual/html_node/Quadrigraphs.html#Quadrigraphs
    # for an explanation of [ and ] -- they m4 expand to [ and ]
    case $co_word in
    -g)              co_found=1 ;;
    -g[1-3])   co_found=1 ;;
    +K[0-5])   co_found=1 ;;
    -O)              co_found=1 ;;
    -O[0-9])   co_found=1 ;;
    -xO)             co_found=1 ;;
    -xO[0-9])  co_found=1 ;;
    -fast)           co_found=1 ;;

    # The below Sun Studio flags require or
    # trigger -xO optimization
    -xvector*)     co_found=1 ;;
    -xdepend=yes)  co_found=1 ;;

    esac
done

if test "$co_found" = "0"; then
    co_result="$OPTFLAGS $co_arg"
else
    co_result="$co_arg"
fi

# Clean up

unset co_found co_word co_arg

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $co_result" >&5
$as_echo "$co_result" >&6; }
    CFLAGS="$co_result"


# If we build on a windows environment with the windows compiler and linker
# then we need some translation functions from the opal/win32 directory.
 if test "$ompi_cv_c_compiler_vendor" = "microsoft" ; then
  OMPI_NEED_WINDOWS_REPLACEMENTS_TRUE=
  OMPI_NEED_WINDOWS_REPLACEMENTS_FALSE='#'
else
  OMPI_NEED_WINDOWS_REPLACEMENTS_TRUE='#'
  OMPI_NEED_WINDOWS_REPLACEMENTS_FALSE=
fi


# Do all Interix detections if necessary


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Interix environment" >&5
$as_echo_n "checking for Interix environment... " >&6; }
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
#if !defined(__INTERIX)
                    #error Normal Unix environment
                    #endif
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  is_interix=yes
else
  is_interix=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $is_interix" >&5
$as_echo "$is_interix" >&6; }
    if test "$is_interix" = "yes"; then

        ompi_show_subtitle "Interix detection"

        if ! test -d /usr/include/port; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Compiling Open MPI under Interix require an up-to-date" >&5
$as_echo "$as_me: WARNING: Compiling Open MPI under Interix require an up-to-date" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: version of libport. Please ask your system administrator" >&5
$as_echo "$as_me: WARNING: version of libport. Please ask your system administrator" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: to install it (pkg_update -L libport)." >&5
$as_echo "$as_me: WARNING: to install it (pkg_update -L libport)." >&2;}
            as_fn_error $? "*** Cannot continue" "$LINENO" 5
        fi
        #
        # These are the minimum requirements for Interix ...
        #
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING:     -lport was added to the linking flags" >&5
$as_echo "$as_me: WARNING:     -lport was added to the linking flags" >&2;}
        LDFLAGS="-lport $LDFLAGS"
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING:     -D_ALL_SOURCE -D_USE_LIBPORT was added to the compilation flags" >&5
$as_echo "$as_me: WARNING:     -D_ALL_SOURCE -D_USE_LIBPORT was added to the compilation flags" >&2;}
        CFLAGS="-D_ALL_SOURCE -D_USE_LIBPORT -I/usr/include/port $CFLAGS"
        CPPFLAGS="-D_ALL_SOURCE -D_USE_LIBPORT -I/usr/include/port $CPPFLAGS"
        CXXFLAGS="-D_ALL_SOURCE -D_USE_LIBPORT -I/usr/include/port $CXXFLAGS"

    fi



# Does the compiler support "ident"-like constructs?


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C ident string support" >&5
$as_echo_n "checking for C ident string support... " >&6; }

    ompi_pragma_ident_happy=0
    ompi_ident_happy=0
    ompi_static_const_char_happy=0

    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma ident "$ompi_ident"
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:10427: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:10434: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_ident_happy=1
         ompi_message="#pragma ident"
else

    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#ident "$ompi_ident"
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:10469: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:10476: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_ident_happy=1
             ompi_message="#ident"
else

    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:10511: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:10518: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:10540: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:10568: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi

    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:10598: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:10605: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:10627: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}


    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:10670: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:10677: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:10699: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:10736: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi

    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#ident "$ompi_ident"
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:10766: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:10773: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_ident_happy=1
             ompi_message="#ident"
else

    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:10808: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:10815: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:10837: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:10865: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi

    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:10895: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:10902: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:10924: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}


    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:10967: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:10974: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:10996: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}


    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#ident "$ompi_ident"
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:11048: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:11055: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_ident_happy=1
             ompi_message="#ident"
else

    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:11090: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:11097: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:11119: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:11147: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi

    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:11177: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:11184: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:11206: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}


    eval ompi_compiler="\$CC"
    eval ompi_flags="\$CFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.c <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:11249: $ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.c -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:11256: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:11278: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}



cat >>confdefs.h <<_ACEOF
#define OMPI_CC_USE_PRAGMA_IDENT $ompi_pragma_ident_happy
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_CC_USE_IDENT $ompi_ident_happy
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_CC_USE_PRAGMA_COMMENT $ompi_pragma_comment_happy
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_CC_USE_CONST_CHAR_IDENT $ompi_static_const_char_happy
_ACEOF


    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_message" >&5
$as_echo "$ompi_message" >&6; }

    unset ompi_pragma_ident_happy ompi_ident_happy ompi_static_const_char_happy ompi_message


#
# Check for some types
#

# On IRIX 5.3, sys/types and inttypes.h are conflicting.
for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
		  inttypes.h stdint.h unistd.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default
"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF

fi

done


ac_fn_c_check_type "$LINENO" "long long" "ac_cv_type_long_long" "$ac_includes_default"
if test "x$ac_cv_type_long_long" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_LONG_LONG 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "long double" "ac_cv_type_long_double" "$ac_includes_default"
if test "x$ac_cv_type_long_double" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_LONG_DOUBLE 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "int8_t" "ac_cv_type_int8_t" "$ac_includes_default"
if test "x$ac_cv_type_int8_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_INT8_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "uint8_t" "ac_cv_type_uint8_t" "$ac_includes_default"
if test "x$ac_cv_type_uint8_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_UINT8_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "int16_t" "ac_cv_type_int16_t" "$ac_includes_default"
if test "x$ac_cv_type_int16_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_INT16_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "uint16_t" "ac_cv_type_uint16_t" "$ac_includes_default"
if test "x$ac_cv_type_uint16_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_UINT16_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "int32_t" "ac_cv_type_int32_t" "$ac_includes_default"
if test "x$ac_cv_type_int32_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_INT32_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "uint32_t" "ac_cv_type_uint32_t" "$ac_includes_default"
if test "x$ac_cv_type_uint32_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_UINT32_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "int64_t" "ac_cv_type_int64_t" "$ac_includes_default"
if test "x$ac_cv_type_int64_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_INT64_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "uint64_t" "ac_cv_type_uint64_t" "$ac_includes_default"
if test "x$ac_cv_type_uint64_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_UINT64_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "intptr_t" "ac_cv_type_intptr_t" "$ac_includes_default"
if test "x$ac_cv_type_intptr_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_INTPTR_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "uintptr_t" "ac_cv_type_uintptr_t" "$ac_includes_default"
if test "x$ac_cv_type_uintptr_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_UINTPTR_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "mode_t" "ac_cv_type_mode_t" "$ac_includes_default"
if test "x$ac_cv_type_mode_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_MODE_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "ssize_t" "ac_cv_type_ssize_t" "$ac_includes_default"
if test "x$ac_cv_type_ssize_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_SSIZE_T 1
_ACEOF


fi

ac_fn_c_check_type "$LINENO" "ptrdiff_t" "ac_cv_type_ptrdiff_t" "$ac_includes_default"
if test "x$ac_cv_type_ptrdiff_t" = x""yes; then :

cat >>confdefs.h <<_ACEOF
#define HAVE_PTRDIFF_T 1
_ACEOF


fi


#
# Check for type sizes
#

# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of char" >&5
$as_echo_n "checking size of char... " >&6; }
if test "${ac_cv_sizeof_char+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (char))" "ac_cv_sizeof_char"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_char" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (char)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_char=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_char" >&5
$as_echo "$ac_cv_sizeof_char" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_CHAR $ac_cv_sizeof_char
_ACEOF


# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of short" >&5
$as_echo_n "checking size of short... " >&6; }
if test "${ac_cv_sizeof_short+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (short))" "ac_cv_sizeof_short"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_short" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (short)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_short=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_short" >&5
$as_echo "$ac_cv_sizeof_short" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_SHORT $ac_cv_sizeof_short
_ACEOF


# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of int" >&5
$as_echo_n "checking size of int... " >&6; }
if test "${ac_cv_sizeof_int+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (int))" "ac_cv_sizeof_int"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_int" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (int)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_int=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_int" >&5
$as_echo "$ac_cv_sizeof_int" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_INT $ac_cv_sizeof_int
_ACEOF


# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long" >&5
$as_echo_n "checking size of long... " >&6; }
if test "${ac_cv_sizeof_long+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long))" "ac_cv_sizeof_long"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_long" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (long)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_long=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long" >&5
$as_echo "$ac_cv_sizeof_long" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_LONG $ac_cv_sizeof_long
_ACEOF


if test $ac_cv_type_long_long = yes; then
    # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long long" >&5
$as_echo_n "checking size of long long... " >&6; }
if test "${ac_cv_sizeof_long_long+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long long))" "ac_cv_sizeof_long_long"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_long_long" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (long long)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_long_long=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long_long" >&5
$as_echo "$ac_cv_sizeof_long_long" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_LONG_LONG $ac_cv_sizeof_long_long
_ACEOF


fi
if test $ac_cv_type_long_double = yes; then
    # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long double" >&5
$as_echo_n "checking size of long double... " >&6; }
if test "${ac_cv_sizeof_long_double+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long double))" "ac_cv_sizeof_long_double"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_long_double" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (long double)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_long_double=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long_double" >&5
$as_echo "$ac_cv_sizeof_long_double" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_LONG_DOUBLE $ac_cv_sizeof_long_double
_ACEOF


fi
# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of float" >&5
$as_echo_n "checking size of float... " >&6; }
if test "${ac_cv_sizeof_float+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (float))" "ac_cv_sizeof_float"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_float" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (float)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_float=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_float" >&5
$as_echo "$ac_cv_sizeof_float" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_FLOAT $ac_cv_sizeof_float
_ACEOF


# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of double" >&5
$as_echo_n "checking size of double... " >&6; }
if test "${ac_cv_sizeof_double+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (double))" "ac_cv_sizeof_double"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_double" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (double)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_double=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_double" >&5
$as_echo "$ac_cv_sizeof_double" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_DOUBLE $ac_cv_sizeof_double
_ACEOF


# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of void *" >&5
$as_echo_n "checking size of void *... " >&6; }
if test "${ac_cv_sizeof_void_p+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (void *))" "ac_cv_sizeof_void_p"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_void_p" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (void *)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_void_p=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_void_p" >&5
$as_echo "$ac_cv_sizeof_void_p" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_VOID_P $ac_cv_sizeof_void_p
_ACEOF


# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of size_t" >&5
$as_echo_n "checking size of size_t... " >&6; }
if test "${ac_cv_sizeof_size_t+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (size_t))" "ac_cv_sizeof_size_t"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_size_t" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (size_t)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_size_t=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_size_t" >&5
$as_echo "$ac_cv_sizeof_size_t" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_SIZE_T $ac_cv_sizeof_size_t
_ACEOF


if test $ac_cv_type_ssize_t = yes ; then
    # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of ssize_t" >&5
$as_echo_n "checking size of ssize_t... " >&6; }
if test "${ac_cv_sizeof_ssize_t+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (ssize_t))" "ac_cv_sizeof_ssize_t"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_ssize_t" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (ssize_t)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_ssize_t=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_ssize_t" >&5
$as_echo "$ac_cv_sizeof_ssize_t" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_SSIZE_T $ac_cv_sizeof_ssize_t
_ACEOF


fi
if test $ac_cv_type_ptrdiff_t = yes; then
    # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of ptrdiff_t" >&5
$as_echo_n "checking size of ptrdiff_t... " >&6; }
if test "${ac_cv_sizeof_ptrdiff_t+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (ptrdiff_t))" "ac_cv_sizeof_ptrdiff_t"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_ptrdiff_t" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (ptrdiff_t)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_ptrdiff_t=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_ptrdiff_t" >&5
$as_echo "$ac_cv_sizeof_ptrdiff_t" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_PTRDIFF_T $ac_cv_sizeof_ptrdiff_t
_ACEOF


fi

#
# Check for type alignments
#


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of char" >&5
$as_echo_n "checking alignment of char... " >&6; }
if test "${ompi_cv_c_align_char+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_char"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; char y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; char x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_char=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_char" >&5
$as_echo "$ompi_cv_c_align_char" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_CHAR $ompi_cv_c_align_char
_ACEOF

eval "OMPI_ALIGNMENT_CHAR=$ompi_cv_c_align_char"

rm -rf conftest*

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of short" >&5
$as_echo_n "checking alignment of short... " >&6; }
if test "${ompi_cv_c_align_short+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_short"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; short y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; short x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_short=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_short" >&5
$as_echo "$ompi_cv_c_align_short" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_SHORT $ompi_cv_c_align_short
_ACEOF

eval "OMPI_ALIGNMENT_SHORT=$ompi_cv_c_align_short"

rm -rf conftest*

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of wchar_t" >&5
$as_echo_n "checking alignment of wchar_t... " >&6; }
if test "${ompi_cv_c_align_wchar_t+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_wchar_t"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; wchar_t y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; wchar_t x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_wchar_t=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_wchar_t" >&5
$as_echo "$ompi_cv_c_align_wchar_t" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_WCHAR $ompi_cv_c_align_wchar_t
_ACEOF

eval "OMPI_ALIGNMENT_WCHAR=$ompi_cv_c_align_wchar_t"

rm -rf conftest*

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of int" >&5
$as_echo_n "checking alignment of int... " >&6; }
if test "${ompi_cv_c_align_int+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_int"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; int y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; int x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_int=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_int" >&5
$as_echo "$ompi_cv_c_align_int" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_INT $ompi_cv_c_align_int
_ACEOF

eval "OMPI_ALIGNMENT_INT=$ompi_cv_c_align_int"

rm -rf conftest*

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of long" >&5
$as_echo_n "checking alignment of long... " >&6; }
if test "${ompi_cv_c_align_long+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_long"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; long y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; long x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_long=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_long" >&5
$as_echo "$ompi_cv_c_align_long" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_LONG $ompi_cv_c_align_long
_ACEOF

eval "OMPI_ALIGNMENT_LONG=$ompi_cv_c_align_long"

rm -rf conftest*
if test $ac_cv_type_long_long = yes; then

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of long long" >&5
$as_echo_n "checking alignment of long long... " >&6; }
if test "${ompi_cv_c_align_long_long+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_long_long"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; long long y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; long long x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_long_long=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_long_long" >&5
$as_echo "$ompi_cv_c_align_long_long" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_LONG_LONG $ompi_cv_c_align_long_long
_ACEOF

eval "OMPI_ALIGNMENT_LONG_LONG=$ompi_cv_c_align_long_long"

rm -rf conftest*
fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of float" >&5
$as_echo_n "checking alignment of float... " >&6; }
if test "${ompi_cv_c_align_float+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_float"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; float y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; float x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_float=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_float" >&5
$as_echo "$ompi_cv_c_align_float" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FLOAT $ompi_cv_c_align_float
_ACEOF

eval "OMPI_ALIGNMENT_FLOAT=$ompi_cv_c_align_float"

rm -rf conftest*

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of double" >&5
$as_echo_n "checking alignment of double... " >&6; }
if test "${ompi_cv_c_align_double+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_double"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; double y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; double x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_double=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_double" >&5
$as_echo "$ompi_cv_c_align_double" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_DOUBLE $ompi_cv_c_align_double
_ACEOF

eval "OMPI_ALIGNMENT_DOUBLE=$ompi_cv_c_align_double"

rm -rf conftest*
if test $ac_cv_type_long_double = yes; then

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of long double" >&5
$as_echo_n "checking alignment of long double... " >&6; }
if test "${ompi_cv_c_align_long_double+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_long_double"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; long double y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; long double x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_long_double=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_long_double" >&5
$as_echo "$ompi_cv_c_align_long_double" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_LONG_DOUBLE $ompi_cv_c_align_long_double
_ACEOF

eval "OMPI_ALIGNMENT_LONG_DOUBLE=$ompi_cv_c_align_long_double"

rm -rf conftest*
fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of void *" >&5
$as_echo_n "checking alignment of void *... " >&6; }
if test "${ompi_cv_c_align_void_p+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_c_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_void_p"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; void * y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; void * x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_cv_c_align_void_p=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_void_p" >&5
$as_echo "$ompi_cv_c_align_void_p" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_VOID_P $ompi_cv_c_align_void_p
_ACEOF

eval "OMPI_ALIGNMENT_VOID_P=$ompi_cv_c_align_void_p"

rm -rf conftest*

#
# Does the C compiler native support "bool"? (i.e., without
# <stdbool.h> or any other help)
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for C bool type" >&5
$as_echo_n "checking for C bool type... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

$ac_includes_default
int
main ()
{
bool bar, foo = true; bar = foo;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  OMPI_NEED_C_BOOL=0 MSG=yes
else
  OMPI_NEED_C_BOOL=1 MSG=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

cat >>confdefs.h <<_ACEOF
#define OMPI_NEED_C_BOOL $OMPI_NEED_C_BOOL
_ACEOF

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $MSG" >&5
$as_echo "$MSG" >&6; }

#
# Check for other compiler characteristics
#

if test "$GCC" = "yes"; then

    # gcc 2.96 will emit oodles of warnings if you use "inline" with
    # -pedantic (which we do in developer builds).  However,
    # "__inline__" is ok.  So we have to force gcc to select the
    # right one.  If you use -pedantic, the AC_C_INLINE test will fail
    # (because it names a function foo() -- without the (void)).  So
    # we turn off all the picky flags, turn on -ansi mode (which is
    # implied by -pedantic), and set warnings to be errors.  Hence,
    # this does the following (for 2.96):
    #
    # - causes the check for "inline" to emit a warning, which then
    # fails
    # - checks for __inline__, which then emits no error, and works
    #
    # This also works nicely for gcc 3.x because "inline" will work on
    # the first check, and all is fine.  :-)

    CFLAGS_save="$CFLAGS"
    CFLAGS="$OMPI_CFLAGS_BEFORE_PICKY -Werror -ansi"
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for inline" >&5
$as_echo_n "checking for inline... " >&6; }
if test "${ac_cv_c_inline+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_cv_c_inline=no
for ac_kw in inline __inline__ __inline; do
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __cplusplus
typedef int foo_t;
static $ac_kw foo_t static_foo () {return 0; }
$ac_kw foo_t foo () {return 0; }
#endif

_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_c_inline=$ac_kw
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  test "$ac_cv_c_inline" != no && break
done

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_inline" >&5
$as_echo "$ac_cv_c_inline" >&6; }

case $ac_cv_c_inline in
  inline | yes) ;;
  *)
    case $ac_cv_c_inline in
      no) ac_val=;;
      *) ac_val=$ac_cv_c_inline;;
    esac
    cat >>confdefs.h <<_ACEOF
#ifndef __cplusplus
#define inline $ac_val
#endif
_ACEOF
    ;;
esac

# Microsoft compilers support 2 versions of restrict. One for functions, and
# one for variables. The problem is that they don't have an equivalent
# syntax, and the autoconf restrict detection is unable to detect them
# correctly. It detect the restrict keyword as __restrict which break the
# rules for function syntax which is declspec(restrict).
if test "x$ompi_cv_c_compiler_vendor" != "xmicrosoft"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C/C++ restrict keyword" >&5
$as_echo_n "checking for C/C++ restrict keyword... " >&6; }
if test "${ac_cv_c_restrict+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_cv_c_restrict=no
   # The order here caters to the fact that C++ does not require restrict.
   for ac_kw in __restrict __restrict__ _Restrict restrict; do
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
typedef int * int_ptr;
	int foo (int_ptr $ac_kw ip) {
	return ip[0];
       }
int
main ()
{
int s[1];
	int * $ac_kw t = s;
	t[0] = 0;
	return foo(t)
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_c_restrict=$ac_kw
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     test "$ac_cv_c_restrict" != no && break
   done

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_restrict" >&5
$as_echo "$ac_cv_c_restrict" >&6; }

 case $ac_cv_c_restrict in
   restrict) ;;
   no) $as_echo "#define restrict /**/" >>confdefs.h
 ;;
   *)  cat >>confdefs.h <<_ACEOF
#define restrict $ac_cv_c_restrict
_ACEOF
 ;;
 esac

fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for weak symbol support" >&5
$as_echo_n "checking for weak symbol support... " >&6; }
if test "${ompi_cv_c_weak_symbols+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    # need two files because icc will incorrectly not create the
    # symbols if they are not used in the object file in which they
    # are defined.  Blah!
    # To get to compile with icc, have them in a separate header.
    cat > conftest_weak.h <<EOF
int real(int i);
int fake(int i);
EOF

    cat > conftest_weak.c <<EOF
#include "conftest_weak.h"
#pragma weak fake = real
int real(int i) { return i; }
EOF

    cat > conftest.c <<EOF
#include "conftest_weak.h"
int main() { return fake(3); }
EOF

# Try the compile

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:12821: $CC $CFLAGS  -c conftest_weak.c" >&5
$CC $CFLAGS  -c conftest_weak.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:12828: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:12838: $CC $CFLAGS  conftest.c conftest_weak.o -o conftest $LDFLAGS $LIBS" >&5
$CC $CFLAGS  conftest.c conftest_weak.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:12845: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    ompi_c_weak_symbols_happy=1
else
    unset ompi_status
    ompi_c_weak_symbols_happy=0
fi
else
    unset ompi_status
    ompi_c_weak_symbols_happy=0
fi

    if test "$ompi_c_weak_symbols_happy" = "1"; then :
  ompi_cv_c_weak_symbols="yes"
else
  ompi_cv_c_weak_symbols="no"
fi

    unset ompi_c_weak_symbols_happy
    rm -f conftest_weak.h conftest_weak.c conftest.c conftest

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_weak_symbols" >&5
$as_echo "$ompi_cv_c_weak_symbols" >&6; }

    if test "$ompi_cv_c_weak_symbols" = "yes"; then :
  OMPI_C_HAVE_WEAK_SYMBOLS=1
else
  OMPI_C_HAVE_WEAK_SYMBOLS=0
fi

if test "$GCC" = "yes"; then
    CFLAGS="$CFLAGS_save"
fi

if test "x$CC" = "xicc"; then

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether icc-8.1 for EM64T works with variable arguments" >&5
$as_echo_n "checking whether icc-8.1 for EM64T works with variable arguments... " >&6; }
if test "$cross_compiling" = yes; then :
  ompi_ac_icc_varargs=1
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdarg.h>
#include <stdio.h>
#include <stdlib.h>

void func (int c, char * f, ...)
{
  va_list arglist;
  va_start (arglist, f);
  /* vprintf (f, arglist); */
  va_end (arglist);
}

int main ()
{
  FILE *f;
  func (4711, "Help %d [%s]\n", 10, "ten");
  f=fopen ("conftestval", "w");
  if (!f) exit (1);
  return 0;
}


_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ompi_ac_icc_varargs=`test -f conftestval`
else
  ompi_ac_icc_varargs=1
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi


if test "$ompi_ac_icc_varargs" = "1"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Your icc-8.1 compiler seems to miscompile va_start!" >&5
$as_echo "$as_me: WARNING: *** Your icc-8.1 compiler seems to miscompile va_start!" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Please upgrade compiler to at least version 8.1.027" >&5
$as_echo "$as_me: WARNING: *** Please upgrade compiler to at least version 8.1.027" >&2;}
    as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }

rm -rf conftest*
fi

# If we want the profiling layer:
# - If the C compiler has weak symbols, use those.
# - If not, then set to compile the code again with #define's in a
#   separate directory.

if test "$WANT_WEAK_SYMBOLS" = "0"; then
    OMPI_C_HAVE_WEAK_SYMBOLS=0
fi
if test "$WANT_MPI_PROFILING" = "1"; then
    if test "$OMPI_C_HAVE_WEAK_SYMBOLS" = "1"; then
	OMPI_PROFILING_COMPILE_SEPARATELY=0
    else
	OMPI_PROFILING_COMPILE_SEPARATELY=1
    fi
else
    OMPI_PROFILING_COMPILE_SEPARATELY=0
fi

# Check if we support the offsetof compiler directive




    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in have_offsetof_msg; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"have_offsetof_msg\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for functional offsetof macro" >&5
$as_echo_n "checking for functional offsetof macro... " >&6; }
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include<stddef.h>
int
main ()
{
struct foo {int a, b;}; size_t offset = offsetof(struct foo, b);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  have_offsetof_msg="yes"
else
  have_offsetof_msg="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    if test "$have_offsetof_msg" = "no"; then
        CPPFLAGS="$CPPFLAGS -DNO_PGI_OFFSET"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include<stddef.h>
int
main ()
{
struct foo {int a, b;}; size_t offset = offsetof(struct foo, b);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  have_offsetof_msg="yes"
else
  have_offsetof_msg="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

        if test "$have_offsetof_msg" = "no"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: $have_offsetof_msg" >&5
$as_echo "$have_offsetof_msg" >&6; }
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Your compiler does not support offsetof macro" >&5
$as_echo "$as_me: WARNING: Your compiler does not support offsetof macro" >&2;}
            as_fn_error $? "Configure: Cannot continue" "$LINENO" 5
        fi
    fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $have_offsetof_msg" >&5
$as_echo "$have_offsetof_msg" >&6; }

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done



#
# There are 2 layers to the MPI Language binidings One layer generates
# MPI_* bindings. The other layer generates PMPI_* bindings. The
# following conditions determine whether each (or both) these layers
# are built.
# 1. MPI_* bindings are needed if:
#	- Profiling is not required
#   - Profiling is required but weak symbols are not
#	  supported
# 2. PMPI_* bindings are needed if profiling is required.  Hence we
# define 2 conditionals which tell us whether each of these layers
# need to be built or NOT
#

 if test "$WANT_MPI_PROFILING" = 0 -o "$OMPI_PROFILING_COMPILE_SEPARATELY" = 1; then
  WANT_MPI_BINDINGS_LAYER_TRUE=
  WANT_MPI_BINDINGS_LAYER_FALSE='#'
else
  WANT_MPI_BINDINGS_LAYER_TRUE='#'
  WANT_MPI_BINDINGS_LAYER_FALSE=
fi


 if test "$WANT_MPI_PROFILING" = 1; then
  WANT_PMPI_BINDINGS_LAYER_TRUE=
  WANT_PMPI_BINDINGS_LAYER_FALSE='#'
else
  WANT_PMPI_BINDINGS_LAYER_TRUE='#'
  WANT_PMPI_BINDINGS_LAYER_FALSE=
fi

 if test "$OMPI_PROFILING_COMPILE_SEPARATELY" = 1; then
  COMPILE_PROFILING_SEPARATELY_TRUE=
  COMPILE_PROFILING_SEPARATELY_FALSE='#'
else
  COMPILE_PROFILING_SEPARATELY_TRUE='#'
  COMPILE_PROFILING_SEPARATELY_FALSE=
fi


cat >>confdefs.h <<_ACEOF
#define OMPI_ENABLE_MPI_PROFILING $WANT_MPI_PROFILING
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_WEAK_SYMBOLS $OMPI_C_HAVE_WEAK_SYMBOLS
_ACEOF



##################################
# C++ compiler characteristics
##################################


    ompi_show_subtitle "C++ compiler and preprocessor"




    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ompi_cxxflags_save; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ompi_cxxflags_save\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    ompi_cxxflags_save="$CXXFLAGS"
    ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
if test -z "$CXX"; then
  if test -n "$CCC"; then
    CXX=$CCC
  else
    if test -n "$ac_tool_prefix"; then
  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_CXX+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CXX"; then
  ac_cv_prog_CXX="$CXX" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CXX="$ac_tool_prefix$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CXX=$ac_cv_prog_CXX
if test -n "$CXX"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CXX" >&5
$as_echo "$CXX" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    test -n "$CXX" && break
  done
fi
if test -z "$CXX"; then
  ac_ct_CXX=$CXX
  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_ac_ct_CXX+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_CXX"; then
  ac_cv_prog_ac_ct_CXX="$ac_ct_CXX" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_CXX="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CXX=$ac_cv_prog_ac_ct_CXX
if test -n "$ac_ct_CXX"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CXX" >&5
$as_echo "$ac_ct_CXX" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$ac_ct_CXX" && break
done

  if test "x$ac_ct_CXX" = x; then
    CXX="g++"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CXX=$ac_ct_CXX
  fi
fi

  fi
fi
# Provide some information about the compiler.
$as_echo "$as_me:${as_lineno-$LINENO}: checking for C++ compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C++ compiler" >&5
$as_echo_n "checking whether we are using the GNU C++ compiler... " >&6; }
if test "${ac_cv_cxx_compiler_gnu+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_compiler_gnu=yes
else
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
ac_cv_cxx_compiler_gnu=$ac_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_cxx_compiler_gnu" >&5
$as_echo "$ac_cv_cxx_compiler_gnu" >&6; }
if test $ac_compiler_gnu = yes; then
  GXX=yes
else
  GXX=
fi
ac_test_CXXFLAGS=${CXXFLAGS+set}
ac_save_CXXFLAGS=$CXXFLAGS
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CXX accepts -g" >&5
$as_echo_n "checking whether $CXX accepts -g... " >&6; }
if test "${ac_cv_prog_cxx_g+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_save_cxx_werror_flag=$ac_cxx_werror_flag
   ac_cxx_werror_flag=yes
   ac_cv_prog_cxx_g=no
   CXXFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_cv_prog_cxx_g=yes
else
  CXXFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

else
  ac_cxx_werror_flag=$ac_save_cxx_werror_flag
	 CXXFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_cv_prog_cxx_g=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   ac_cxx_werror_flag=$ac_save_cxx_werror_flag
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_g" >&5
$as_echo "$ac_cv_prog_cxx_g" >&6; }
if test "$ac_test_CXXFLAGS" = set; then
  CXXFLAGS=$ac_save_CXXFLAGS
elif test $ac_cv_prog_cxx_g = yes; then
  if test "$GXX" = yes; then
    CXXFLAGS="-g -O2"
  else
    CXXFLAGS="-g"
  fi
else
  if test "$GXX" = yes; then
    CXXFLAGS="-O2"
  else
    CXXFLAGS=
  fi
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

depcc="$CXX"  am_compiler_list=

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
$as_echo_n "checking dependency style of $depcc... " >&6; }
if test "${am_cv_CXX_dependencies_compiler_type+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
  # We make a subdir and do the tests there.  Otherwise we can end up
  # making bogus files that we don't know about and never remove.  For
  # instance it was reported that on HP-UX the gcc test will end up
  # making a dummy file named `D' -- because `-MD' means `put the output
  # in D'.
  mkdir conftest.dir
  # Copy depcomp to subdir because otherwise we won't find it if we're
  # using a relative directory.
  cp "$am_depcomp" conftest.dir
  cd conftest.dir
  # We will build objects and dependencies in a subdirectory because
  # it helps to detect inapplicable dependency modes.  For instance
  # both Tru64's cc and ICC support -MD to output dependencies as a
  # side effect of compilation, but ICC will put the dependencies in
  # the current directory while Tru64 will put them in the object
  # directory.
  mkdir sub

  am_cv_CXX_dependencies_compiler_type=none
  if test "$am_compiler_list" = ""; then
     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
  fi
  am__universal=false
  case " $depcc " in #(
     *\ -arch\ *\ -arch\ *) am__universal=true ;;
     esac

  for depmode in $am_compiler_list; do
    # Setup a source with many dependencies, because some compilers
    # like to wrap large dependency lists on column 80 (with \), and
    # we should not choose a depcomp mode which is confused by this.
    #
    # We need to recreate these files for each test, as the compiler may
    # overwrite some of them when testing with obscure command lines.
    # This happens at least with the AIX C compiler.
    : > sub/conftest.c
    for i in 1 2 3 4 5 6; do
      echo '#include "conftst'$i'.h"' >> sub/conftest.c
      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
      # Solaris 8's {/usr,}/bin/sh.
      touch sub/conftst$i.h
    done
    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf

    # We check with `-c' and `-o' for the sake of the "dashmstdout"
    # mode.  It turns out that the SunPro C++ compiler does not properly
    # handle `-M -o', and we need to detect this.  Also, some Intel
    # versions had trouble with output in subdirs
    am__obj=sub/conftest.${OBJEXT-o}
    am__minus_obj="-o $am__obj"
    case $depmode in
    gcc)
      # This depmode causes a compiler race in universal mode.
      test "$am__universal" = false || continue
      ;;
    nosideeffect)
      # after this tag, mechanisms are not by side-effect, so they'll
      # only be used when explicitly requested
      if test "x$enable_dependency_tracking" = xyes; then
	continue
      else
	break
      fi
      ;;
    msvisualcpp | msvcmsys)
      # This compiler won't grok `-c -o', but also, the minuso test has
      # not run yet.  These depmodes are late enough in the game, and
      # so weak that their functioning should not be impacted.
      am__obj=conftest.${OBJEXT-o}
      am__minus_obj=
      ;;
    none) break ;;
    esac
    if depmode=$depmode \
       source=sub/conftest.c object=$am__obj \
       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \
         >/dev/null 2>conftest.err &&
       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&
       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
      # icc doesn't choke on unknown options, it will just issue warnings
      # or remarks (even with -Werror).  So we grep stderr for any message
      # that says an option was ignored or not supported.
      # When given -MP, icc 7.0 and 7.1 complain thusly:
      #   icc: Command line warning: ignoring option '-M'; no argument required
      # The diagnosis changed in icc 8.0:
      #   icc: Command line remark: option '-MP' not supported
      if (grep 'ignoring option' conftest.err ||
          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
        am_cv_CXX_dependencies_compiler_type=$depmode
        break
      fi
    fi
  done

  cd ..
  rm -rf conftest.dir
else
  am_cv_CXX_dependencies_compiler_type=none
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_CXX_dependencies_compiler_type" >&5
$as_echo "$am_cv_CXX_dependencies_compiler_type" >&6; }
CXXDEPMODE=depmode=$am_cv_CXX_dependencies_compiler_type

 if
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CXX_dependencies_compiler_type" = gcc3; then
  am__fastdepCXX_TRUE=
  am__fastdepCXX_FALSE='#'
else
  am__fastdepCXX_TRUE='#'
  am__fastdepCXX_FALSE=
fi


    ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking how to run the C++ preprocessor" >&5
$as_echo_n "checking how to run the C++ preprocessor... " >&6; }
if test -z "$CXXCPP"; then
  if test "${ac_cv_prog_CXXCPP+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
      # Double quotes because CXXCPP needs to be expanded
    for CXXCPP in "$CXX -E" "/lib/cpp"
    do
      ac_preproc_ok=false
for ac_cxx_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
_ACEOF
if ac_fn_cxx_try_cpp "$LINENO"; then :

else
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if ac_fn_cxx_try_cpp "$LINENO"; then :
  # Broken: success on invalid input.
continue
else
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok; then :
  break
fi

    done
    ac_cv_prog_CXXCPP=$CXXCPP

fi
  CXXCPP=$ac_cv_prog_CXXCPP
else
  ac_cv_prog_CXXCPP=$CXXCPP
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $CXXCPP" >&5
$as_echo "$CXXCPP" >&6; }
ac_preproc_ok=false
for ac_cxx_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
_ACEOF
if ac_fn_cxx_try_cpp "$LINENO"; then :

else
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if ac_fn_cxx_try_cpp "$LINENO"; then :
  # Broken: success on invalid input.
continue
else
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok; then :

else
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "C++ preprocessor \"$CXXCPP\" fails sanity check
See \`config.log' for more details" "$LINENO" 5 ; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    CXXFLAGS="$ompi_cxxflags_save"

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done




    # Must REQUIRE the PROG_CXX macro and not call it directly here for
    # reasons well-described in the AC2.64 (and beyond) docs.

    BASECXX="`basename $CXX`"

cat >>confdefs.h <<_ACEOF
#define OMPI_CXX "$CXX"
_ACEOF

    set dummy $CXX
    ompi_cxx_argv0=$2

# 1 is the variable name to do "which" on
# 2 is the variable name to assign the return value to



    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ompi_prog ompi_file ompi_dir ompi_sentinel; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ompi_prog ompi_file ompi_dir ompi_sentinel\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


ompi_prog=$ompi_cxx_argv0

IFS_SAVE=$IFS
IFS="$PATH_SEPARATOR"
for ompi_dir in $PATH; do
    if test -x "$ompi_dir/$ompi_prog"; then
        OMPI_CXX_ABSOLUTE="$ompi_dir/$ompi_prog"
        break
    fi
done
IFS=$IFS_SAVE


    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done







    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the C++ compiler vendor" >&5
$as_echo_n "checking for the C++ compiler vendor... " >&6; }
if test "${ompi_cv_cxx_compiler_vendor+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu


    ompi_check_compiler_vendor_result="unknown"

    # GNU is probably the most common, so check that one as soon as
    # possible.  Intel pretends to be GNU, so need to check Intel
    # before checking for GNU.

    # Intel
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__INTEL_COMPILER) || defined(__ICC) )
#error "condition defined(__INTEL_COMPILER) || defined(__ICC) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="intel"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # GNU
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __GNUC__
#error "symbol __GNUC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="gnu"

               # We do not support gccfss as a compiler, so die if
               # someone tries to use it.  gccfss (gcc
               # for SPARC Systems) is a compiler that is no longer
               # supported by Oracle, and it has some major flaws
               # that prevents it from actually compiling OMPI code.
               # So if we detect it, we automatically bail.

               if ($CC --version | grep gccfss) >/dev/null 2>&1; then
                   { $as_echo "$as_me:${as_lineno-$LINENO}: result: gccfss" >&5
$as_echo "gccfss" >&6; }
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Detected gccfss being used to compile Open MPI." >&5
$as_echo "$as_me: WARNING: Detected gccfss being used to compile Open MPI." >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Because of several issues, Open MPI does not support" >&5
$as_echo "$as_me: WARNING: Because of several issues, Open MPI does not support" >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: the gccfss compiler.  Please use a different compiler." >&5
$as_echo "$as_me: WARNING: the gccfss compiler.  Please use a different compiler." >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: If you didn't think you used gccfss, you may want to" >&5
$as_echo "$as_me: WARNING: If you didn't think you used gccfss, you may want to" >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: check to see if the compiler you think you used is" >&5
$as_echo "$as_me: WARNING: check to see if the compiler you think you used is" >&2;}
                   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: actually a link to gccfss." >&5
$as_echo "$as_me: WARNING: actually a link to gccfss." >&2;}
                   as_fn_error $? "Cannot continue" "$LINENO" 5
               fi
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Borland Turbo C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __TURBOC__
#error "symbol __TURBOC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="borland"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Borland C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __BORLANDC__
#error "symbol __BORLANDC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="borland"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Comeau C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __COMO__
#error "symbol __COMO__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="comeau"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Compaq C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__DECC) || defined(VAXC) || defined(__VAXC) )
#error "condition defined(__DECC) || defined(VAXC) || defined(__VAXC) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="compaq"
else

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__osf__) && defined(__LANGUAGE_C__) )
#error "condition defined(__osf__) && defined(__LANGUAGE_C__) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="compaq"
else

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __DECCXX
#error "symbol __DECCXX not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="compaq"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Cray C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef _CRAYC
#error "symbol _CRAYC not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="cray"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Diab C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __DCC__
#error "symbol __DCC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="diab"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Digital Mars
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__DMC__) || defined(__SC__) || defined(__ZTC__) )
#error "condition defined(__DMC__) || defined(__SC__) || defined(__ZTC__) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="digital mars"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # HP ANSI C / aC++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__HP_cc) || defined(__HP_aCC) )
#error "condition defined(__HP_cc) || defined(__HP_aCC) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="hp"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # IBM XL C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__xlC__) || defined(__IBMC__) || defined(__IBMCPP__) )
#error "condition defined(__xlC__) || defined(__IBMC__) || defined(__IBMCPP__) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="ibm"
else

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(_AIX) && !defined(__GNUC__) )
#error "condition defined(_AIX) && !defined(__GNUC__) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="ibm"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # KAI C++ (rest in peace)
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __KCC
#error "symbol __KCC not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="kai"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # LCC
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __LCC__
#error "symbol __LCC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="lcc"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # MetaWare High C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __HIGHC__
#error "symbol __HIGHC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="metaware high"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Metrowerks Codewarrior
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __MWERKS__
#error "symbol __MWERKS__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="metrowerks"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # MIPSpro (SGI)
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(sgi) || defined(__sgi) )
#error "condition defined(sgi) || defined(__sgi) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="sgi"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # MPW C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__MRC__) || defined(MPW_C) || defined(MPW_CPLUS) )
#error "condition defined(__MRC__) || defined(MPW_C) || defined(MPW_CPLUS) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="mpw"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Microsoft
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :
  # Always use C compiler when checking for Microsoft, as
           # Visual C++ doesn't recognize .cc as a C++ file.
           ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(_MSC_VER) || defined(__MSC_VER) )
#error "condition defined(_MSC_VER) || defined(__MSC_VER) not met"
choke me
#endif
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="microsoft"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
           ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

fi

    # Norcroft C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __CC_NORCROFT
#error "symbol __CC_NORCROFT not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="norcroft"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Pelles C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __POCC__
#error "symbol __POCC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="pelles"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Portland Group
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __PGI
#error "symbol __PGI not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="portland group"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # SAS/C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(SASC) || defined(__SASC) || defined(__SASC__) )
#error "condition defined(SASC) || defined(__SASC) || defined(__SASC__) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="sas"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Sun Workshop C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if !( defined(__SUNPRO_C) || defined(__SUNPRO_CC) )
#error "condition defined(__SUNPRO_C) || defined(__SUNPRO_CC) not met"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="sun"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # TenDRA C/C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __TenDRA__
#error "symbol __TenDRA__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="tendra"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Tiny C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __TINYC__
#error "symbol __TINYC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="tiny"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # USL C
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __USLC__
#error "symbol __USLC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="usl"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    # Watcom C++
    if test "$ompi_check_compiler_vendor_result" = "unknown"; then :

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __WATCOMC__
#error "symbol __WATCOMC__ not defined"
choke me
#endif
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_check_compiler_vendor_result="watcom"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

    ompi_cv_cxx_compiler_vendor="$ompi_check_compiler_vendor_result"
    unset ompi_check_compiler_vendor_result

         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cxx_compiler_vendor" >&5
$as_echo "$ompi_cv_cxx_compiler_vendor" >&6; }

    ompi_cxx_vendor="$ompi_cv_c_compiler_vendor"


    # Make sure that the C++ compiler both works and is actually a C++
    # compiler (if not cross-compiling).  Don't just use the AC macro
    # so that we can have a pretty message.  Do something here that
    # should force the linking of C++-specific things (e.g., STL
    # strings) so that we can force a hard check of compiling,
    # linking, and running a C++ application Note that some C
    # compilers, such as at least some versions of the GNU and Intel
    # compilers, will detect that the file extension is ".cc" and
    # therefore switch into a pseudo-C++ personality which works for
    # *compiling*, but does not work for *linking*.  So in this test,
    # we want to cover the entire spectrum (compiling, linking,
    # running).

	if test "$ompi_cv_cxx_compiler_vendor" != "microsoft" ; then


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if C++ compiler works" >&5
$as_echo_n "checking if C++ compiler works... " >&6; }
if test "${ompi_cv_Cpp_works+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

         if test "$cross_compiling" = yes; then :
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <string>
int
main ()
{
std::string foo = "Hello, world"
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"; then :
  ompi_cv_Cpp_works="links (cross compiling)"
else
  ompi_cv_Cpp_works="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <string>
int
main ()
{
std::string foo = "Hello, world"
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_run "$LINENO"; then :
  ompi_cv_Cpp_works="yes"
else
  ompi_cv_Cpp_works="no"
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_Cpp_works" >&5
$as_echo "$ompi_cv_Cpp_works" >&6; }
    if test "x$ompi_cv_Cpp_works" = x""no; then :
  cat <<EOF >&2
**********************************************************************
* It appears that your C++ compiler is unable to produce working
* executables.  A simple test application failed to properly
* execute.  Note that this is likely not a problem with Open MPI,
* but a problem with the local compiler installation.  More
* information (including exactly what command was given to the
* compiler and what error resulted when the command was executed) is
* available in the config.log file in this directory.
**********************************************************************
EOF
           as_fn_error $? "Could not run a simple C++ program.  Aborting." "$LINENO" 5
fi


	fi






    # Do we want code coverage
    if test "$WANT_COVERAGE" = "1"; then
        if test "$ompi_cxx_vendor" = "gnu" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $OMPI_COVERAGE_FLAGS has been added to CFLAGS (--enable-coverage)" >&5
$as_echo "$as_me: WARNING: $OMPI_COVERAGE_FLAGS has been added to CFLAGS (--enable-coverage)" >&2;}
            WANT_DEBUG=1
            CXXFLAGS="${CXXFLAGS} $OMPI_COVERAGE_FLAGS"
            WRAPPER_EXTRA_CXXFLAGS="${WRAPPER_EXTRA_CXXFLAGS} $OMPI_COVERAGE_FLAGS"
        else
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Code coverage functionality is currently available only with GCC suite" >&5
$as_echo "$as_me: WARNING: Code coverage functionality is currently available only with GCC suite" >&2;}
            as_fn_error $? "Configure: cannot continue" "$LINENO" 5
        fi
    fi

    # Do we want debugging?
    if test "$WANT_DEBUG" = "1" -a "$enable_debug_symbols" != "no" ; then
        CXXFLAGS="$CXXFLAGS -g"

# 1 is the variable name to be uniq-ized
ompi_name=CXXFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${CXXFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: -g has been added to CXXFLAGS (--enable-debug)" >&5
$as_echo "$as_me: WARNING: -g has been added to CXXFLAGS (--enable-debug)" >&2;}
    fi

    # These flags are generally g++-specific; even the g++-impersonating
    # compilers won't accept them.
    OMPI_CXXFLAGS_BEFORE_PICKY="$CXXFLAGS"
    if test "$WANT_PICKY_COMPILER" = 1 -a "$ompi_cxx_vendor" = "gnu"; then
        add="-Wall -Wundef -Wno-long-long"

        # see if -Wno-long-double works...
        ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

        CXXFLAGS_orig="$CXXFLAGS"
        CXXFLAGS="$CXXFLAGS $add -Wno-long-double -fstrict-prototype"
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CXX supports -Wno-long-double" >&5
$as_echo_n "checking if $CXX supports -Wno-long-double... " >&6; }
if test "${ompi_cv_cxx_wno_long_double+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_cv_cxx_wno_long_double="yes"
else
  ompi_cv_cxx_wno_long_double="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cxx_wno_long_double" >&5
$as_echo "$ompi_cv_cxx_wno_long_double" >&6; }
        CXXFLAGS="$CXXFLAGS_orig"
        ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        if test "$ompi_cv_cxx_wno_long_double" = "yes" ; then
            add="$add -Wno-long-double"
        fi

        CXXFLAGS="$CXXFLAGS $add"

# 1 is the variable name to be uniq-ized
ompi_name=CXXFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${CXXFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count
        if test "$add" != "" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $add has been added to CXXFLAGS (--enable-picky)" >&5
$as_echo "$as_me: WARNING: $add has been added to CXXFLAGS (--enable-picky)" >&2;}
        fi
        unset add
    fi

    # See if this version of g++ allows -finline-functions
    if test "$GXX" = "yes"; then
        CXXFLAGS_orig="$CXXFLAGS"
        CXXFLAGS="$CXXFLAGS -finline-functions"
        add=
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CXX supports -finline-functions" >&5
$as_echo_n "checking if $CXX supports -finline-functions... " >&6; }
if test "${ompi_cv_cxx_finline_functions+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv_cxx_finline_functions="yes"
else
  ompi_cv_cxx_finline_functions="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cxx_finline_functions" >&5
$as_echo "$ompi_cv_cxx_finline_functions" >&6; }
        if test "$ompi_cv_cxx_finline_functions" = "yes" ; then
            add=" -finline-functions"
        fi
        CXXFLAGS="$CXXFLAGS_orig$add"

# 1 is the variable name to be uniq-ized
ompi_name=CXXFLAGS

# Go through each item in the variable and only keep the unique ones

ompi_count=0
for val in ${CXXFLAGS}; do
    ompi_done=0
    ompi_i=1
    ompi_found=0

    # Loop over every token we've seen so far

    ompi_done="`expr $ompi_i \> $ompi_count`"
    while test "$ompi_found" = "0" -a "$ompi_done" = "0"; do

	# Have we seen this token already?  Prefix the comparison with
	# "x" so that "-Lfoo" values won't be cause an error.

	ompi_eval="expr x$val = x\$ompi_array_$ompi_i"
	ompi_found=`eval $ompi_eval`

	# Check the ending condition

	ompi_done="`expr $ompi_i \>= $ompi_count`"

	# Increment the counter

	ompi_i="`expr $ompi_i + 1`"
    done

    # If we didn't find the token, add it to the "array"

    if test "$ompi_found" = "0"; then
	ompi_eval="ompi_array_$ompi_i=$val"
	eval $ompi_eval
	ompi_count="`expr $ompi_count + 1`"
    else
	ompi_i="`expr $ompi_i - 1`"
    fi
done

# Take all the items in the "array" and assemble them back into a
# single variable

ompi_i=1
ompi_done="`expr $ompi_i \> $ompi_count`"
ompi_newval=
while test "$ompi_done" = "0"; do
    ompi_eval="ompi_newval=\"$ompi_newval \$ompi_array_$ompi_i\""
    eval $ompi_eval

    ompi_eval="unset ompi_array_$ompi_i"
    eval $ompi_eval

    ompi_done="`expr $ompi_i \>= $ompi_count`"
    ompi_i="`expr $ompi_i + 1`"
done

# Done; do the assignment

ompi_newval="`echo $ompi_newval`"
ompi_eval="$ompi_name=\"$ompi_newval\""
eval $ompi_eval

# Clean up

unset ompi_name ompi_i ompi_done ompi_newval ompi_eval ompi_count
        if test "$add" != "" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $add has been added to CXXFLAGS" >&5
$as_echo "$as_me: WARNING: $add has been added to CXXFLAGS" >&2;}
        fi
        unset add
    fi

    # Check for special things due to C++ exceptions
    ENABLE_CXX_EXCEPTIONS=no
    HAVE_CXX_EXCEPTIONS=0
    # Check whether --enable-cxx-exceptions was given.
if test "${enable_cxx_exceptions+set}" = set; then :
  enableval=$enable_cxx_exceptions; ENABLE_CXX_EXCEPTIONS="$enableval"
fi


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if want C++ exception handling" >&5
$as_echo_n "checking if want C++ exception handling... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ENABLE_CXX_EXCEPTIONS" >&5
$as_echo "$ENABLE_CXX_EXCEPTIONS" >&6; }
    if test "$ENABLE_CXX_EXCEPTIONS" = "yes"; then
        # config/cxx_have_exceptions.m4

#
# Arguments: None
#
# Depdencies: None
#
# Check to see if the C++ compiler can handle exceptions
#
# Sets OMPI_CXX_EXCEPTIONS to 1 if compiler has exceptions, 0 if not
#

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for throw/catch" >&5
$as_echo_n "checking for throw/catch... " >&6; }

ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
int i=1; throw(i);
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  OMPI_CXX_EXCEPTIONS=1
else
  OMPI_CXX_EXCPTIONS=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
if test "$OMPI_CXX_EXCEPTIONS" = "1"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi

# Clean up
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        # config/cxx_find_exception_flags.m4

#
# Arguments: none
#
# Dependencies: none
#
# Get the exception handling flags for the C++ compiler.  Leaves
# CXXFLAGS undisturbed.
# Provides --with-exflags command line argument for configure as well.
#
# Sets OMPI_CXX_EXCEPTION_CXXFLAGS and OMPI_CXX_EXCEPTION_LDFLAGS as
# appropriate.
# Must call AC_SUBST manually
#

# Command line flags


# Check whether --with-exflags was given.
if test "${with_exflags+set}" = set; then :
  withval=$with_exflags; ompi_force_exflags="$withval"
fi


ompi_CXXFLAGS_SAVE="$CXXFLAGS"
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for compiler exception flags" >&5
$as_echo_n "checking for compiler exception flags... " >&6; }

# See which flags to use

if test "$ompi_force_exflags" != ""; then

    # If the user supplied flags, use those

    ompi_exflags="$ompi_force_exflags"
elif test "$GXX" = "yes"; then

    # g++ has changed their flags a few times.  Sigh.

    CXXFLAGS="$CXXFLAGS -fexceptions"


    ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
try { int i = 0; } catch(...) { int j = 2; }
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_happy=1
else
  ompi_happy=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

    if test "$ompi_happy" = "1"; then
	ompi_exflags="-fexceptions";
    else
	CXXFLAGS="$CXXFLAGS_SAVE -fhandle-exceptions"
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
try { int i = 0; } catch(...) { int j = 2; }
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_happy=1
else
  ompi_happy=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
	if test "$ompi_happy" = "1"; then
	    ompi_exflags="-fhandle-exceptions";
	fi
    fi
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

elif test "`basename $CXX`" = "KCC"; then

    # KCC flags

    ompi_exflags="--exceptions"
fi
CXXFLAGS="$ompi_CXXFLAGS_SAVE"

# Save the result

OMPI_CXX_EXCEPTIONS_CXXFLAGS="$ompi_exflags"
OMPI_CXX_EXCEPTIONS_LDFLAGS="$ompi_exflags"
if test "$ompi_exflags" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: none necessary" >&5
$as_echo "none necessary" >&6; }
else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_exflags" >&5
$as_echo "$ompi_exflags" >&6; }
fi

# Clean up

unset ompi_force_exflags ompi_CXXFLAGS_SAVE ompi_exflags ompi_happy
        if test "$OMPI_CXX_EXCEPTIONS" = "1"; then
            HAVE_CXX_EXCEPTIONS=1

            # Test to see if the C compiler likes these flags
            { $as_echo "$as_me:${as_lineno-$LINENO}: checking to see if C compiler likes the exception flags" >&5
$as_echo_n "checking to see if C compiler likes the exception flags... " >&6; }
            CFLAGS="$CFLAGS $OMPI_CXX_EXCEPTIONS_CXXFLAGS"

            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
int i = 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
                               { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: C++ exception flags are different between the C and C++ compilers; this configure script cannot currently handle this scenario.  Either disable C++ exception support or send mail to the Open MPI users list." >&5
$as_echo "$as_me: WARNING: C++ exception flags are different between the C and C++ compilers; this configure script cannot currently handle this scenario.  Either disable C++ exception support or send mail to the Open MPI users list." >&2;}
                               as_fn_error $? "*** Cannot continue" "$LINENO" 5
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


            # We can't test the F77 and F90 compilers now because we
            # haven't found/set the up yet.  So just save the flags
            # and test them later (in ompi_setup_f77.m4 and
            # ompi_setup_f90.m4).

            CXXFLAGS="$CXXFLAGS $OMPI_CXX_EXCEPTIONS_CXXFLAGS"
            LDFLAGS="$LDFLAGS $OMPI_CXX_EXCEPTIONS_LDFLAGS"

            WRAPPER_EXTRA_CFLAGS="$OMPI_CXX_EXCEPTIONS_CXXFLAGS ${WRAPPER_EXTRA_CFLAGS}"
            WRAPPER_EXTRA_FFLAGS="$OMPI_CXX_EXCEPTIONS_CXXFLAGS ${WRAPPER_EXTRA_FFLAGS}"
            WRAPPER_EXTRA_FCFLAGS="$OMPI_CXX_EXCEPTIONS_CXXFLAGS ${WRAPPER_EXTRA_FCFLAGS}"
            WRAPPER_EXTRA_CXXFLAGS="$OMPI_CXX_EXCEPTIONS_CXXFLAGS ${WRAPPER_EXTRA_CXXFLAGS}"
        fi
    fi

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_CXX_EXCEPTION_SUPPORT $HAVE_CXX_EXCEPTIONS
_ACEOF


    # Make sure we can link with the C compiler
    if test "$ompi_cv_cxx_compiler_vendor" != "microsoft" ; then



  { $as_echo "$as_me:${as_lineno-$LINENO}: checking if C and C++ are link compatible" >&5
$as_echo_n "checking if C and C++ are link compatible... " >&6; }
if test "${ompi_cv_c_link_Cpp+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

     testfunc_name="testfunc"

     # Write out C part
     ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

     rm -f conftest_c.$ac_ext
      cat > conftest_c.$ac_ext << EOF
int $testfunc_name(int a);
int $testfunc_name(int a) { return a; }
EOF

     # Now compile both parts

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:15060: $CC -c $CFLAGS $CPPFLAGS conftest_c.$ac_ext" >&5
$CC -c $CFLAGS $CPPFLAGS conftest_c.$ac_ext 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:15067: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

        ompi_lang_link_with_c_libs="$LIBS"
        LIBS="conftest_c.o $LIBS"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#if defined(c_plusplus) || defined(__cplusplus)
extern "C" int testfunc(int);
#else
extern int testfunc(int);
#endif

int
main ()
{
return testfunc(0);
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"; then :
  ompi_cv_c_link_Cpp="yes"
else
  ompi_cv_c_link_Cpp="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
        LIBS="$ompi_lang_link_with_c_libs"
        ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

else
    unset ompi_status
    ompi_cv_c_link_Cpp="no"
fi
     rm -f conftest_c.$ac_ext
     ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_link_Cpp" >&5
$as_echo "$ompi_cv_c_link_Cpp" >&6; }

  if test "x$ompi_cv_c_link_Cpp" = x""yes; then :

else
  cat <<EOF >&2
**********************************************************************
* It appears that your C++ compiler is unable to link against object
* files created by your C compiler.  This generally indicates either
* a conflict between the options specified in CFLAGS and CXXFLAGS
* or a problem with the local compiler installation.  More
* information (including exactly what command was given to the
* compilers and what error resulted when the commands were executed) is
* available in the config.log file in this directory.
**********************************************************************
EOF
         as_fn_error $? "C and C++ compilers are not link compatible.  Can not continue." "$LINENO" 5
fi

    fi

    # Find some more characteristics of the C++ compiler

    # config/cxx_find_template_repository.m4



    #
    # Arguments: None
    #
    # Dependencies: None
    #
    # See if the compiler makes template repository directories
    # Warning: this is a really screwy example! -JMS
    #
    # Sets OMPI_CXX_TEMPLATE_REPOSITORY to the template repository, or blank.
    # Must call AC_SUBST manually
    #
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C++ template_repository_directory" >&5
$as_echo_n "checking for C++ template_repository_directory... " >&6; }
if test "${ompi_cv_cxx_template_repository+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

# Find the repository
mkdir conf_tmp_$$
cd conf_tmp_$$
cat > conftest.h <<EOF
template <class T>
class foo {
public:
  foo(T yow) : data(yow) { yow.member(3); };
  void member(int i);
private:
  T data;
};

class bar {
public:
  bar(int i) { data = i; };
  void member(int j) { data = data * j; };

private:
  int data;
};
EOF

cat > conftest2.C <<EOF
#include "conftest.h"

void
some_other_function(void)
{
  foo<bar> var1(6);
  foo< foo<bar> > var2(var1);
}
EOF

cat > conftest1.C <<EOF
#include "conftest.h"

void some_other_function(void);

template <class T>
void
foo<T>::member(int i)
{
  i += 2;
}

int
main()
{
  foo<bar> var1(6);
  foo< foo<bar> > var2(var1);

  some_other_function();
  return 0;
}
EOF

ompi_template_failed=
echo configure:15227: $CXX $CXXFLAGS -c conftest1.C >&5
$CXX $CXXFLAGS -c conftest1.C >&5 2>&5
if test ! -f conftest1.o ; then
    ompi_cv_cxx_template_repository="templates not supported"
    echo configure:15231: here is the program that failed: >&5
    cat conftest1.C >&5
    echo configure:15233: here is conftest.h: >&5
    cat conftest.h >&5
    ompi_template_failed=1
else
    echo configure:15237: $CXX $CXXFLAGS -c conftest2.C >&5
    $CXX $CXXFLAGS -c conftest2.C >&5 2>&5
    if test ! -f conftest2.o ; then
        ompi_cv_cxx_template_repository=
	echo configure:15241: here is the program that failed: >&5
	cat conftest2.C >&5
	echo configure:15243: here is conftest.h: >&5
	cat conftest.h >&5
    else
	rm -rf conftest*

	for ompi_file in `ls`
	do
	    if test "$ompi_file" != "." -a "$ompi_file" != ".."; then
		# Is it a directory?
		if test -d "$ompi_file"; then
		    ompi_template_dir="$ompi_file $ompi_template_dir"

		# Or is it a file?
		else
		    name="`echo $ompi_file | cut -d. -f1`"

		    temp_mask=
		    if test "$name" = "main" -o "$name" = "other"; then
			temp_mask="`echo $ompi_file | cut -d. -f2`"
			if test "$ompi_template_filemask" = ""; then
			ompi_template_filemask="$temp_mask";
			elif test "`echo $ompi_template_filemask | $GREP $temp_mask`" = ""; then
			ompi_template_filemask="$ompi_template_filemask $temp_mask"
			fi
		    fi
		fi
	    fi
	done
	if test "$ompi_template_filemask" != ""; then
	    temp_mask=
	    for mask in $ompi_template_filemask
	    do
		temp_mask="*.$mask $temp_mask"
	    done
	    ompi_template_filemask=$temp_mask
	fi
    fi
fi
ompi_cv_cxx_template_repository="$ompi_template_dir $ompi_template_filemask"

if test "`echo $ompi_cv_cxx_template_repository`" = ""; then
    ompi_cv_cxx_template_repository="not used"
fi
cd ..
rm -rf conf_tmp_$$

# Clean up
unset ompi_file ompi_template_failed ompi_template_dir
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cxx_template_repository" >&5
$as_echo "$ompi_cv_cxx_template_repository" >&6; }

    if test "$ompi_cv_cxx_template_repository" = "not used" ; then
        OMPI_CXX_TEMPLATE_REPOSITORY=
    elif test "$ompi_cv_cxx_template_repository" = "templates not supported" ; then
        OMPI_CXX_TEMPLATE_REPOSITORY=
    else
        OMPI_CXX_TEMPLATE_REPOSITORY="$ompi_cv_cxx_template_repository"
    fi

    # config/cxx_find_template_parameters.m4

#
# Arguments: none
#
# Dependencies: None
#
# Get the C++ compiler template parameters.
#
# Adds to CXXFLAGS

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for C++ compiler template parameters" >&5
$as_echo_n "checking for C++ compiler template parameters... " >&6; }
if test "$BASECXX" = "KCC"; then
  new_flags="--one_instantiation_per_object"
  CXXFLAGS="$CXXFLAGS $new_flags"
else
  new_flags="none needed"
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $new_flags" >&5
$as_echo "$new_flags" >&6; }

#
# Clean up
#
unset new_flags


    # see if the C++ compiler supports __builtin_expect
    ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CXX supports __builtin_expect" >&5
$as_echo_n "checking if $CXX supports __builtin_expect... " >&6; }
if test "${ompi_cv_cxx_supports___builtin_expect+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
void *ptr = (void*) 0;
           if (__builtin_expect (ptr != (void*) 0, 1)) return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"; then :
  ompi_cv_cxx_supports___builtin_expect="yes"
else
  ompi_cv_cxx_supports___builtin_expect="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cxx_supports___builtin_expect" >&5
$as_echo "$ompi_cv_cxx_supports___builtin_expect" >&6; }
    if test "$ompi_cv_cxx_supports___builtin_expect" = "yes" ; then
        have_builtin_expect=1
    else
        have_builtin_expect=0
    fi

cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_HAVE_BUILTIN_EXPECT $have_builtin_expect
_ACEOF

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    # see if the C compiler supports __builtin_prefetch
    ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CXX supports __builtin_prefetch" >&5
$as_echo_n "checking if $CXX supports __builtin_prefetch... " >&6; }
if test "${ompi_cv_cxx_supports___builtin_prefetch+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
int ptr;
           __builtin_prefetch(&ptr,0,0);
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"; then :
  ompi_cv_cxx_supports___builtin_prefetch="yes"
else
  ompi_cv_cxx_supports___builtin_prefetch="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cxx_supports___builtin_prefetch" >&5
$as_echo "$ompi_cv_cxx_supports___builtin_prefetch" >&6; }
    if test "$ompi_cv_cxx_supports___builtin_prefetch" = "yes" ; then
        have_builtin_prefetch=1
    else
        have_builtin_prefetch=0
    fi

cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_HAVE_BUILTIN_PREFETCH $have_builtin_prefetch
_ACEOF

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    # If we are on HP-UX, ensure that we're using aCC
    case "$host" in
    *hpux*)
        if test "$BASECXX" = "CC"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** You will probably have problems compiling the MPI 2" >&5
$as_echo "$as_me: WARNING: *** You will probably have problems compiling the MPI 2" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** C++ bindings with the HP-UX CC compiler.  You should" >&5
$as_echo "$as_me: WARNING: *** C++ bindings with the HP-UX CC compiler.  You should" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** probably be using the aCC compiler.  Re-run configure" >&5
$as_echo "$as_me: WARNING: *** probably be using the aCC compiler.  Re-run configure" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** with the environment variable \"CXX=aCC\"." >&5
$as_echo "$as_me: WARNING: *** with the environment variable \"CXX=aCC\"." >&2;}
        fi
        ;;
    esac

    # see if the compiler supports const_cast of 2-dimensional arrays
    ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CXX supports const_cast<> properly" >&5
$as_echo_n "checking if $CXX supports const_cast<> properly... " >&6; }
if test "${ompi_cv_cxx_supports_2d_const_cast+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
int non_const_func(int ranges[][3]);
int cast_test(const int ranges[][3]) {
  return non_const_func(const_cast<int(*)[3]>(ranges));
}
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ompi_cv_cxx_supports_2d_const_cast="yes"
else
  ompi_cv_cxx_supports_2d_const_cast="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_cxx_supports_2d_const_cast" >&5
$as_echo "$ompi_cv_cxx_supports_2d_const_cast" >&6; }
    if test "$ompi_cv_cxx_supports_2d_const_cast" = "yes" ; then
        use_2d_const_cast=1
    else
        use_2d_const_cast=0
    fi

cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_SUPPORTS_2D_CONST_CAST $use_2d_const_cast
_ACEOF

    unset use_2d_const_cast
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    # Note: gcc-imperonating compilers accept -O3
    if test "$WANT_DEBUG" = "1"; then
        OPTFLAGS=
    else
        if test "$GXX" = yes; then
            OPTFLAGS="-O3"
        else
            OPTFLAGS="-O"
        fi
    fi

    # config/ompi_check_optflags.m4


# Modularize this setup so that sub-configure.in scripts can use this
# same setup code.

##################################
# Optimization flags
##################################

# If the user did not specify optimization flags, add some (the value
# from $OPTFLAGS)

co_arg=""$CXXFLAGS""
co_found=0
for co_word in $co_arg; do
    # See http://www.gnu.org/software/autoconf/manual/html_node/Quadrigraphs.html#Quadrigraphs
    # for an explanation of [ and ] -- they m4 expand to [ and ]
    case $co_word in
    -g)              co_found=1 ;;
    -g[1-3])   co_found=1 ;;
    +K[0-5])   co_found=1 ;;
    -O)              co_found=1 ;;
    -O[0-9])   co_found=1 ;;
    -xO)             co_found=1 ;;
    -xO[0-9])  co_found=1 ;;
    -fast)           co_found=1 ;;

    # The below Sun Studio flags require or
    # trigger -xO optimization
    -xvector*)     co_found=1 ;;
    -xdepend=yes)  co_found=1 ;;

    esac
done

if test "$co_found" = "0"; then
    co_result="$OPTFLAGS $co_arg"
else
    co_result="$co_arg"
fi

# Clean up

unset co_found co_word co_arg

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C++ optimization flags" >&5
$as_echo_n "checking for C++ optimization flags... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $co_result" >&5
$as_echo "$co_result" >&6; }
    CXXFLAGS="$co_result"


# Does the compiler support "ident"-like constructs?


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C++ ident string support" >&5
$as_echo_n "checking for C++ ident string support... " >&6; }

    ompi_pragma_ident_happy=0
    ompi_ident_happy=0
    ompi_static_const_char_happy=0

    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma ident "$ompi_ident"
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:15596: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:15603: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_ident_happy=1
         ompi_message="#pragma ident"
else

    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#ident "$ompi_ident"
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:15638: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:15645: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_ident_happy=1
             ompi_message="#ident"
else

    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:15680: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:15687: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:15709: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:15737: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi

    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:15767: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:15774: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:15796: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}


    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:15839: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:15846: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:15868: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:15905: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi

    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#ident "$ompi_ident"
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:15935: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:15942: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_ident_happy=1
             ompi_message="#ident"
else

    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:15977: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:15984: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:16006: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:16034: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi

    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:16064: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:16071: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:16093: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}


    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:16136: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:16143: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:16165: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}


    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#ident "$ompi_ident"
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:16217: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:16224: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_ident_happy=1
             ompi_message="#ident"
else

    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:16259: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:16266: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:16288: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:16316: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi

    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:16346: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:16353: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:16375: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}


    eval ompi_compiler="\$CXX"
    eval ompi_flags="\$CXXFLAGS"

    ompi_ident="string_not_coincidentally_inserted_by_the_compiler"
    cat > conftest.cc <<EOF
#pragma comment(exestr,  "$ompi_ident" )
int main(int argc, char** argv);
int main(int argc, char** argv) { return 0; }
EOF

    # "strings" won't always return the ident string.  objdump isn't
    # universal (e.g., OS X doesn't have it), and ...other
    # complications.  So just try to "grep" for the string in the
    # resulting object file.  If the ident is found in "strings" or
    # the grep succeeds, rule that we have this flavor of ident.


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:16418: $ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT}" >&5
$ompi_compiler $ompi_flags -c conftest.cc -o conftest.${OBJEXT} 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:16425: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftest.${OBJEXT}; then :
  ompi_output="`strings -a conftest.${OBJEXT} | grep $ompi_ident`"
                             grep $ompi_ident conftest.${OBJEXT} 2>&1 1>/dev/null
                             ompi_status=$?
                             if test "$ompi_output" != "" -o "$ompi_status" = "0"; then :
  ompi_pragma_comment_happy=1
                 ompi_message="#pragma comment"
else
  ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:16447: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.cc" -a -f "conftest.cc"; then
    cat conftest.cc >&5
fi
                             ompi_static_const_char_happy=1
                 ompi_message="static const char"
                            ompi_static_const_char_happy=1
                 ompi_message="static const char"
fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}

fi
else
    unset ompi_status

fi

    unset ompi_compiler ompi_flags ompi_output ompi_status
    rm -rf conftest.* conftest${EXEEXT}



cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_USE_PRAGMA_IDENT $ompi_pragma_ident_happy
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_USE_IDENT $ompi_ident_happy
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_USE_PRAGMA_COMMENT $ompi_pragma_comment_happy
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_USE_CONST_CHAR_IDENT $ompi_static_const_char_happy
_ACEOF


    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_message" >&5
$as_echo "$ompi_message" >&6; }

    unset ompi_pragma_ident_happy ompi_ident_happy ompi_static_const_char_happy ompi_message


# check for type sizes

ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of bool" >&5
$as_echo_n "checking size of bool... " >&6; }
if test "${ac_cv_sizeof_bool+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_cxx_compute_int "$LINENO" "(long int) (sizeof (bool))" "ac_cv_sizeof_bool"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_bool" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (bool)
See \`config.log' for more details" "$LINENO" 5 ; }
   else
     ac_cv_sizeof_bool=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_bool" >&5
$as_echo "$ac_cv_sizeof_bool" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_BOOL $ac_cv_sizeof_bool
_ACEOF



# check for type alignments


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of bool" >&5
$as_echo_n "checking alignment of bool... " >&6; }
if test "${ompi_cv_c_align_bool+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
   # cross compile - do a non-executable test.  Trick
                                 # taken from the Autoconf 2.59c.  Switch to using
                                 # AC_CHECK_ALIGNOF when we can require Autoconf 2.60.
                                 if ac_fn_cxx_compute_int "$LINENO" "(long int) offsetof (ompi__type_alignof_, y)" "ompi_cv_c_align_bool"        "$ac_includes_default
#ifndef offsetof
# define offsetof(type, member) ((char *) &((type *) 0)->member - (char *) 0)
#endif
typedef struct { char x; bool y; } ompi__type_alignof_;
"; then :

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                                  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                                  as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi


else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
struct foo { char c; bool x; };
int main()
{
    struct foo *p = (struct foo *) malloc(sizeof(struct foo));
    int diff;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    diff = ((char *)&p->x) - ((char *)&p->c);
    fprintf(f, "%d\n", (diff >= 0) ? diff : -diff);
    return 0;
}
_ACEOF
if ac_fn_cxx_try_run "$LINENO"; then :
  ompi_cv_c_align_bool=`cat conftestval`
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Problem running configure test!" >&5
$as_echo "$as_me: WARNING: *** Problem running configure test!" >&2;}
                                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** See config.log for details." >&5
$as_echo "$as_me: WARNING: *** See config.log for details." >&2;}
                                as_fn_error $? "*** Cannot continue." "$LINENO" 5
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_align_bool" >&5
$as_echo "$ompi_cv_c_align_bool" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_CXX_BOOL $ompi_cv_c_align_bool
_ACEOF

eval "OMPI_ALIGNMENT_CXX_BOOL=$ompi_cv_c_align_bool"

rm -rf conftest*
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


# check if we want C++ support

 if test "$WANT_MPI_CXX_SUPPORT" = 1; then
  WANT_MPI_CXX_BINDINGS_TRUE=
  WANT_MPI_CXX_BINDINGS_FALSE='#'
else
  WANT_MPI_CXX_BINDINGS_TRUE='#'
  WANT_MPI_CXX_BINDINGS_FALSE=
fi


cat >>confdefs.h <<_ACEOF
#define OMPI_WANT_CXX_BINDINGS $WANT_MPI_CXX_SUPPORT
_ACEOF



##################################
# Only after setting up both
# C and C++ check compiler attributes.
##################################

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__" >&5
$as_echo_n "checking for __attribute__... " >&6; }

  if test "${ompi_cv___attribute__+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
       /* Check for the longest available __attribute__ (since gcc-2.3) */
       struct foo {
           char a;
           int x[2] __attribute__ ((__packed__));
        };

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__=1
else
  ompi_cv___attribute__=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

    if test "$ompi_cv___attribute__" = "1" ; then
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
           /* Check for the longest available __attribute__ (since gcc-2.3) */
           struct foo {
               char a;
               int x[2] __attribute__ ((__packed__));
            };

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__=1
else
  ompi_cv___attribute__=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    fi

fi


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE $ompi_cv___attribute__
_ACEOF


#
# Now that we know the compiler support __attribute__ let's check which kind of
# attributed are supported.
#
  if test "$ompi_cv___attribute__" = "0" ; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    ompi_cv___attribute__aligned=0
    ompi_cv___attribute__always_inline=0
    ompi_cv___attribute__cold=0
    ompi_cv___attribute__const=0
    ompi_cv___attribute__deprecated=0
    ompi_cv___attribute__format=0
    ompi_cv___attribute__hot=0
    ompi_cv___attribute__malloc=0
    ompi_cv___attribute__may_alias=0
    ompi_cv___attribute__no_instrument_function=0
    ompi_cv___attribute__nonnull=0
    ompi_cv___attribute__noreturn=0
    ompi_cv___attribute__packed=0
    ompi_cv___attribute__pure=0
    ompi_cv___attribute__sentinel=0
    ompi_cv___attribute__unused=0
    ompi_cv___attribute__visibility=0
    ompi_cv___attribute__warn_unused_result=0
    ompi_cv___attribute__weak_alias=0
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(aligned)" >&5
$as_echo_n "checking for __attribute__(aligned)... " >&6; }
    if test "${ompi_cv___attribute__aligned+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
struct foo { char text[4]; }  __attribute__ ((__aligned__(8)));
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__aligned=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__aligned=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__aligned=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__aligned" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {
                           struct foo { char text[4]; }  __attribute__ ((__aligned__(8)));
                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__aligned=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__aligned=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__aligned=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__aligned" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__aligned=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__aligned=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__aligned=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__aligned" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi


    #
    # Ignored by PGI-6.2.5; -- recognized by output-parser
    #

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(always_inline)" >&5
$as_echo_n "checking for __attribute__(always_inline)... " >&6; }
    if test "${ompi_cv___attribute__always_inline+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
int foo (int arg) __attribute__ ((__always_inline__));
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__always_inline=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__always_inline=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__always_inline=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__always_inline" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {
                           int foo (int arg) __attribute__ ((__always_inline__));
                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__always_inline=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__always_inline=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__always_inline=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__always_inline" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__always_inline=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__always_inline=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__always_inline=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__always_inline" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(cold)" >&5
$as_echo_n "checking for __attribute__(cold)... " >&6; }
    if test "${ompi_cv___attribute__cold+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int foo(int arg1, int arg2) __attribute__ ((__cold__));
         int foo(int arg1, int arg2) { return arg1 * arg2 + arg1; }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__cold=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__cold=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__cold=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__cold" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int foo(int arg1, int arg2) __attribute__ ((__cold__));
         int foo(int arg1, int arg2) { return arg1 * arg2 + arg1; }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__cold=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__cold=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__cold=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__cold" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__cold=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__cold=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__cold=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__cold" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(const)" >&5
$as_echo_n "checking for __attribute__(const)... " >&6; }
    if test "${ompi_cv___attribute__const+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int foo(int arg1, int arg2) __attribute__ ((__const__));
         int foo(int arg1, int arg2) { return arg1 * arg2 + arg1; }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__const=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__const=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__const=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__const" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int foo(int arg1, int arg2) __attribute__ ((__const__));
         int foo(int arg1, int arg2) { return arg1 * arg2 + arg1; }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__const=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__const=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__const=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__const" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__const=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__const=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__const=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__const" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi




    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(deprecated)" >&5
$as_echo_n "checking for __attribute__(deprecated)... " >&6; }
    if test "${ompi_cv___attribute__deprecated+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int foo(int arg1, int arg2) __attribute__ ((__deprecated__));
         int foo(int arg1, int arg2) { return arg1 * arg2 + arg1; }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__deprecated=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__deprecated=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__deprecated=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__deprecated" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int foo(int arg1, int arg2) __attribute__ ((__deprecated__));
         int foo(int arg1, int arg2) { return arg1 * arg2 + arg1; }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__deprecated=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__deprecated=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__deprecated=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__deprecated" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__deprecated=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__deprecated=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__deprecated=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__deprecated" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    ATTRIBUTE_CFLAGS=
    case "$ompi_c_vendor" in
        gnu)
            ATTRIBUTE_CFLAGS="-Wall"
            ;;
        intel)
            # we want specifically the warning on format string conversion
            ATTRIBUTE_CFLAGS="-we181"
            ;;
    esac

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(format)" >&5
$as_echo_n "checking for __attribute__(format)... " >&6; }
    if test "${ompi_cv___attribute__format+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int this_printf (void *my_object, const char *my_format, ...) __attribute__ ((__format__ (__printf__, 2, 3)));

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__format=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__format=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__format=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__format" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int this_printf (void *my_object, const char *my_format, ...) __attribute__ ((__format__ (__printf__, 2, 3)));

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__format=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__format=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__format=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__format" = "1" -a "
         static int usage (int * argument);
         extern int this_printf (int arg1, const char *my_format, ...) __attribute__ ((__format__ (__printf__, 2, 3)));

         static int usage (int * argument) {
             return this_printf (*argument, "%d", argument); /* This should produce a format warning */
         }
         /* The autoconf-generated main-function is int main(), which produces a warning by itself */
         int main(void);
        " != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS $ATTRIBUTE_CFLAGS"

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         static int usage (int * argument);
         extern int this_printf (int arg1, const char *my_format, ...) __attribute__ ((__format__ (__printf__, 2, 3)));

         static int usage (int * argument) {
             return this_printf (*argument, "%d", argument); /* This should produce a format warning */
         }
         /* The autoconf-generated main-function is int main(), which produces a warning by itself */
         int main(void);

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__format=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__format=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__format=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__format" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(hot)" >&5
$as_echo_n "checking for __attribute__(hot)... " >&6; }
    if test "${ompi_cv___attribute__hot+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int foo(int arg1, int arg2) __attribute__ ((__hot__));
         int foo(int arg1, int arg2) { return arg1 * arg2 + arg1; }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__hot=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__hot=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__hot=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__hot" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int foo(int arg1, int arg2) __attribute__ ((__hot__));
         int foo(int arg1, int arg2) { return arg1 * arg2 + arg1; }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__hot=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__hot=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__hot=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__hot" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__hot=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__hot=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__hot=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__hot" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(malloc)" >&5
$as_echo_n "checking for __attribute__(malloc)... " >&6; }
    if test "${ompi_cv___attribute__malloc+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#ifdef HAVE_STDLIB_H
#  include <stdlib.h>
#endif
         int * foo(int arg1) __attribute__ ((__malloc__));
         int * foo(int arg1) { return (int*) malloc(arg1); }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__malloc=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__malloc=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__malloc=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__malloc" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

#ifdef HAVE_STDLIB_H
#  include <stdlib.h>
#endif
         int * foo(int arg1) __attribute__ ((__malloc__));
         int * foo(int arg1) { return (int*) malloc(arg1); }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__malloc=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__malloc=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__malloc=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__malloc" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__malloc=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__malloc=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__malloc=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__malloc" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    #
    # Attribute may_alias: No suitable cross-check available, that works for non-supporting compilers
    # Ignored by intel-9.1.045 -- turn off with -wd1292
    # Ignored by PGI-6.2.5; ignore not detected due to missing cross-check
    #

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(may_alias)" >&5
$as_echo_n "checking for __attribute__(may_alias)... " >&6; }
    if test "${ompi_cv___attribute__may_alias+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
int * p_value __attribute__ ((__may_alias__));
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__may_alias=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__may_alias=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__may_alias=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__may_alias" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {
                           int * p_value __attribute__ ((__may_alias__));
                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__may_alias=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__may_alias=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__may_alias=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__may_alias" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__may_alias=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__may_alias=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__may_alias=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__may_alias" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi




    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(no_instrument_function)" >&5
$as_echo_n "checking for __attribute__(no_instrument_function)... " >&6; }
    if test "${ompi_cv___attribute__no_instrument_function+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
int * foo(int arg1) __attribute__ ((__no_instrument_function__));
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__no_instrument_function=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__no_instrument_function=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__no_instrument_function=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__no_instrument_function" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {
                           int * foo(int arg1) __attribute__ ((__no_instrument_function__));
                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__no_instrument_function=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__no_instrument_function=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__no_instrument_function=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__no_instrument_function" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__no_instrument_function=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__no_instrument_function=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__no_instrument_function=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__no_instrument_function" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    #
    # Attribute nonnull:
    # Ignored by intel-compiler 9.1.045 -- recognized by cross-check
    # Ignored by PGI-6.2.5 (pgCC) -- recognized by cross-check
    #
    ATTRIBUTE_CFLAGS=
    case "$ompi_c_vendor" in
        gnu)
            ATTRIBUTE_CFLAGS="-Wall"
            ;;
        intel)
            # we do not want to get ignored attributes warnings, but rather real warnings
            ATTRIBUTE_CFLAGS="-wd1292"
            ;;
    esac

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(nonnull)" >&5
$as_echo_n "checking for __attribute__(nonnull)... " >&6; }
    if test "${ompi_cv___attribute__nonnull+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int square(int *arg) __attribute__ ((__nonnull__));
         int square(int *arg) { return *arg; }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__nonnull=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__nonnull=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__nonnull=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__nonnull" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int square(int *arg) __attribute__ ((__nonnull__));
         int square(int *arg) { return *arg; }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__nonnull=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__nonnull=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__nonnull=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__nonnull" = "1" -a "
         static int usage(int * argument);
         int square(int * argument) __attribute__ ((__nonnull__));
         int square(int * argument) { return (*argument) * (*argument); }

         static int usage(int * argument) {
             return square( ((void*)0) );    /* This should produce an argument must be nonnull warning */
         }
         /* The autoconf-generated main-function is int main(), which produces a warning by itself */
         int main(void);
        " != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS $ATTRIBUTE_CFLAGS"

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         static int usage(int * argument);
         int square(int * argument) __attribute__ ((__nonnull__));
         int square(int * argument) { return (*argument) * (*argument); }

         static int usage(int * argument) {
             return square( ((void*)0) );    /* This should produce an argument must be nonnull warning */
         }
         /* The autoconf-generated main-function is int main(), which produces a warning by itself */
         int main(void);

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__nonnull=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__nonnull=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__nonnull=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__nonnull" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi




    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(noreturn)" >&5
$as_echo_n "checking for __attribute__(noreturn)... " >&6; }
    if test "${ompi_cv___attribute__noreturn+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#ifdef HAVE_UNISTD_H
#  include <unistd.h>
#endif
#ifdef HAVE_STDLIB_H
#  include <stdlib.h>
#endif
         void fatal(int arg1) __attribute__ ((__noreturn__));
         void fatal(int arg1) { exit(arg1); }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__noreturn=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__noreturn=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__noreturn=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__noreturn" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

#ifdef HAVE_UNISTD_H
#  include <unistd.h>
#endif
#ifdef HAVE_STDLIB_H
#  include <stdlib.h>
#endif
         void fatal(int arg1) __attribute__ ((__noreturn__));
         void fatal(int arg1) { exit(arg1); }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__noreturn=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__noreturn=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__noreturn=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__noreturn" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__noreturn=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__noreturn=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__noreturn=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__noreturn" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(packed)" >&5
$as_echo_n "checking for __attribute__(packed)... " >&6; }
    if test "${ompi_cv___attribute__packed+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         struct foo {
             char a;
             int x[2] __attribute__ ((__packed__));
         };

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__packed=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__packed=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__packed=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__packed" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         struct foo {
             char a;
             int x[2] __attribute__ ((__packed__));
         };

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__packed=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__packed=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__packed=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__packed" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__packed=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__packed=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__packed=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__packed" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(pure)" >&5
$as_echo_n "checking for __attribute__(pure)... " >&6; }
    if test "${ompi_cv___attribute__pure+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int square(int arg) __attribute__ ((__pure__));
         int square(int arg) { return arg * arg; }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__pure=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__pure=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__pure=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__pure" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int square(int arg) __attribute__ ((__pure__));
         int square(int arg) { return arg * arg; }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__pure=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__pure=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__pure=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__pure" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__pure=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__pure=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__pure=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__pure" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi


    #
    # Attribute sentinel:
    # Ignored by the intel-9.1.045 -- recognized by cross-check
    #                intel-10.0beta works fine
    # Ignored by PGI-6.2.5 (pgCC) -- recognized by output-parser and cross-check
    # Ignored by pathcc-2.2.1 -- recognized by cross-check (through grep ignore)
    #
    ATTRIBUTE_CFLAGS=
    case "$ompi_c_vendor" in
        gnu)
            ATTRIBUTE_CFLAGS="-Wall"
            ;;
        intel)
            # we do not want to get ignored attributes warnings
            ATTRIBUTE_CFLAGS="-wd1292"
            ;;
    esac

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(sentinel)" >&5
$as_echo_n "checking for __attribute__(sentinel)... " >&6; }
    if test "${ompi_cv___attribute__sentinel+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int my_execlp(const char * file, const char *arg, ...) __attribute__ ((__sentinel__));

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__sentinel=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__sentinel=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__sentinel=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__sentinel" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int my_execlp(const char * file, const char *arg, ...) __attribute__ ((__sentinel__));

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__sentinel=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__sentinel=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__sentinel=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__sentinel" = "1" -a "
         static int usage(int * argument);
         int my_execlp(const char * file, const char *arg, ...) __attribute__ ((__sentinel__));

         static int usage(int * argument) {
             void * last_arg_should_be_null = argument;
             return my_execlp ("lala", "/home/there", last_arg_should_be_null);   /* This should produce a warning */
         }
         /* The autoconf-generated main-function is int main(), which produces a warning by itself */
         int main(void);
        " != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS $ATTRIBUTE_CFLAGS"

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         static int usage(int * argument);
         int my_execlp(const char * file, const char *arg, ...) __attribute__ ((__sentinel__));

         static int usage(int * argument) {
             void * last_arg_should_be_null = argument;
             return my_execlp ("lala", "/home/there", last_arg_should_be_null);   /* This should produce a warning */
         }
         /* The autoconf-generated main-function is int main(), which produces a warning by itself */
         int main(void);

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__sentinel=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__sentinel=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__sentinel=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__sentinel" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(unused)" >&5
$as_echo_n "checking for __attribute__(unused)... " >&6; }
    if test "${ompi_cv___attribute__unused+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int square(int arg1 __attribute__ ((__unused__)), int arg2);
         int square(int arg1, int arg2) { return arg2; }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__unused=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__unused=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__unused=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__unused" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int square(int arg1 __attribute__ ((__unused__)), int arg2);
         int square(int arg1, int arg2) { return arg2; }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__unused=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__unused=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__unused=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__unused" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__unused=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__unused=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__unused=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__unused" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    #
    # Ignored by PGI-6.2.5 (pgCC) -- recognized by the output-parser
    #

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(visibility)" >&5
$as_echo_n "checking for __attribute__(visibility)... " >&6; }
    if test "${ompi_cv___attribute__visibility+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int square(int arg1) __attribute__ ((__visibility__("hidden")));

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__visibility=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__visibility=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__visibility=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__visibility" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int square(int arg1) __attribute__ ((__visibility__("hidden")));

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__visibility=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__visibility=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__visibility=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__visibility" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__visibility=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__visibility=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__visibility=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__visibility" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi



    #
    # Attribute warn_unused_result:
    # Ignored by the intel-compiler 9.1.045 -- recognized by cross-check
    # Ignored by pathcc-2.2.1 -- recognized by cross-check (through grep ignore)
    #
    ATTRIBUTE_CFLAGS=
    case "$ompi_c_vendor" in
        gnu)
            ATTRIBUTE_CFLAGS="-Wall"
            ;;
        intel)
            # we do not want to get ignored attributes warnings
            ATTRIBUTE_CFLAGS="-wd1292"
            ;;
    esac

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(warn_unused_result)" >&5
$as_echo_n "checking for __attribute__(warn_unused_result)... " >&6; }
    if test "${ompi_cv___attribute__warn_unused_result+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int foo(int arg) __attribute__ ((__warn_unused_result__));
         int foo(int arg) { return arg + 3; }

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__warn_unused_result=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__warn_unused_result=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__warn_unused_result=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__warn_unused_result" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int foo(int arg) __attribute__ ((__warn_unused_result__));
         int foo(int arg) { return arg + 3; }

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__warn_unused_result=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__warn_unused_result=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__warn_unused_result=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__warn_unused_result" = "1" -a "
         static int usage(int * argument);
         int foo(int arg) __attribute__ ((__warn_unused_result__));

         int foo(int arg) { return arg + 3; }
         static int usage(int * argument) {
           foo (*argument);        /* Should produce an unused result warning */
           return 0;
         }

         /* The autoconf-generated main-function is int main(), which produces a warning by itself */
         int main(void);
        " != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS $ATTRIBUTE_CFLAGS"

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         static int usage(int * argument);
         int foo(int arg) __attribute__ ((__warn_unused_result__));

         int foo(int arg) { return arg + 3; }
         static int usage(int * argument) {
           foo (*argument);        /* Should produce an unused result warning */
           return 0;
         }

         /* The autoconf-generated main-function is int main(), which produces a warning by itself */
         int main(void);

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__warn_unused_result=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__warn_unused_result=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__warn_unused_result=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__warn_unused_result" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi




    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __attribute__(weak_alias)" >&5
$as_echo_n "checking for __attribute__(weak_alias)... " >&6; }
    if test "${ompi_cv___attribute__weak_alias+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

        #
        # Try to compile using the C compiler, then C++
        #
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

         int foo(int arg);
         int foo(int arg) { return arg + 3; }
         int foo2(int arg) __attribute__ ((__weak__, __alias__("foo")));

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

                        #
                        # In case we did succeed: Fine, but was this due to the
                        # attribute being ignored/skipped? Grep for IgNoRe/skip in conftest.err
                        # and if found, reset the ompi_cv__attribute__var=0
                        #
                        ompi_cv___attribute__weak_alias=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__weak_alias=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__weak_alias=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        if test "$ompi_cv___attribute__weak_alias" = "1" ; then
            ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

                           extern "C" {

         int foo(int arg);
         int foo(int arg) { return arg + 3; }
         int foo2(int arg) __attribute__ ((__weak__, __alias__("foo")));

                           }
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :

                            ompi_cv___attribute__weak_alias=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__weak_alias=0
                break;
            fi
        done
    fi


else
  ompi_cv___attribute__weak_alias=0
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
            ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        fi

        #
        # If the attribute is supported by both compilers,
        # try to recompile a *cross-check*, IFF defined.
        #
        if test '(' "$ompi_cv___attribute__weak_alias" = "1" -a "" != "" ')' ; then
            ac_c_werror_flag_safe=$ac_c_werror_flag
            ac_c_werror_flag="yes"
            CFLAGS_safe=$CFLAGS
            CFLAGS="$CFLAGS "

            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

                 int i=4711;
                 i=usage(&i);

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ompi_cv___attribute__weak_alias=0
else

                 #
                 # In case we did NOT succeed: Fine, but was this due to the
                 # attribute being ignored? Grep for IgNoRe in conftest.err
                 # and if found, reset the ompi_cv__attribute__var=0
                 #
                 ompi_cv___attribute__weak_alias=1


    if test -s conftest.err ; then
        for i in ignore skip ; do
            $GREP -iq $i conftest.err
            if test "$?" = "0" ; then
                ompi_cv___attribute__weak_alias=0
                break;
            fi
        done
    fi


fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

            ac_c_werror_flag=$ac_c_werror_flag_safe
            CFLAGS=$CFLAGS_safe
        fi

fi


    if test "$ompi_cv___attribute__weak_alias" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi


  fi

  # Now that all the values are set, define them


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_ALIGNED $ompi_cv___attribute__aligned
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_ALWAYS_INLINE $ompi_cv___attribute__always_inline
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_COLD $ompi_cv___attribute__cold
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_CONST $ompi_cv___attribute__const
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_DEPRECATED $ompi_cv___attribute__deprecated
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_FORMAT $ompi_cv___attribute__format
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_HOT $ompi_cv___attribute__hot
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_MALLOC $ompi_cv___attribute__malloc
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_MAY_ALIAS $ompi_cv___attribute__may_alias
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_NO_INSTRUMENT_FUNCTION $ompi_cv___attribute__no_instrument_function
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_NONNULL $ompi_cv___attribute__nonnull
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_NORETURN $ompi_cv___attribute__noreturn
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_PACKED $ompi_cv___attribute__packed
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_PURE $ompi_cv___attribute__pure
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_SENTINEL $ompi_cv___attribute__sentinel
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_UNUSED $ompi_cv___attribute__unused
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_VISIBILITY $ompi_cv___attribute__visibility
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_WARN_UNUSED_RESULT $ompi_cv___attribute__warn_unused_result
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ATTRIBUTE_WEAK_ALIAS $ompi_cv___attribute__weak_alias
_ACEOF




##################################
# Assembler Configuration
##################################

ompi_show_subtitle "Assembler"

# By default we simply use the C compiler to build assembly code.

test "${CCAS+set}" = set || CCAS=$CC
test "${CCASFLAGS+set}" = set || CCASFLAGS=$CFLAGS



depcc="$CCAS"   am_compiler_list=

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
$as_echo_n "checking dependency style of $depcc... " >&6; }
if test "${am_cv_CCAS_dependencies_compiler_type+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
  # We make a subdir and do the tests there.  Otherwise we can end up
  # making bogus files that we don't know about and never remove.  For
  # instance it was reported that on HP-UX the gcc test will end up
  # making a dummy file named `D' -- because `-MD' means `put the output
  # in D'.
  mkdir conftest.dir
  # Copy depcomp to subdir because otherwise we won't find it if we're
  # using a relative directory.
  cp "$am_depcomp" conftest.dir
  cd conftest.dir
  # We will build objects and dependencies in a subdirectory because
  # it helps to detect inapplicable dependency modes.  For instance
  # both Tru64's cc and ICC support -MD to output dependencies as a
  # side effect of compilation, but ICC will put the dependencies in
  # the current directory while Tru64 will put them in the object
  # directory.
  mkdir sub

  am_cv_CCAS_dependencies_compiler_type=none
  if test "$am_compiler_list" = ""; then
     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
  fi
  am__universal=false


  for depmode in $am_compiler_list; do
    # Setup a source with many dependencies, because some compilers
    # like to wrap large dependency lists on column 80 (with \), and
    # we should not choose a depcomp mode which is confused by this.
    #
    # We need to recreate these files for each test, as the compiler may
    # overwrite some of them when testing with obscure command lines.
    # This happens at least with the AIX C compiler.
    : > sub/conftest.c
    for i in 1 2 3 4 5 6; do
      echo '#include "conftst'$i'.h"' >> sub/conftest.c
      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
      # Solaris 8's {/usr,}/bin/sh.
      touch sub/conftst$i.h
    done
    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf

    # We check with `-c' and `-o' for the sake of the "dashmstdout"
    # mode.  It turns out that the SunPro C++ compiler does not properly
    # handle `-M -o', and we need to detect this.  Also, some Intel
    # versions had trouble with output in subdirs
    am__obj=sub/conftest.${OBJEXT-o}
    am__minus_obj="-o $am__obj"
    case $depmode in
    gcc)
      # This depmode causes a compiler race in universal mode.
      test "$am__universal" = false || continue
      ;;
    nosideeffect)
      # after this tag, mechanisms are not by side-effect, so they'll
      # only be used when explicitly requested
      if test "x$enable_dependency_tracking" = xyes; then
	continue
      else
	break
      fi
      ;;
    msvisualcpp | msvcmsys)
      # This compiler won't grok `-c -o', but also, the minuso test has
      # not run yet.  These depmodes are late enough in the game, and
      # so weak that their functioning should not be impacted.
      am__obj=conftest.${OBJEXT-o}
      am__minus_obj=
      ;;
    none) break ;;
    esac
    if depmode=$depmode \
       source=sub/conftest.c object=$am__obj \
       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \
         >/dev/null 2>conftest.err &&
       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&
       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
      # icc doesn't choke on unknown options, it will just issue warnings
      # or remarks (even with -Werror).  So we grep stderr for any message
      # that says an option was ignored or not supported.
      # When given -MP, icc 7.0 and 7.1 complain thusly:
      #   icc: Command line warning: ignoring option '-M'; no argument required
      # The diagnosis changed in icc 8.0:
      #   icc: Command line remark: option '-MP' not supported
      if (grep 'ignoring option' conftest.err ||
          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
        am_cv_CCAS_dependencies_compiler_type=$depmode
        break
      fi
    fi
  done

  cd ..
  rm -rf conftest.dir
else
  am_cv_CCAS_dependencies_compiler_type=none
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_CCAS_dependencies_compiler_type" >&5
$as_echo "$am_cv_CCAS_dependencies_compiler_type" >&6; }
CCASDEPMODE=depmode=$am_cv_CCAS_dependencies_compiler_type

 if
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CCAS_dependencies_compiler_type" = gcc3; then
  am__fastdepCCAS_TRUE=
  am__fastdepCCAS_FALSE='#'
else
  am__fastdepCCAS_TRUE='#'
  am__fastdepCCAS_FALSE=
fi


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for BSD- or MS-compatible name lister (nm)" >&5
$as_echo_n "checking for BSD- or MS-compatible name lister (nm)... " >&6; }
if test "${lt_cv_path_NM+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$NM"; then
  # Let the user override the test.
  lt_cv_path_NM="$NM"
else
  lt_nm_to_check="${ac_tool_prefix}nm"
  if test -n "$ac_tool_prefix" && test "$build" = "$host"; then
    lt_nm_to_check="$lt_nm_to_check nm"
  fi
  for lt_tmp_nm in $lt_nm_to_check; do
    lt_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
    for ac_dir in $PATH /usr/ccs/bin/elf /usr/ccs/bin /usr/ucb /bin; do
      IFS="$lt_save_ifs"
      test -z "$ac_dir" && ac_dir=.
      tmp_nm="$ac_dir/$lt_tmp_nm"
      if test -f "$tmp_nm" || test -f "$tmp_nm$ac_exeext" ; then
	# Check to see if the nm accepts a BSD-compat flag.
	# Adding the `sed 1q' prevents false positives on HP-UX, which says:
	#   nm: unknown option "B" ignored
	# Tru64's nm complains that /dev/null is an invalid object file
	case `"$tmp_nm" -B /dev/null 2>&1 | sed '1q'` in
	*/dev/null* | *'Invalid file or object type'*)
	  lt_cv_path_NM="$tmp_nm -B"
	  break
	  ;;
	*)
	  case `"$tmp_nm" -p /dev/null 2>&1 | sed '1q'` in
	  */dev/null*)
	    lt_cv_path_NM="$tmp_nm -p"
	    break
	    ;;
	  *)
	    lt_cv_path_NM=${lt_cv_path_NM="$tmp_nm"} # keep the first match, but
	    continue # so that we can try to find one that supports BSD flags
	    ;;
	  esac
	  ;;
	esac
      fi
    done
    IFS="$lt_save_ifs"
  done
  : ${lt_cv_path_NM=no}
fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $lt_cv_path_NM" >&5
$as_echo "$lt_cv_path_NM" >&6; }
if test "$lt_cv_path_NM" != "no"; then
  NM="$lt_cv_path_NM"
else
  # Didn't find any BSD compatible name lister, look for dumpbin.
  if test -n "$ac_tool_prefix"; then
  for ac_prog in "dumpbin -symbols" "link -dump -symbols"
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_DUMPBIN+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$DUMPBIN"; then
  ac_cv_prog_DUMPBIN="$DUMPBIN" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_DUMPBIN="$ac_tool_prefix$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
DUMPBIN=$ac_cv_prog_DUMPBIN
if test -n "$DUMPBIN"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $DUMPBIN" >&5
$as_echo "$DUMPBIN" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    test -n "$DUMPBIN" && break
  done
fi
if test -z "$DUMPBIN"; then
  ac_ct_DUMPBIN=$DUMPBIN
  for ac_prog in "dumpbin -symbols" "link -dump -symbols"
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_ac_ct_DUMPBIN+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_DUMPBIN"; then
  ac_cv_prog_ac_ct_DUMPBIN="$ac_ct_DUMPBIN" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_DUMPBIN="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_DUMPBIN=$ac_cv_prog_ac_ct_DUMPBIN
if test -n "$ac_ct_DUMPBIN"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_DUMPBIN" >&5
$as_echo "$ac_ct_DUMPBIN" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$ac_ct_DUMPBIN" && break
done

  if test "x$ac_ct_DUMPBIN" = x; then
    DUMPBIN=":"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    DUMPBIN=$ac_ct_DUMPBIN
  fi
fi


  if test "$DUMPBIN" != ":"; then
    NM="$DUMPBIN"
  fi
fi
test -z "$NM" && NM=nm






{ $as_echo "$as_me:${as_lineno-$LINENO}: checking the name lister ($NM) interface" >&5
$as_echo_n "checking the name lister ($NM) interface... " >&6; }
if test "${lt_cv_nm_interface+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  lt_cv_nm_interface="BSD nm"
  echo "int some_variable = 0;" > conftest.$ac_ext
  (eval echo "\"\$as_me:20493: $ac_compile\"" >&5)
  (eval "$ac_compile" 2>conftest.err)
  cat conftest.err >&5
  (eval echo "\"\$as_me:20496: $NM \\\"conftest.$ac_objext\\\"\"" >&5)
  (eval "$NM \"conftest.$ac_objext\"" 2>conftest.err > conftest.out)
  cat conftest.err >&5
  (eval echo "\"\$as_me:20499: output\"" >&5)
  cat conftest.out >&5
  if $GREP 'External.*some_variable' conftest.out > /dev/null; then
    lt_cv_nm_interface="MS dumpbin"
  fi
  rm -f conftest*
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $lt_cv_nm_interface" >&5
$as_echo "$lt_cv_nm_interface" >&6; }

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for fgrep" >&5
$as_echo_n "checking for fgrep... " >&6; }
if test "${ac_cv_path_FGREP+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if echo 'ab*c' | $GREP -F 'ab*c' >/dev/null 2>&1
   then ac_cv_path_FGREP="$GREP -F"
   else
     if test -z "$FGREP"; then
  ac_path_FGREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in fgrep; do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_FGREP="$as_dir/$ac_prog$ac_exec_ext"
      { test -f "$ac_path_FGREP" && $as_test_x "$ac_path_FGREP"; } || continue
# Check for GNU ac_path_FGREP and select it if it is found.
  # Check for GNU $ac_path_FGREP
case `"$ac_path_FGREP" --version 2>&1` in
*GNU*)
  ac_cv_path_FGREP="$ac_path_FGREP" ac_path_FGREP_found=:;;
*)
  ac_count=0
  $as_echo_n 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    $as_echo 'FGREP' >> "conftest.nl"
    "$ac_path_FGREP" FGREP < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_FGREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_FGREP="$ac_path_FGREP"
      ac_path_FGREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_FGREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_FGREP"; then
    as_fn_error $? "no acceptable fgrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_FGREP=$FGREP
fi

   fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_FGREP" >&5
$as_echo "$ac_cv_path_FGREP" >&6; }
 FGREP="$ac_cv_path_FGREP"







    # OS X Leopard ld bus errors if you have "-g" or "-gX" in the link line
    # with our assembly (!).  So remove it from CCASFLAGS if it's
    # there (and we're on Leopard).


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ompi_config_asm_flags_new ompi_config_asm_flag; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ompi_config_asm_flags_new ompi_config_asm_flag\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if need to remove -g from CCASFLAGS" >&5
$as_echo_n "checking if need to remove -g from CCASFLAGS... " >&6; }
    case "$host" in
        *-apple-darwin9.*)
            for ompi_config_asm_flag in $CCASFLAGS; do
                # See http://www.gnu.org/software/autoconf/manual/html_node/Quadrigraphs.html#Quadrigraphs
                # for an explanation of [ and ] -- they m4 expand
                # to [ and ]
                case $ompi_config_asm_flag in
                -g)            ;;
                -g[0-9]) ;;
                *)
                    ompi_config_asm_flags_new="$ompi_config_asm_flags_new $ompi_config_asm_flag"
                    ;;
                esac
            done
            CCASFLAGS="$ompi_config_asm_flags_new"
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: OS X Leopard - yes ($CCASFLAGS)" >&5
$as_echo "OS X Leopard - yes ($CCASFLAGS)" >&6; }
            ;;
        *)
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
            ;;
    esac

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable smp locks" >&5
$as_echo_n "checking whether to enable smp locks... " >&6; }
    # Check whether --enable-smp-locks was given.
if test "${enable_smp_locks+set}" = set; then :
  enableval=$enable_smp_locks;
fi

    if test "$enable_smp_locks" != "no"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
        want_smp_locks=1
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
        want_smp_locks=0
    fi

cat >>confdefs.h <<_ACEOF
#define OMPI_WANT_SMP_LOCKS $want_smp_locks
_ACEOF


    if test "$ompi_cv_c_compiler_vendor" = "microsoft" ; then
        ompi_cv_asm_arch="WINDOWS"
    else

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if .proc/endp is needed" >&5
$as_echo_n "checking if .proc/endp is needed... " >&6; }
if test "${ompi_cv_asm_need_proc+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ompi_cv_asm_need_proc="no"
                    cat >conftest.s <<EOF

     .proc mysym
mysym:
     .endp mysym
EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  ompi_cv_asm_need_proc="yes"
else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  :
fi
rm -rf conftest*
unset ompi_assemble

                    rm -f conftest.out
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_need_proc" >&5
$as_echo "$ompi_cv_asm_need_proc" >&6; }

    if test "$ompi_cv_asm_need_proc" = "yes" ; then
       ompi_cv_asm_proc=".proc"
       ompi_cv_asm_endproc=".endp"
    else
       ompi_cv_asm_proc="#"
       ompi_cv_asm_endproc="#"
    fi


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking directive for setting text section" >&5
$as_echo_n "checking directive for setting text section... " >&6; }
    ompi_cv_asm_text=""
    if test "$ompi_cv_c_compiler_vendor" = "microsoft" ; then
        # text section will be brought in with the rest of
        # header for MS - leave blank for now
        ompi_cv_asm_text=""
    else
        case $host in
            *-aix*)
                ompi_cv_asm_text=".csect .text[PR]"
            ;;
            *)
                ompi_cv_asm_text=".text"
            ;;
        esac
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_text" >&5
$as_echo "$ompi_cv_asm_text" >&6; }

cat >>confdefs.h <<_ACEOF
#define OMPI_ASM_TEXT "$ompi_cv_asm_text"
_ACEOF

    OMPI_ASM_TEXT="$ompi_cv_asm_text"



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking directive for exporting symbols" >&5
$as_echo_n "checking directive for exporting symbols... " >&6; }
    ompi_cv_asm_global=""
    if test "$ompi_cv_c_compiler_vendor" = "microsoft" ; then
        ompi_cv_asm_global="PUBLIC"
    else
        case $host in
            *)
                ompi_cv_asm_global=".globl"
            ;;
        esac
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_global" >&5
$as_echo "$ompi_cv_asm_global" >&6; }

cat >>confdefs.h <<_ACEOF
#define OMPI_ASM_GLOBAL "$ompi_cv_asm_global"
_ACEOF

    OMPI_ASM_GLOBAL="$ompi_cv_asm_global"





    # Extract the first word of "objdump", so it can be a program name with args.
set dummy objdump; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_OBJDUMP+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$OBJDUMP"; then
  ac_cv_prog_OBJDUMP="$OBJDUMP" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_OBJDUMP="objdump"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
OBJDUMP=$ac_cv_prog_OBJDUMP
if test -n "$OBJDUMP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $OBJDUMP" >&5
$as_echo "$OBJDUMP" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if .note.GNU-stack is needed" >&5
$as_echo_n "checking if .note.GNU-stack is needed... " >&6; }
if test "${ompi_cv_asm_gnu_stack_result+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$OBJDUMP" != ""; then :
   # first, see if a simple C program has it set
             cat >conftest.c <<EOF
int testfunc() {return 0; }
EOF

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:20847: $CC $CFLAGS -c conftest.c -o conftest.$OBJEXT" >&5
$CC $CFLAGS -c conftest.c -o conftest.$OBJEXT 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:20854: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    $OBJDUMP -x conftest.$OBJEXT | $GREP '\.note\.GNU-stack' > /dev/null && ompi_cv_asm_gnu_stack_result=yes
else
    unset ompi_status

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:20867: the failed program was:" >&5
else
    echo the failed program was: >&5
fi

# 1 is the filename
if test -n "conftest.c" -a -f "conftest.c"; then
    cat conftest.c >&5
fi
                  ompi_cv_asm_gnu_stack_result=no
fi
             if test "$ompi_cv_asm_gnu_stack_result" != "yes" ; then
                 ompi_cv_asm_gnu_stack_result="no"
             fi
             rm -rf conftest.*
else
  ompi_cv_asm_gnu_stack_result="no"
fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_gnu_stack_result" >&5
$as_echo "$ompi_cv_asm_gnu_stack_result" >&6; }
    if test "$ompi_cv_asm_gnu_stack_result" = "yes" ; then
        ompi_cv_asm_gnu_stack=1
    else
        ompi_cv_asm_gnu_stack=0
    fi


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking suffix for labels" >&5
$as_echo_n "checking suffix for labels... " >&6; }
    ompi_cv_asm_label_suffix=""
    case $host in
        *)
                ompi_cv_asm_label_suffix=":"
        ;;
    esac
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_label_suffix" >&5
$as_echo "$ompi_cv_asm_label_suffix" >&6; }

cat >>confdefs.h <<_ACEOF
#define OMPI_ASM_LABEL_SUFFIX "$ompi_cv_asm_label_suffix"
_ACEOF

    OMPI_ASM_LABEL_SUFFIX="$ompi_cv_asm_label_suffix"



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking prefix for global symbol labels" >&5
$as_echo_n "checking prefix for global symbol labels... " >&6; }
if test "${ompi_cv_asm_gsym+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    ompi_cv_asm_gsym="none"

    for sym in "_" "" "." ; do
        asm_result=0
        echo "configure: trying $sym" >&5
cat > conftest_c.c <<EOF
#ifdef __cplusplus
extern "C" {
#endif
void gsym_test_func(void);
#ifdef __cplusplus
}
#endif
int
main()
{
    gsym_test_func();
    return 0;
}
EOF
        cat >conftest.s <<EOF

$ompi_cv_asm_text
$ompi_cv_asm_proc ${sym}gsym_test_func
$ompi_cv_asm_global ${sym}gsym_test_func
${sym}gsym_test_func${ompi_cv_asm_label_suffix}
$ompi_cv_asm_endproc ${sym}gsym_test_func

EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  ompi_compile="$CC $CFLAGS -I. conftest_c.c -c > conftest.cmpl 2>&1"
             if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_compile\""; } >&5
  (eval $ompi_compile) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } ; then
                # save the warnings
                 cat conftest.cmpl >&5
                 ompi_link="$CC $CFLAGS conftest_c.$OBJEXT conftest.$OBJEXT -o conftest  $LDFLAGS $LIBS > conftest.link 2>&1"
                 if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_link\""; } >&5
  (eval $ompi_link) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } ; then
                     # save the warnings
                     cat conftest.link >&5
                     asm_result=1
                 else
                     cat conftest.link >&5
                     echo "configure: failed C program was: " >&5
                     cat conftest_c.c >&5
                     echo "configure: failed ASM program was: " >&5
                     cat conftest.s >&5
                     asm_result=0
                 fi
             else
                # save output and failed program
                 cat conftest.cmpl >&5
                 echo "configure: failed C program was: " >&5
                 cat conftest.c >&5
                 asm_result=0
             fi
else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  asm_result=0
fi
rm -rf conftest*
unset ompi_assemble

        if test "$asm_result" = "1" ; then
            ompi_cv_asm_gsym="$sym"
            break
        fi
    done
    rm -rf conftest.*

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_gsym" >&5
$as_echo "$ompi_cv_asm_gsym" >&6; }

    if test "$ompi_cv_asm_gsym" = "none" ; then
       as_fn_error $? "Could not determine global symbol label prefix" "$LINENO" 5
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_ASM_GSYM "$ompi_cv_asm_gsym"
_ACEOF

    OMPI_ASM_GSYM="$ompi_cv_asm_gsym"






    { $as_echo "$as_me:${as_lineno-$LINENO}: checking prefix for lsym labels" >&5
$as_echo_n "checking prefix for lsym labels... " >&6; }
if test "${ompi_cv_asm_lsym+set}" = set; then :
  $as_echo_n "(cached) " >&6
else



    ompi_cv_asm_lsym="L"

    for sym in L .L $ L$ ; do
        asm_result=0
        echo "configure: trying $sym" >&5
        cat >conftest.s <<EOF
foobar$ompi_cv_asm_label_suffix
${sym}mytestlabel$ompi_cv_asm_label_suffix
EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  # ok, we succeeded at assembling.  see if we can nm,
             # throwing the results in a file
            if $NM conftest.$OBJEXT > conftest.out 2>&5 ; then
                if test "`$GREP mytestlabel conftest.out`" = "" ; then
                    # there was no symbol...  looks promising to me
                    ompi_cv_asm_lsym="$sym"
                    asm_result=1
                elif test "`$GREP ' [Nt] .*mytestlabel' conftest.out`" = "" ; then
                    # see if we have a non-global-ish symbol
                    # but we should see if we can do better.
                    ompi_cv_asm_lsym="$sym"
                fi
            else
                # not so much on the NM goodness :/
                echo "$NM failed.  Output from NM was:" >&5
                cat conftest.out >&5
                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $NM could not read object file" >&5
$as_echo "$as_me: WARNING: $NM could not read object file" >&2;}
            fi

else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  :
fi
rm -rf conftest*
unset ompi_assemble

        if test "$asm_result" = "1" ; then
            break
        fi
    done
    rm -f conftest.out
    unset asm_result sym

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_lsym" >&5
$as_echo "$ompi_cv_asm_lsym" >&6; }

cat >>confdefs.h <<_ACEOF
#define OMPI_ASM_LSYM "$ompi_cv_asm_lsym"
_ACEOF

    OMPI_ASM_LSYM="$ompi_cv_asm_lsym"



        { $as_echo "$as_me:${as_lineno-$LINENO}: checking prefix for function in .type" >&5
$as_echo_n "checking prefix for function in .type... " >&6; }
if test "${ompi_cv_asm_type+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    ompi_cv_asm_type=""

    case "${host}" in
    *-sun-solaris*)
        # GCC on solaris seems to accept just about anything, not
        # that what it defines actually works...  So just hardwire
        # to the right answer
        ompi_cv_asm_type="#"
    ;;
    *)
        for type  in @ \# % ; do
            asm_result=0
            echo "configure: trying $type" >&5
            cat >conftest.s <<EOF
     .type mysym, ${type}function
mysym:
EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  ompi_cv_asm_type="${type}"
                    asm_result=1
else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  :
fi
rm -rf conftest*
unset ompi_assemble

            if test "$asm_result" = "1" ; then
                break
            fi
        done
    ;;
    esac
    rm -f conftest.out

    unset asm_result type

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_type" >&5
$as_echo "$ompi_cv_asm_type" >&6; }


cat >>confdefs.h <<_ACEOF
#define OMPI_ASM_TYPE "$ompi_cv_asm_type"
_ACEOF

    OMPI_ASM_TYPE="$ompi_cv_asm_type"



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if .size is needed" >&5
$as_echo_n "checking if .size is needed... " >&6; }
if test "${ompi_cv_asm_need_size+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ompi_cv_asm_need_size="no"
                    cat >conftest.s <<EOF
     .size mysym, 1
EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  ompi_cv_asm_need_size="yes"
else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  :
fi
rm -rf conftest*
unset ompi_assemble

                    rm -f conftest.out
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_need_size" >&5
$as_echo "$ompi_cv_asm_need_size" >&6; }

    if test "$ompi_cv_asm_need_size" = "yes" ; then
       ompi_asm_size=1
    else
       ompi_asm_size=0
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_ASM_SIZE "$ompi_asm_size"
_ACEOF

    OMPI_ASM_SIZE="$ompi_asm_size"

    unset asm_result





    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if .align directive takes logarithmic value" >&5
$as_echo_n "checking if .align directive takes logarithmic value... " >&6; }
if test "${ompi_cv_asm_align_log+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
   cat >conftest.s <<EOF
        $ompi_cv_asm_text
        .align 4
        $ompi_cv_asm_global foo
        .byte 1
        .align 4
foo$ompi_cv_asm_label_suffix
        .byte 2
EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  ompi_asm_addr=`$NM conftest.$OBJEXT | $GREP foo | sed -e 's/.*\([0-9a-fA-F][0-9a-fA-F]\).*foo.*/\1/'`
else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  ompi_asm_addr=""
fi
rm -rf conftest*
unset ompi_assemble

    # test for both 16 and 10 (decimal and hex notations)
    echo "configure: .align test address offset is $ompi_asm_addr" >&5
    if test "$ompi_asm_addr" = "16" -o "$ompi_asm_addr" = "10" ; then
       ompi_cv_asm_align_log="yes"
    else
        ompi_cv_asm_align_log="no"
    fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_align_log" >&5
$as_echo "$ompi_cv_asm_align_log" >&6; }

    if test "$ompi_cv_asm_align_log" = "yes" -o "$ompi_cv_asm_align_log" = "1" ; then
        ompi_asm_align_log_result=1
    else
        ompi_asm_align_log_result=0
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_ASM_ALIGN_LOG $asm_align_log_result
_ACEOF


    unset omp_asm_addr asm_result


        # find our architecture for purposes of assembly stuff
        ompi_cv_asm_arch="UNSUPPORTED"
        OMPI_GCC_INLINE_ASSIGN=""
        OMPI_ASM_SUPPORT_64BIT=0
        case "${host}" in
        i?86-*|x86_64*)
            if test "$ac_cv_sizeof_long" = "4" ; then
                ompi_cv_asm_arch="IA32"
            else
                ompi_cv_asm_arch="AMD64"
            fi
            OMPI_ASM_SUPPORT_64BIT=1
            OMPI_GCC_INLINE_ASSIGN='"movl $0, %0" : "=&r"(ret)'
            ;;

        ia64-*)
            ompi_cv_asm_arch="IA64"
            OMPI_ASM_SUPPORT_64BIT=1
            OMPI_GCC_INLINE_ASSIGN='"mov %0=r0\n;;\n" : "=&r"(ret)'
            ;;

        alpha-*|alphaev[4-8]-*|alphaev56-*|alphaev6[78]-*)
            ompi_cv_asm_arch="ALPHA"
            OMPI_ASM_SUPPORT_64BIT=1
            OMPI_GCC_INLINE_ASSIGN='"bis $31,$31,%0" : "=&r"(ret)'
            ;;

        mips64*-linux-*)
            ompi_cv_asm_arch="MIPS"
            OMPI_ASM_SUPPORT_64BIT=1
            OMPI_GCC_INLINE_ASSIGN='"or %0,$0,$0" : "=&r"(ret)'
            ;;

        mips*-linux-*)
            ompi_cv_asm_arch="MIPS"
            OMPI_ASM_SUPPORT_64BIT=0
            OMPI_GCC_INLINE_ASSIGN='"or %0,$0,$0" : "=&r"(ret)'
            ;;

        mips-*|mips64*)
            # Should really find some way to make sure that we are on
            # a MIPS III machine (r4000 and later)
            ompi_cv_asm_arch="MIPS"
            OMPI_ASM_SUPPORT_64BIT=1
            OMPI_GCC_INLINE_ASSIGN='"or %0,$0,$0" : "=&r"(ret)'
            ;;

        powerpc-*|powerpc64-*)

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if PowerPC registers have r prefix" >&5
$as_echo_n "checking if PowerPC registers have r prefix... " >&6; }
    cat >conftest.s <<EOF
$ompi_cv_asm_text
        addi 1,1,0
EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  ompi_cv_asm_powerpc_r_reg=0
else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  cat >conftest.s <<EOF
$ompi_cv_asm_text
        addi r1,r1,0
EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  ompi_cv_asm_powerpc_r_reg=1
else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  as_fn_error $? "Can not determine how to use PPC registers" "$LINENO" 5
fi
rm -rf conftest*
unset ompi_assemble

fi
rm -rf conftest*
unset ompi_assemble

    if test "$ompi_cv_asm_powerpc_r_reg" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_POWERPC_R_REGISTERS $ompi_cv_asm_powerpc_r_reg
_ACEOF


            if test "$ac_cv_sizeof_long" = "4" ; then
                ompi_cv_asm_arch="POWERPC32"

                # Note that on some platforms (Apple G5), even if we are
                # compiling in 32 bit mode (and therefore should assume
                # sizeof(long) == 4), we can use the 64 bit test and set
                # operations.

    if test "$ac_cv_sizeof_long" != "4" ; then
        # this function should only be called in the 32 bit case
        as_fn_error $? "CHECK_POWERPC_64BIT called on 64 bit platform.  Internal error." "$LINENO" 5
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for 64-bit PowerPC assembly support" >&5
$as_echo_n "checking for 64-bit PowerPC assembly support... " >&6; }
        case $host in
            *-darwin*)
                ppc64_result=0
                if test "$ompi_cv_asm_powerpc_r_reg" = "1" ; then
                   ldarx_asm="        ldarx r1,r1,r1";
                else
                   ldarx_asm="        ldarx 1,1,1";
                fi
                cat >conftest.s <<EOF
$ompi_cv_asm_text
        $ldarx_asm
EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  ppc64_result=1
else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  ppc64_result=0
fi
rm -rf conftest*
unset ompi_assemble

            ;;
            *)
                ppc64_result=0
            ;;
        esac

    if test "$ppc64_result" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
        OMPI_ASM_SUPPORT_64BIT=1
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
        :
    fi

    unset ppc64_result ldarx_asm

            elif test "$ac_cv_sizeof_long" = "8" ; then
                OMPI_ASM_SUPPORT_64BIT=1
                ompi_cv_asm_arch="POWERPC64"
            else
                as_fn_error $? "Could not determine PowerPC word size: $ac_cv_sizeof_long" "$LINENO" 5
            fi
            OMPI_GCC_INLINE_ASSIGN='"1: li %0,0" : "=&r"(ret)'
            ;;

        sparc*-*)
            # SPARC v9 (and above) are the only ones with 64bit support
            # if compiling 32 bit, see if we are v9 (aka v8plus) or
            # earlier (casa is v8+/v9).
            if test "$ac_cv_sizeof_long" = "4" ; then
                have_v8plus=0

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if have Sparc v8+/v9 support" >&5
$as_echo_n "checking if have Sparc v8+/v9 support... " >&6; }
    sparc_result=0
    cat >conftest.s <<EOF
$ompi_cv_asm_text
	casa [%o0] 0x80, %o1, %o2
EOF
if test "$CC" = "$CCAS" ; then
    ompi_assemble="$CCAS $CCASFLAGS -c conftest.s >conftest.out 2>&1"
else
    ompi_assemble="$CCAS $CCASFLAGS -o conftest.o conftest.s >conftest.out 2>&1"
fi
if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_assemble\""; } >&5
  (eval $ompi_assemble) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
  # save the warnings
  cat conftest.out >&5
  sparc_result=1
else
  # save compiler output and failed program
  cat conftest.out >&5
  echo "configure: failed program was:" >&5
  cat conftest.s >&5
  sparc_result=0
fi
rm -rf conftest*
unset ompi_assemble

    if test "$sparc_result" = "1" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
        have_v8plus=1
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
        :
    fi

    unset sparc_result

                if test "$have_v8plus" = "0" ; then
                    OMPI_ASM_SUPPORT_64BIT=0
                    ompi_cv_asm_arch="SPARC"
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Sparc v8 target is not supported in this release of Open MPI." >&5
$as_echo "$as_me: WARNING: Sparc v8 target is not supported in this release of Open MPI." >&2;}
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: You must specify the target architecture v8plus" >&5
$as_echo "$as_me: WARNING: You must specify the target architecture v8plus" >&2;}
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: (cc: -xarch=v8plus, gcc: -mcpu=v9) for CFLAGS, CXXFLAGS," >&5
$as_echo "$as_me: WARNING: (cc: -xarch=v8plus, gcc: -mcpu=v9) for CFLAGS, CXXFLAGS," >&2;}
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: FFLAGS, and FCFLAGS to compile Open MPI in 32 bit mode on" >&5
$as_echo "$as_me: WARNING: FFLAGS, and FCFLAGS to compile Open MPI in 32 bit mode on" >&2;}
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Sparc processors" >&5
$as_echo "$as_me: WARNING: Sparc processors" >&2;}
as_fn_error $? "Can not continue." "$LINENO" 5
                else
                    OMPI_ASM_SUPPORT_64BIT=1
                    ompi_cv_asm_arch="SPARCV9_32"
                fi

            elif test "$ac_cv_sizeof_long" = "8" ; then
                OMPI_ASM_SUPPORT_64BIT=1
                ompi_cv_asm_arch="SPARCV9_64"
            else
                as_fn_error $? "Could not determine Sparc word size: $ac_cv_sizeof_long" "$LINENO" 5
            fi
            OMPI_GCC_INLINE_ASSIGN='"mov 0,%0" : "=&r"(ret)'
            ;;

        *)
            as_fn_error $? "No atomic primitives available for $host" "$LINENO" 5
            ;;
        esac


cat >>confdefs.h <<_ACEOF
#define OMPI_ASM_SUPPORT_64BIT $OMPI_ASM_SUPPORT_64BIT
_ACEOF



        #
        # figure out if we need any special function start / stop code
        #
        case $host_os in
        aix*)
            ompi_asm_arch_config="aix"
            ;;
        *)
            ompi_asm_arch_config="default"
            ;;
         esac

         # now that we know our architecture, try to inline assemble

    assembly="$OMPI_GCC_INLINE_ASSIGN"
    asm_result="unknown"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports GCC inline assembly" >&5
$as_echo_n "checking if $CC supports GCC inline assembly... " >&6; }

    if test "$ompi_cv_c_compiler_vendor" = "portland group" ; then
        # PGI seems to have some issues with our inline assembly.
        # Disable for now.
        asm_result="no (Portland Group)"
    else
        case $host in
            *-aix*)
                # the AIX compilers and linkers really don't do gcc
                # inline assembly right - disable for now.
                asm_result="no (AIX)"
                ;;
            *)
                if test ! "$assembly" = "" ; then
                        if test "$cross_compiling" = yes; then :
  asm_result="unknown"
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

$ac_includes_default
int
main ()
{
int ret = 1;
__asm__ __volatile__ ($assembly);
return ret;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  asm_result="yes"
else
  asm_result="no"
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

                else
                    assembly="test skipped - assuming no"
                fi
                ;;
        esac

        # if we're cross compiling, just try to compile and figure good enough
        if test "$asm_result" = "unknown" ; then
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

$ac_includes_default
int
main ()
{
int ret = 1;
__asm__ __volatile__ ($assembly);
return ret;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  asm_result="yes"
else
  asm_result="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
        fi
    fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $asm_result" >&5
$as_echo "$asm_result" >&6; }

    if test "$asm_result" = "yes" ; then
        OMPI_C_GCC_INLINE_ASSEMBLY=1
    else
        OMPI_C_GCC_INLINE_ASSEMBLY=0
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_C_GCC_INLINE_ASSEMBLY $OMPI_C_GCC_INLINE_ASSEMBLY
_ACEOF


    unset OMPI_C_GCC_INLINE_ASSEMBLY assembly asm_result



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports DEC inline assembly" >&5
$as_echo_n "checking if $CC supports DEC inline assembly... " >&6; }

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

$ac_includes_default
#include <c_asm.h>
int
main ()
{
asm("");
return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  asm_result="yes"
else
  asm_result="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $asm_result" >&5
$as_echo "$asm_result" >&6; }

    if test "$asm_result" = "yes" ; then
        OMPI_C_DEC_INLINE_ASSEMBLY=1
    else
        OMPI_C_DEC_INLINE_ASSEMBLY=0
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_C_DEC_INLINE_ASSEMBLY $OMPI_C_DEC_INLINE_ASSEMBLY
_ACEOF


    unset OMPI_C_DEC_INLINE_ASSEMBLY asm_result



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC supports XLC inline assembly" >&5
$as_echo_n "checking if $CC supports XLC inline assembly... " >&6; }

    OMPI_C_XLC_INLINE_ASSEMBLY=0
    asm_result="no"
    if test "$CC" = "xlc" ; then
        OMPI_XLC_INLINE_ASSEMBLY=1
        asm_result="yes"
    fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $asm_result" >&5
$as_echo "$asm_result" >&6; }

cat >>confdefs.h <<_ACEOF
#define OMPI_C_XLC_INLINE_ASSEMBLY $OMPI_C_XLC_INLINE_ASSEMBLY
_ACEOF


    unset OMPI_C_XLC_INLINE_ASSEMBLY


    assembly="$OMPI_GCC_INLINE_ASSIGN"
    asm_result="unknown"

    ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CXX supports GCC inline assembly" >&5
$as_echo_n "checking if $CXX supports GCC inline assembly... " >&6; }

    case $host in
        *-aix*)
            # the AIX compilers and linkers really don't do gcc
            # inline assembly right - disable for now.
            asm_result="no (AIX)"
            ;;
        *)
            if test ! "$assembly" = "" ; then
            if test "$cross_compiling" = yes; then :
  asm_result="unknown"
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

$ac_includes_default
int
main ()
{
int ret = 1;
__asm__ __volatile__ ($assembly);
return ret;
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_run "$LINENO"; then :
  asm_result="yes"
else
  asm_result="no"
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

            else
                assembly="test skipped - assuming no"
            fi
            ;;
    esac
    # if we're cross compiling, just try to compile and figure good enough
    if test "$asm_result" = "unknown" ; then
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

$ac_includes_default
int
main ()
{
int ret = 1;
__asm__ __volatile__ ($assembly);
return ret;
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"; then :
  asm_result="yes"
else
  asm_result="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $asm_result" >&5
$as_echo "$asm_result" >&6; }

    if test "$asm_result" = "yes" ; then
        OMPI_CXX_GCC_INLINE_ASSEMBLY=1
    else
        OMPI_CXX_GCC_INLINE_ASSEMBLY=0
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_GCC_INLINE_ASSEMBLY $OMPI_CXX_GCC_INLINE_ASSEMBLY
_ACEOF

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    unset OMPI_CXX_GCC_INLINE_ASSEMBLY assembly asm_result



    ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CXX supports DEC inline assembly" >&5
$as_echo_n "checking if $CXX supports DEC inline assembly... " >&6; }

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

$ac_includes_default
#include <c_asm.h>
int
main ()
{
asm("");
return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"; then :
  asm_result="yes"
else
  asm_result="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $asm_result" >&5
$as_echo "$asm_result" >&6; }

    if test "$asm_result" = "yes" ; then
        OMPI_CXX_DEC_INLINE_ASSEMBLY=1
    else
        OMPI_CXX_DEC_INLINE_ASSEMBLY=0
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_DEC_INLINE_ASSEMBLY $OMPI_CXX_DEC_INLINE_ASSEMBLY
_ACEOF

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    unset OMPI_CXX_DEC_INLINE_ASSEMBLY asm_result



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CXX supports XLC inline assembly" >&5
$as_echo_n "checking if $CXX supports XLC inline assembly... " >&6; }

    OMPI_CXX_XLC_INLINE_ASSEMBLY=0
    asm_result="no"
    if test "$CXX" = "xlC" -o "$CXX" = "xlc++" ; then
        OMPI_CXX_XLC_INLINE_ASSEMBLY=1
        asm_result="yes"
    fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $asm_result" >&5
$as_echo "$asm_result" >&6; }

cat >>confdefs.h <<_ACEOF
#define OMPI_CXX_XLC_INLINE_ASSEMBLY $OMPI_CXX_XLC_INLINE_ASSEMBLY
_ACEOF


    unset OMPI_CXX_XLC_INLINE_ASSEMBLY


         # format:
         #   config_file-text-global-label_suffix-gsym-lsym-type-size-align_log-ppc_r_reg-64_bit-gnu_stack
         asm_format="${ompi_asm_arch_config}"
         asm_format="${asm_format}-${ompi_cv_asm_text}-${ompi_cv_asm_global}"
         asm_format="${asm_format}-${ompi_cv_asm_label_suffix}-${ompi_cv_asm_gsym}"
         asm_format="${asm_format}-${ompi_cv_asm_lsym}"
         asm_format="${asm_format}-${ompi_cv_asm_type}-${ompi_asm_size}"
         asm_format="${asm_format}-${ompi_asm_align_log_result}"
         if test "$ompi_cv_asm_arch" = "POWERPC32" -o "$ompi_cv_asm_arch" = "POWERPC64" ; then
             asm_format="${asm_format}-${ompi_cv_asm_powerpc_r_reg}"
         else
             asm_format="${asm_format}-1"
         fi
         asm_format="${asm_format}-${OMPI_ASM_SUPPORT_64BIT}"
         ompi_cv_asm_format="${asm_format}-${ompi_cv_asm_gnu_stack}"
         # For the Makefile, need to escape the $ as $$.  Don't display
         # this version, but make sure the Makefile gives the right thing
         # when regenerating the files because the base has been touched.
         OMPI_ASSEMBLY_FORMAT=`echo "$ompi_cv_asm_format" | sed -e 's/\\\$/\\\$\\\$/'`

        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for assembly format" >&5
$as_echo_n "checking for assembly format... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_format" >&5
$as_echo "$ompi_cv_asm_format" >&6; }

cat >>confdefs.h <<_ACEOF
#define OMPI_ASSEMBLY_FORMAT "$OMPI_ASSEMBLY_FORMAT"
_ACEOF


    fi # if cv_c_compiler_vendor = microsoft

    result="OMPI_$ompi_cv_asm_arch"
    OMPI_ASSEMBLY_ARCH="$ompi_cv_asm_arch"
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for asssembly architecture" >&5
$as_echo_n "checking for asssembly architecture... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_arch" >&5
$as_echo "$ompi_cv_asm_arch" >&6; }

cat >>confdefs.h <<_ACEOF
#define OMPI_ASSEMBLY_ARCH $result
_ACEOF







if test "$ompi_cv_asm_arch" != "WINDOWS" ; then
    # Extract the first word of "perl", so it can be a program name with args.
set dummy perl; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_PERL+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$PERL"; then
  ac_cv_prog_PERL="$PERL" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_PERL="perl"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
PERL=$ac_cv_prog_PERL
if test -n "$PERL"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $PERL" >&5
$as_echo "$PERL" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi



    # see if we have a pre-built one already
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for pre-built assembly file" >&5
$as_echo_n "checking for pre-built assembly file... " >&6; }
    ompi_cv_asm_file=""
    if $GREP "$ompi_cv_asm_arch" "${top_ompi_srcdir}/opal/asm/asm-data.txt" | $FGREP "$ompi_cv_asm_format" >conftest.out 2>&1 ; then
        ompi_cv_asm_file="`cut -f3 conftest.out`"
        if test ! "$ompi_cv_asm_file" = "" ; then
            ompi_cv_asm_file="atomic-${ompi_cv_asm_file}.s"
            if test -f "${top_ompi_srcdir}/opal/asm/generated/${ompi_cv_asm_file}" ; then
                { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes ($ompi_cv_asm_file)" >&5
$as_echo "yes ($ompi_cv_asm_file)" >&6; }
            else
                { $as_echo "$as_me:${as_lineno-$LINENO}: result: no ($ompi_cv_asm_file not found)" >&5
$as_echo "no ($ompi_cv_asm_file not found)" >&6; }
                ompi_cv_asm_file=""
            fi
        fi
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no (not in asm-data)" >&5
$as_echo "no (not in asm-data)" >&6; }
    fi
    rm -rf conftest.*

    if test "$ompi_cv_asm_file" = "" ; then
        if test ! "$PERL" = "" ; then
            # we have perl...  Can we generate a file?
            { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether possible to generate assembly file" >&5
$as_echo_n "checking whether possible to generate assembly file... " >&6; }
            mkdir -p opal/asm/generated
            ompi_cv_asm_file="atomic-local.s"
            ompi_try='$PERL $top_ompi_srcdir/opal/asm/generate-asm.pl $ompi_cv_asm_arch "$ompi_cv_asm_format" $top_ompi_srcdir/opal/asm/base $top_ompi_builddir/opal/asm/generated/$ompi_cv_asm_file >conftest.out 2>&1'
            if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ompi_try\""; } >&5
  (eval $ompi_try) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } ; then
                # save the warnings
                cat conftest.out >&5
                { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
            else
                # save output
                cat conftest.out >&5
                ompi_cv_asm_file=""
                { $as_echo "$as_me:${as_lineno-$LINENO}: result: failed" >&5
$as_echo "failed" >&6; }
                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Could not build atomic operations assembly file." >&5
$as_echo "$as_me: WARNING: Could not build atomic operations assembly file." >&2;}
                { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: There will be no atomic operations for this build." >&5
$as_echo "$as_me: WARNING: There will be no atomic operations for this build." >&2;}
            fi
        else
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Could not find prebuilt atomic operations file and could not" >&5
$as_echo "$as_me: WARNING: Could not find prebuilt atomic operations file and could not" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: find perl to attempt to generate a custom assembly file." >&5
$as_echo "$as_me: WARNING: find perl to attempt to generate a custom assembly file." >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: There will be no atomic operations for this build." >&5
$as_echo "$as_me: WARNING: There will be no atomic operations for this build." >&2;}
        fi
    fi
    rm -rf conftest.*
else
    # On windows with VC++, atomics are done with compiler primitives
    ompi_cv_asm_file=""
fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for atomic assembly filename" >&5
$as_echo_n "checking for atomic assembly filename... " >&6; }
    if test "$ompi_cv_asm_file" = "" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
        result=0
    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_asm_file" >&5
$as_echo "$ompi_cv_asm_file" >&6; }
        result=1
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_ASM_FILE $result
_ACEOF

     if test "$result" = "1"; then
  OMPI_HAVE_ASM_FILE_TRUE=
  OMPI_HAVE_ASM_FILE_FALSE='#'
else
  OMPI_HAVE_ASM_FILE_TRUE='#'
  OMPI_HAVE_ASM_FILE_FALSE=
fi


    OMPI_ASM_FILE=$ompi_cv_asm_file



    unset result asm_format



##################################
# Fortran
##################################

#-----------
# Fortran 77
#-----------


    ompi_show_subtitle "Fortran 77 compiler"




    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ompi_fflags_save; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ompi_fflags_save\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    ompi_fflags_save="$FFLAGS"
    ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu
if test -n "$ac_tool_prefix"; then
  for ac_prog in gfortran g77 f77 xlf frt ifort pgf77 fort77 fl32 af77
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_F77+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$F77"; then
  ac_cv_prog_F77="$F77" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_F77="$ac_tool_prefix$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
F77=$ac_cv_prog_F77
if test -n "$F77"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $F77" >&5
$as_echo "$F77" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    test -n "$F77" && break
  done
fi
if test -z "$F77"; then
  ac_ct_F77=$F77
  for ac_prog in gfortran g77 f77 xlf frt ifort pgf77 fort77 fl32 af77
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if test "${ac_cv_prog_ac_ct_F77+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_F77"; then
  ac_cv_prog_ac_ct_F77="$ac_ct_F77" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_F77="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_F77=$ac_cv_prog_ac_ct_F77
if test -n "$ac_ct_F77"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_F77" >&5
$as_echo "$ac_ct_F77" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$ac_ct_F77" && break
done

  if test "x$ac_ct_F77" = x; then
    F77=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    F77=$ac_ct_F77
  fi
fi


# Provide some information about the compiler.
$as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran 77 compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done
rm -f a.out

# If we don't use `.F' as extension, the preprocessor is not run on the
# input file.  (Note that this only needs to work for GNU compilers.)
ac_save_ext=$ac_ext
ac_ext=F
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU Fortran 77 compiler" >&5
$as_echo_n "checking whether we are using the GNU Fortran 77 compiler... " >&6; }
if test "${ac_cv_f77_compiler_gnu+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  cat > conftest.$ac_ext <<_ACEOF
      program main
#ifndef __GNUC__
       choke me
#endif

      end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  ac_compiler_gnu=yes
else
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
ac_cv_f77_compiler_gnu=$ac_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_f77_compiler_gnu" >&5
$as_echo "$ac_cv_f77_compiler_gnu" >&6; }
ac_ext=$ac_save_ext
ac_test_FFLAGS=${FFLAGS+set}
ac_save_FFLAGS=$FFLAGS
FFLAGS=
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $F77 accepts -g" >&5
$as_echo_n "checking whether $F77 accepts -g... " >&6; }
if test "${ac_cv_prog_f77_g+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  FFLAGS=-g
cat > conftest.$ac_ext <<_ACEOF
      program main

      end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  ac_cv_prog_f77_g=yes
else
  ac_cv_prog_f77_g=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_f77_g" >&5
$as_echo "$ac_cv_prog_f77_g" >&6; }
if test "$ac_test_FFLAGS" = set; then
  FFLAGS=$ac_save_FFLAGS
elif test $ac_cv_prog_f77_g = yes; then
  if test "x$ac_cv_f77_compiler_gnu" = xyes; then
    FFLAGS="-g -O2"
  else
    FFLAGS="-g"
  fi
else
  if test "x$ac_cv_f77_compiler_gnu" = xyes; then
    FFLAGS="-O2"
  else
    FFLAGS=
  fi
fi

if test $ac_compiler_gnu = yes; then
  G77=yes
else
  G77=
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    FFLAGS="$ompi_fflags_save"

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done






#
# Check for the compiler
#
# Note that we don't actually *use* the fortran compiler to build
# anything in OMPI; it's only used here in configure to find out
# symbol conventions, type sizes, etc.  We also pass it down to
# the wrapper compiler mpif77.
#
# Always run this test, even if fortran isn't wanted so that F77 has
# value for the Fint tests
#

# Must REQUIRE the PROG_F77 macro and not call it directly here for
# reasons well-described in the AC2.64 (and beyond) docs.


if test -z "$F77"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 bindings disabled (could not find compiler)" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 bindings disabled (could not find compiler)" >&2;}
    OMPI_WANT_F77_BINDINGS=0
    OMPI_F77="none"
    BASEF77="none"
    OMPI_F77_ABSOLUTE="none"
else
    OMPI_F77="$F77"
    set dummy $OMPI_F77
    OMPI_F77_ARGV0=$2
    BASEF77="`basename $OMPI_F77_ARGV0`"

# 1 is the variable name to do "which" on
# 2 is the variable name to assign the return value to



    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ompi_prog ompi_file ompi_dir ompi_sentinel; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ompi_prog ompi_file ompi_dir ompi_sentinel\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


ompi_prog=$OMPI_F77_ARGV0

IFS_SAVE=$IFS
IFS="$PATH_SEPARATOR"
for ompi_dir in $PATH; do
    if test -x "$ompi_dir/$ompi_prog"; then
        OMPI_F77_ABSOLUTE="$ompi_dir/$ompi_prog"
        break
    fi
done
IFS=$IFS_SAVE


    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done



    if test "$OMPI_WANT_F77_BINDINGS" = "0" ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 bindings disabled by user" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 bindings disabled by user" >&2;}
        OMPI_WANT_F77_BINDINGS=0
    else
        OMPI_WANT_F77_BINDINGS=1
    fi
fi

# make sure the compiler actually works, if not cross-compiling
# Don't just use the AC macro so that we can have a pretty
# message.
if test $OMPI_WANT_F77_BINDINGS -eq 1; then :


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler works" >&5
$as_echo_n "checking if Fortran 77 compiler works... " >&6; }
if test "${ompi_cv_Fortran_77_works+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         if test "$cross_compiling" = yes; then :
  cat > conftest.$ac_ext <<_ACEOF
      program main

      end
_ACEOF
if ac_fn_f77_try_link "$LINENO"; then :
  ompi_cv_Fortran_77_works="links (cross compiling)"
else
  ompi_cv_Fortran_77_works="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
else
  cat > conftest.$ac_ext <<_ACEOF
      program main

      end
_ACEOF
if ac_fn_f77_try_run "$LINENO"; then :
  ompi_cv_Fortran_77_works="yes"
else
  ompi_cv_Fortran_77_works="no"
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_Fortran_77_works" >&5
$as_echo "$ompi_cv_Fortran_77_works" >&6; }
    if test "x$ompi_cv_Fortran_77_works" = x""no; then :
  cat <<EOF >&2
**********************************************************************
* It appears that your Fortran 77 compiler is unable to produce working
* executables.  A simple test application failed to properly
* execute.  Note that this is likely not a problem with Open MPI,
* but a problem with the local compiler installation.  More
* information (including exactly what command was given to the
* compiler and what error resulted when the command was executed) is
* available in the config.log file in this directory.
**********************************************************************
EOF
           as_fn_error $? "Could not run a simple Fortran 77 program.  Aborting." "$LINENO" 5
fi


fi

# now make sure we know our linking convention...




    # invalidate cache if result came from a run where F77 was disabled
    if test "$ompi_cv_f77_external_symbol" = "skipped" ; then
        unset ompi_cv_f77_external_symbol
    fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking $F77 external symbol convention" >&5
$as_echo_n "checking $F77 external symbol convention... " >&6; }
if test "${ompi_cv_f77_external_symbol+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  if test "$F77" = "none" -o "$OMPI_WANT_F77_BINDINGS" = "0"; then
             ompi_cv_f77_external_symbol="skipped"
         else
             cat >conftest.f <<EOF
       subroutine FOO_bar(a)
       integer a
       a = 1
       return
       end
EOF

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:22623: $F77 $FFLAGS -c conftest.f $LDFLAGS $LIBS" >&5
$F77 $FFLAGS -c conftest.f $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:22630: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if $NM conftest.o | $GREP foo_bar__ >/dev/null 2>&1 ; then
                      ompi_cv_f77_external_symbol="double underscore"
                  elif $NM conftest.o | $GREP foo_bar_ >/dev/null 2>&1 ; then
                      ompi_cv_f77_external_symbol="single underscore"
                  elif $NM conftest.o | $GREP FOO_bar >/dev/null 2>&1 ; then
                      ompi_cv_f77_external_symbol="mixed case"
                  elif $NM conftest.o | $GREP foo_bar >/dev/null 2>&1 ; then
                      ompi_cv_f77_external_symbol="no underscore"
                  elif $NM conftest.o | $GREP FOO_BAR >/dev/null 2>&1 ; then
                      ompi_cv_f77_external_symbol="upper case"
                  else
                      $NM conftest.o >conftest.out 2>&1

# 1 is the message
# 2 is whether to put a prefix or not
if test -n ""; then
    echo "configure:22652: output from $NM:" >&5
else
    echo output from $NM: >&5
fi

# 1 is the filename
if test -n "conftest.out" -a -f "conftest.out"; then
    cat conftest.out >&5
fi
                      as_fn_error $? "Could not determine Fortran naming convention." "$LINENO" 5
                  fi
else
    unset ompi_status
    as_fn_error $? "Fortran compiler did not produce object file" "$LINENO" 5
fi
         fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_external_symbol" >&5
$as_echo "$ompi_cv_f77_external_symbol" >&6; }

    ompi_fortran_double_underscore=0
    ompi_fortran_single_underscore=0
    ompi_fortran_caps=0
    ompi_fortran_plain=0

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        ompi_fortran_double_underscore=1
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_fortran_single_underscore=1
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_fortran_caps=1
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_fortran_plain=1
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_fortran_caps=1
    elif test "$ompi_cv_f77_external_symbol" != "skipped" ; then
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi


cat >>confdefs.h <<_ACEOF
#define OMPI_F77_DOUBLE_UNDERSCORE $ompi_fortran_double_underscore
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_F77_SINGLE_UNDERSCORE $ompi_fortran_single_underscore
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_F77_CAPS $ompi_fortran_caps
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_F77_PLAIN $ompi_fortran_plain
_ACEOF


    rm -rf conftest.*


# Make sure we can link with C code...
if test $OMPI_WANT_F77_BINDINGS -eq 1; then :



  { $as_echo "$as_me:${as_lineno-$LINENO}: checking if C and Fortran 77 are link compatible" >&5
$as_echo_n "checking if C and Fortran 77 are link compatible... " >&6; }
if test "${ompi_cv_c_link_Fortran_77+set}" = set; then :
  $as_echo_n "(cached) " >&6
else


    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo testfunc | $GREP _ >/dev/null 2>&1 ; then
            testfunc_name=testfunc__
        else
            testfunc_name=testfunc_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        testfunc_name=testfunc_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        testfunc_name=testfunc
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        testfunc_name=testfunc
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        testfunc_name=TESTFUNC
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi


     # Write out C part
     ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

     rm -f conftest_c.$ac_ext
      cat > conftest_c.$ac_ext << EOF
int $testfunc_name(int a);
int $testfunc_name(int a) { return a; }
EOF

     # Now compile both parts

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:22768: $CC -c $CFLAGS $CPPFLAGS conftest_c.$ac_ext" >&5
$CC -c $CFLAGS $CPPFLAGS conftest_c.$ac_ext 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:22775: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

        ompi_lang_link_with_c_libs="$LIBS"
        LIBS="conftest_c.o $LIBS"
        cat > conftest.$ac_ext <<_ACEOF
      program main

       external testfunc
       call testfunc(1)

      end
_ACEOF
if ac_fn_f77_try_link "$LINENO"; then :
  ompi_cv_c_link_Fortran_77="yes"
else
  ompi_cv_c_link_Fortran_77="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
        LIBS="$ompi_lang_link_with_c_libs"
        ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

else
    unset ompi_status
    ompi_cv_c_link_Fortran_77="no"
fi
     rm -f conftest_c.$ac_ext
     ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_c_link_Fortran_77" >&5
$as_echo "$ompi_cv_c_link_Fortran_77" >&6; }

  if test "x$ompi_cv_c_link_Fortran_77" = x""yes; then :

else
  cat <<EOF
**********************************************************************
It appears that your Fortran 77 compiler is unable to link against
object files created by your C compiler.  This typically indicates
one of a few possibilities:

  - A conflict between CFLAGS and FFLAGS
  - A problem with your compiler installation(s)
  - Different default build options between compilers (e.g., C
    building for 32 bit and Fortran building for 64 bit)
  - Incompatible compilers

Such problems can usually be solved by picking compatible compilers
and/or CFLAGS and FFLAGS.  More information (including exactly what
command was given to the compilers and what error resulted when the
commands were executed) is available in the config.log file in this
directory.
**********************************************************************
EOF
     as_fn_error $? "C and Fortran 77 compilers are not link compatible.  Can not continue." "$LINENO" 5
fi

fi

# Test to see if the F77 compilers likes the C++ exceptions flags.  If
# it doesn't, just abort.  We *could* handle this scenario (e.g.,
# probe the F77 compiler for what flags would be necessary), but we're
# kinda assuming that no one will care.  If they do, they'll e-mail us.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking to see if F77 compiler likes the C++ exception flags" >&5
$as_echo_n "checking to see if F77 compiler likes the C++ exception flags... " >&6; }
if test $OMPI_WANT_F77_BINDINGS -eq 0; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped (no F77 bindings)" >&5
$as_echo "skipped (no F77 bindings)" >&6; }
elif test "$OMPI_CXX_EXCEPTIONS_CXXFLAGS" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped (no C++ exceptions flags)" >&5
$as_echo "skipped (no C++ exceptions flags)" >&6; }
else
    FFLAGS="$FFLAGS $OMPI_CXX_EXCEPTIONS_CXXFLAGS"
    ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

    cat > conftest.$ac_ext <<_ACEOF
      program main
        INTEGER I
        I = 3
      end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
                       { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: C++ exception flags are different between the C and C++ compilers; this configure script cannot currently handle this scenario.  Either disable C++ exception support or send mail to the Open MPI users list." >&5
$as_echo "$as_me: WARNING: C++ exception flags are different between the C and C++ compilers; this configure script cannot currently handle this scenario.  Either disable C++ exception support or send mail to the Open MPI users list." >&2;}
                       as_fn_error $? "*** Cannot continue" "$LINENO" 5
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi

# Per #1982, on OS X, we may need some esoteric linker flags in the
# wrapper compilers.  Assume that we need it for both F77 and FC flags
# (note that in an upcoming update where there will only be one
# Fortran compiler, anyway).
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking to see if mpif77/mpif90 compilers need additional linker flags" >&5
$as_echo_n "checking to see if mpif77/mpif90 compilers need additional linker flags... " >&6; }
if test $OMPI_WANT_F77_BINDINGS -eq 0; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: none (no F77 bindings)" >&5
$as_echo "none (no F77 bindings)" >&6; }
else
    case "$host" in
    *apple-darwin*)
        # Test whether -Wl,-commons,use_dylibs works; if it does, use it.
        LDFLAGS_save=$LDFLAGS
        LDFLAGS="$LDFLAGS -Wl,-commons,use_dylibs"
        ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

        cat > conftest.$ac_ext <<_ACEOF
       program test
        integer :: i
        end program
_ACEOF
if ac_fn_f77_try_link "$LINENO"; then :
  OMPI_FORTRAN_WRAPPER_FLAGS="-Wl,-commons,use_dylibs"
                        WRAPPER_EXTRA_FFLAGS="$WRAPPER_EXTRA_FFLAGS $OMPI_FORTRAN_WRAPPER_FLAGS"
                        WRAPPER_EXTRA_FCFLAGS="$WRAPPER_EXTRA_FCFLAGS $OMPI_FORTRAN_WRAPPER_FLAGS"
else
  OMPI_FORTRAN_WRAPPER_FLAGS=none
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
        ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

        LDFLAGS=$LDFLAGS_save
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: $OMPI_FORTRAN_WRAPPER_FLAGS" >&5
$as_echo "$OMPI_FORTRAN_WRAPPER_FLAGS" >&6; }
        ;;
    *)
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
        ;;
    esac
fi


cat >>confdefs.h <<_ACEOF
#define OMPI_WANT_F77_BINDINGS $OMPI_WANT_F77_BINDINGS
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_F77 "$OMPI_F77"
_ACEOF

 if test "$OMPI_WANT_F77_BINDINGS" = "1"; then
  OMPI_WANT_F77_BINDINGS_TRUE=
  OMPI_WANT_F77_BINDINGS_FALSE='#'
else
  OMPI_WANT_F77_BINDINGS_TRUE='#'
  OMPI_WANT_F77_BINDINGS_FALSE=
fi




# This allows us to mark bogus types, but still have them be a valid
# [sentinel] value


$as_echo "#define ompi_fortran_bogus_type_t int" >>confdefs.h


# We want to set the #define's for all of these, so invoke the macros
# regardless of whether we have F77 support or not.




    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=-1
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then



    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL... " >&6; }
if test "${ompi_cv_f77_have_LOGICAL+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        LOGICAL bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  ompi_cv_f77_have_LOGICAL="yes"
else
  ompi_cv_f77_have_LOGICAL="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_have_LOGICAL" >&5
$as_echo "$ompi_cv_f77_have_LOGICAL" >&6; }

    if test "x$ompi_cv_f77_have_LOGICAL" = x""yes; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 LOGICAL" >&5
$as_echo_n "checking size of Fortran 77 LOGICAL... " >&6; }
if test "${ompi_cv_f77_sizeof_LOGICAL+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       LOGICAL x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:23163: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23170: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:23180: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23187: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of LOGICAL" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of LOGICAL when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:23214: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23221: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  ompi_cv_f77_sizeof_LOGICAL=`cat conftestval`
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23234: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of LOGICAL" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of LOGICAL" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_sizeof_LOGICAL" >&5
$as_echo "$ompi_cv_f77_sizeof_LOGICAL" >&6; }

    ofc_type_size=$ompi_cv_f77_sizeof_LOGICAL

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 LOGICAL does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 LOGICAL does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=



    oft_abort_on_fail="yes"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to LOGICAL" >&5
$as_echo_n "checking for C type corresponding to LOGICAL... " >&6; }
if test "${ompi_cv_find_type_LOGICAL+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_char" = "$oft_target_size" ; then
                           oft_real_type="char"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int32_t" = "$oft_target_size" ; then
                           oft_real_type="int32_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  ompi_cv_find_type_LOGICAL="not found"
else
  ompi_cv_find_type_LOGICAL="$oft_real_type"
fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_find_type_LOGICAL" >&5
$as_echo "$ompi_cv_find_type_LOGICAL" >&6; }

    if test "x$ompi_cv_find_type_LOGICAL" = x"""not found"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if test "x$ompi_cv_find_type_LOGICAL" = x"""not found"; then :
  ofc_c_type=
else
  ofc_c_type=$ompi_cv_find_type_LOGICAL
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran LOGICAL" >&5
$as_echo_n "checking alignment of Fortran LOGICAL... " >&6; }
if test "${ompi_cv_f77_alignment_LOGICAL+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      LOGICAL  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:23463: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23470: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:23480: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23487: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of LOGICAL" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of LOGICAL when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:23518: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23525: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    ompi_cv_f77_alignment_LOGICAL=`cat conftestval`
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of LOGICAL" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_alignment_LOGICAL" >&5
$as_echo "$ompi_cv_f77_alignment_LOGICAL" >&6; }

    ofc_type_alignment=$ompi_cv_f77_alignment_LOGICAL

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_LOGICAL $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_LOGICAL $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_LOGICAL $ofc_type_alignment
_ACEOF

    if test "char, int32_t, int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_logical_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_LOGICAL_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_LOGICAL=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_LOGICAL=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_LOGICAL=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=1
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_LOGICAL*1" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL*1" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL*1... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        LOGICAL*1 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL*1" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL*1... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_LOGICAL*1" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 LOGICAL*1" >&5
$as_echo_n "checking size of Fortran 77 LOGICAL*1... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       LOGICAL*1 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:23814: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23821: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:23831: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23838: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of LOGICAL*1" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of LOGICAL*1 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:23865: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23872: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:23885: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of LOGICAL*1" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of LOGICAL*1" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 LOGICAL*1 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 LOGICAL*1 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL*1" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL*1" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_LOGICAL*1" | $as_tr_sh`


    oft_abort_on_fail="yes"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to LOGICAL*1" >&5
$as_echo_n "checking for C type corresponding to LOGICAL*1... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_char" = "$oft_target_size" ; then
                           oft_real_type="char"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int8_t" = "$oft_target_size" ; then
                           oft_real_type="int8_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_short" = "$oft_target_size" ; then
                           oft_real_type="short"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int32_t" = "$oft_target_size" ; then
                           oft_real_type="int32_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_LOGICAL*1" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran LOGICAL*1" >&5
$as_echo_n "checking alignment of Fortran LOGICAL*1... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      LOGICAL*1  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:24128: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24135: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:24145: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24152: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of LOGICAL*1" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of LOGICAL*1 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:24183: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24190: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of LOGICAL*1" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_LOGICAL1 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_LOGICAL1 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_LOGICAL1 $ofc_type_alignment
_ACEOF

    if test "char, int8_t, short, int32_t, int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_logical1_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_LOGICAL1_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_LOGICAL1=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_LOGICAL1=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_LOGICAL1=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=2
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_LOGICAL*2" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL*2" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        LOGICAL*2 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL*2" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL*2... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_LOGICAL*2" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 LOGICAL*2" >&5
$as_echo_n "checking size of Fortran 77 LOGICAL*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       LOGICAL*2 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:24480: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24487: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:24497: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24504: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of LOGICAL*2" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of LOGICAL*2 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:24531: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24538: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24551: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of LOGICAL*2" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of LOGICAL*2" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 LOGICAL*2 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 LOGICAL*2 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL*2" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL*2" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_LOGICAL*2" | $as_tr_sh`


    oft_abort_on_fail="yes"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to LOGICAL*2" >&5
$as_echo_n "checking for C type corresponding to LOGICAL*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_short" = "$oft_target_size" ; then
                           oft_real_type="short"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int16_t" = "$oft_target_size" ; then
                           oft_real_type="int16_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int32_t" = "$oft_target_size" ; then
                           oft_real_type="int32_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_LOGICAL*2" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran LOGICAL*2" >&5
$as_echo_n "checking alignment of Fortran LOGICAL*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      LOGICAL*2  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:24789: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24796: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:24806: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24813: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of LOGICAL*2" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of LOGICAL*2 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:24844: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:24851: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of LOGICAL*2" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_LOGICAL2 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_LOGICAL2 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_LOGICAL2 $ofc_type_alignment
_ACEOF

    if test "short, int16_t, int32_t, int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_logical2_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_LOGICAL2_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_LOGICAL2=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_LOGICAL2=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_LOGICAL2=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=4
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_LOGICAL*4" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL*4" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        LOGICAL*4 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL*4" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL*4... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_LOGICAL*4" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 LOGICAL*4" >&5
$as_echo_n "checking size of Fortran 77 LOGICAL*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       LOGICAL*4 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:25141: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25148: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:25158: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25165: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of LOGICAL*4" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of LOGICAL*4 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:25192: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25199: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25212: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of LOGICAL*4" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of LOGICAL*4" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 LOGICAL*4 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 LOGICAL*4 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL*4" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL*4" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_LOGICAL*4" | $as_tr_sh`


    oft_abort_on_fail="yes"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to LOGICAL*4" >&5
$as_echo_n "checking for C type corresponding to LOGICAL*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int32_t" = "$oft_target_size" ; then
                           oft_real_type="int32_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_LOGICAL*4" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran LOGICAL*4" >&5
$as_echo_n "checking alignment of Fortran LOGICAL*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      LOGICAL*4  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:25440: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25447: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:25457: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25464: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of LOGICAL*4" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of LOGICAL*4 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:25495: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25502: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of LOGICAL*4" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_LOGICAL4 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_LOGICAL4 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_LOGICAL4 $ofc_type_alignment
_ACEOF

    if test "int32_t, int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_logical4_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_LOGICAL4_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_LOGICAL4=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_LOGICAL4=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_LOGICAL4=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=8
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_LOGICAL*8" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL*8" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL*8... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        LOGICAL*8 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports LOGICAL*8" >&5
$as_echo_n "checking if Fortran 77 compiler supports LOGICAL*8... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_LOGICAL*8" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 LOGICAL*8" >&5
$as_echo_n "checking size of Fortran 77 LOGICAL*8... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       LOGICAL*8 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:25792: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25799: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:25809: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25816: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of LOGICAL*8" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of LOGICAL*8 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:25843: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25850: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:25863: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of LOGICAL*8" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of LOGICAL*8" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 LOGICAL*8 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 LOGICAL*8 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL*8" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 LOGICAL*8" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_LOGICAL*8" | $as_tr_sh`


    oft_abort_on_fail="yes"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to LOGICAL*8" >&5
$as_echo_n "checking for C type corresponding to LOGICAL*8... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_LOGICAL*8" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran LOGICAL*8" >&5
$as_echo_n "checking alignment of Fortran LOGICAL*8... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      LOGICAL*8  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:26086: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26093: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:26103: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26110: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of LOGICAL*8" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of LOGICAL*8 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:26141: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26148: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of LOGICAL*8" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_LOGICAL8 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_LOGICAL8 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_LOGICAL8 $ofc_type_alignment
_ACEOF

    if test "int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_logical8_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_LOGICAL8_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_LOGICAL8=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_LOGICAL8=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_LOGICAL8=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=-1
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then



    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER... " >&6; }
if test "${ompi_cv_f77_have_INTEGER+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        INTEGER bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  ompi_cv_f77_have_INTEGER="yes"
else
  ompi_cv_f77_have_INTEGER="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_have_INTEGER" >&5
$as_echo "$ompi_cv_f77_have_INTEGER" >&6; }

    if test "x$ompi_cv_f77_have_INTEGER" = x""yes; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 INTEGER" >&5
$as_echo_n "checking size of Fortran 77 INTEGER... " >&6; }
if test "${ompi_cv_f77_sizeof_INTEGER+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       INTEGER x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:26435: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26442: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:26452: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26459: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of INTEGER" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of INTEGER when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:26486: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26493: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  ompi_cv_f77_sizeof_INTEGER=`cat conftestval`
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26506: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of INTEGER" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of INTEGER" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_sizeof_INTEGER" >&5
$as_echo "$ompi_cv_f77_sizeof_INTEGER" >&6; }

    ofc_type_size=$ompi_cv_f77_sizeof_INTEGER

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 INTEGER does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 INTEGER does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 INTEGER" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 INTEGER" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=



    oft_abort_on_fail="yes"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to INTEGER" >&5
$as_echo_n "checking for C type corresponding to INTEGER... " >&6; }
if test "${ompi_cv_find_type_INTEGER+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int32_t" = "$oft_target_size" ; then
                           oft_real_type="int32_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  ompi_cv_find_type_INTEGER="not found"
else
  ompi_cv_find_type_INTEGER="$oft_real_type"
fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_find_type_INTEGER" >&5
$as_echo "$ompi_cv_find_type_INTEGER" >&6; }

    if test "x$ompi_cv_find_type_INTEGER" = x"""not found"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if test "x$ompi_cv_find_type_INTEGER" = x"""not found"; then :
  ofc_c_type=
else
  ofc_c_type=$ompi_cv_find_type_INTEGER
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran INTEGER" >&5
$as_echo_n "checking alignment of Fortran INTEGER... " >&6; }
if test "${ompi_cv_f77_alignment_INTEGER+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      INTEGER  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:26730: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26737: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:26747: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26754: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of INTEGER" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of INTEGER when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:26785: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:26792: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    ompi_cv_f77_alignment_INTEGER=`cat conftestval`
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of INTEGER" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_alignment_INTEGER" >&5
$as_echo "$ompi_cv_f77_alignment_INTEGER" >&6; }

    ofc_type_alignment=$ompi_cv_f77_alignment_INTEGER

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_INTEGER $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_INTEGER $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_INTEGER $ofc_type_alignment
_ACEOF

    if test "int32_t, int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_integer_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_INTEGER_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_INTEGER=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_INTEGER=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_INTEGER=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=1
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_INTEGER*1" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*1" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*1... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        INTEGER*1 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*1" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*1... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_INTEGER*1" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 INTEGER*1" >&5
$as_echo_n "checking size of Fortran 77 INTEGER*1... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       INTEGER*1 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:27081: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27088: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:27098: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27105: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of INTEGER*1" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of INTEGER*1 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:27132: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27139: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27152: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of INTEGER*1" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of INTEGER*1" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 INTEGER*1 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 INTEGER*1 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*1" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*1" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_INTEGER*1" | $as_tr_sh`


    oft_abort_on_fail="no"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to INTEGER*1" >&5
$as_echo_n "checking for C type corresponding to INTEGER*1... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_char" = "$oft_target_size" ; then
                           oft_real_type="char"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int8_t" = "$oft_target_size" ; then
                           oft_real_type="int8_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_short" = "$oft_target_size" ; then
                           oft_real_type="short"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_INTEGER*1" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran INTEGER*1" >&5
$as_echo_n "checking alignment of Fortran INTEGER*1... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      INTEGER*1  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:27390: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27397: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:27407: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27414: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of INTEGER*1" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of INTEGER*1 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:27445: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27452: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of INTEGER*1" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_INTEGER1 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_INTEGER1 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_INTEGER1 $ofc_type_alignment
_ACEOF

    if test "char, int8_t, short, int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_integer1_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_INTEGER1_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_INTEGER1=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_INTEGER1=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_INTEGER1=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=2
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_INTEGER*2" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*2" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        INTEGER*2 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*2" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*2... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_INTEGER*2" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 INTEGER*2" >&5
$as_echo_n "checking size of Fortran 77 INTEGER*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       INTEGER*2 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:27742: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27749: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:27759: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27766: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of INTEGER*2" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of INTEGER*2 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:27793: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27800: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:27813: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of INTEGER*2" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of INTEGER*2" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 INTEGER*2 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 INTEGER*2 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*2" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*2" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_INTEGER*2" | $as_tr_sh`


    oft_abort_on_fail="no"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to INTEGER*2" >&5
$as_echo_n "checking for C type corresponding to INTEGER*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_short" = "$oft_target_size" ; then
                           oft_real_type="short"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int16_t" = "$oft_target_size" ; then
                           oft_real_type="int16_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int32_t" = "$oft_target_size" ; then
                           oft_real_type="int32_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_INTEGER*2" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran INTEGER*2" >&5
$as_echo_n "checking alignment of Fortran INTEGER*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      INTEGER*2  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:28051: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28058: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:28068: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28075: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of INTEGER*2" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of INTEGER*2 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:28106: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28113: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of INTEGER*2" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_INTEGER2 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_INTEGER2 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_INTEGER2 $ofc_type_alignment
_ACEOF

    if test "short, int16_t, int32_t, int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_integer2_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_INTEGER2_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_INTEGER2=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_INTEGER2=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_INTEGER2=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=4
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_INTEGER*4" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*4" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        INTEGER*4 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*4" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*4... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_INTEGER*4" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 INTEGER*4" >&5
$as_echo_n "checking size of Fortran 77 INTEGER*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       INTEGER*4 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:28403: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28410: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:28420: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28427: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of INTEGER*4" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of INTEGER*4 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:28454: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28461: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28474: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of INTEGER*4" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of INTEGER*4" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 INTEGER*4 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 INTEGER*4 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*4" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*4" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_INTEGER*4" | $as_tr_sh`


    oft_abort_on_fail="no"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to INTEGER*4" >&5
$as_echo_n "checking for C type corresponding to INTEGER*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int32_t" = "$oft_target_size" ; then
                           oft_real_type="int32_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_INTEGER*4" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran INTEGER*4" >&5
$as_echo_n "checking alignment of Fortran INTEGER*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      INTEGER*4  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:28702: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28709: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:28719: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28726: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of INTEGER*4" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of INTEGER*4 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:28757: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:28764: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of INTEGER*4" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_INTEGER4 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_INTEGER4 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_INTEGER4 $ofc_type_alignment
_ACEOF

    if test "int32_t, int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_integer4_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_INTEGER4_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_INTEGER4=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_INTEGER4=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_INTEGER4=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=8
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_INTEGER*8" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*8" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*8... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        INTEGER*8 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*8" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*8... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_INTEGER*8" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 INTEGER*8" >&5
$as_echo_n "checking size of Fortran 77 INTEGER*8... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       INTEGER*8 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29054: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29061: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29071: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29078: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of INTEGER*8" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of INTEGER*8 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29105: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29112: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29125: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of INTEGER*8" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of INTEGER*8" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 INTEGER*8 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 INTEGER*8 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*8" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*8" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_INTEGER*8" | $as_tr_sh`


    oft_abort_on_fail="no"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to INTEGER*8" >&5
$as_echo_n "checking for C type corresponding to INTEGER*8... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_INTEGER*8" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran INTEGER*8" >&5
$as_echo_n "checking alignment of Fortran INTEGER*8... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      INTEGER*8  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29348: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29355: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29365: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29372: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of INTEGER*8" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of INTEGER*8 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29403: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29410: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of INTEGER*8" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_INTEGER8 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_INTEGER8 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_INTEGER8 $ofc_type_alignment
_ACEOF

    if test "int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_integer8_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_INTEGER8_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_INTEGER8=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_INTEGER8=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_INTEGER8=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=16
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_INTEGER*16" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*16" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*16... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        INTEGER*16 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports INTEGER*16" >&5
$as_echo_n "checking if Fortran 77 compiler supports INTEGER*16... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_INTEGER*16" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 INTEGER*16" >&5
$as_echo_n "checking size of Fortran 77 INTEGER*16... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       INTEGER*16 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29700: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29707: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29717: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29724: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of INTEGER*16" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of INTEGER*16 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29751: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29758: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:29771: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of INTEGER*16" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of INTEGER*16" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 INTEGER*16 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 INTEGER*16 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*16" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 INTEGER*16" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_INTEGER*16" | $as_tr_sh`


    oft_abort_on_fail="no"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to INTEGER*16" >&5
$as_echo_n "checking for C type corresponding to INTEGER*16... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int" = "$oft_target_size" ; then
                           oft_real_type="int"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_int64_t" = "$oft_target_size" ; then
                           oft_real_type="int64_t"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_long" = "$oft_target_size" ; then
                           oft_real_type="long long"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long" = "$oft_target_size" ; then
                           oft_real_type="long"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_INTEGER*16" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran INTEGER*16" >&5
$as_echo_n "checking alignment of Fortran INTEGER*16... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      INTEGER*16  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:29994: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30001: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30011: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30018: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of INTEGER*16" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of INTEGER*16 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30049: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30056: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of INTEGER*16" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_INTEGER16 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_INTEGER16 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_INTEGER16 $ofc_type_alignment
_ACEOF

    if test "int, int64_t, long long, long" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_integer16_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_INTEGER16_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_INTEGER16=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_INTEGER16=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_INTEGER16=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done






    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=-1
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then



    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports REAL" >&5
$as_echo_n "checking if Fortran 77 compiler supports REAL... " >&6; }
if test "${ompi_cv_f77_have_REAL+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        REAL bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  ompi_cv_f77_have_REAL="yes"
else
  ompi_cv_f77_have_REAL="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_have_REAL" >&5
$as_echo "$ompi_cv_f77_have_REAL" >&6; }

    if test "x$ompi_cv_f77_have_REAL" = x""yes; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports REAL" >&5
$as_echo_n "checking if Fortran 77 compiler supports REAL... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 REAL" >&5
$as_echo_n "checking size of Fortran 77 REAL... " >&6; }
if test "${ompi_cv_f77_sizeof_REAL+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       REAL x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30344: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30351: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30361: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30368: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of REAL" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of REAL when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30395: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30402: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  ompi_cv_f77_sizeof_REAL=`cat conftestval`
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30415: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of REAL" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of REAL" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_sizeof_REAL" >&5
$as_echo "$ompi_cv_f77_sizeof_REAL" >&6; }

    ofc_type_size=$ompi_cv_f77_sizeof_REAL

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 REAL does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 REAL does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 REAL" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 REAL" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=



    oft_abort_on_fail="yes"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to REAL" >&5
$as_echo_n "checking for C type corresponding to REAL... " >&6; }
if test "${ompi_cv_find_type_REAL+set}" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_float" = "$oft_target_size" ; then
                           oft_real_type="float"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_double" = "$oft_target_size" ; then
                           oft_real_type="double"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_double" = "$oft_target_size" ; then
                           oft_real_type="long double"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  ompi_cv_find_type_REAL="not found"
else
  ompi_cv_find_type_REAL="$oft_real_type"
fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_find_type_REAL" >&5
$as_echo "$ompi_cv_find_type_REAL" >&6; }

    if test "x$ompi_cv_find_type_REAL" = x"""not found"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if test "x$ompi_cv_find_type_REAL" = x"""not found"; then :
  ofc_c_type=
else
  ofc_c_type=$ompi_cv_find_type_REAL
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran REAL" >&5
$as_echo_n "checking alignment of Fortran REAL... " >&6; }
if test "${ompi_cv_f77_alignment_REAL+set}" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      REAL  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30629: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30636: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30646: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30653: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of REAL" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of REAL when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30684: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30691: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    ompi_cv_f77_alignment_REAL=`cat conftestval`
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of REAL" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ompi_cv_f77_alignment_REAL" >&5
$as_echo "$ompi_cv_f77_alignment_REAL" >&6; }

    ofc_type_alignment=$ompi_cv_f77_alignment_REAL

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_REAL $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_REAL $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_REAL $ofc_type_alignment
_ACEOF

    if test "float, double, long double" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_real_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_REAL_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_REAL=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_REAL=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_REAL=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=2
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_REAL*2" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports REAL*2" >&5
$as_echo_n "checking if Fortran 77 compiler supports REAL*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        REAL*2 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports REAL*2" >&5
$as_echo_n "checking if Fortran 77 compiler supports REAL*2... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_REAL*2" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 REAL*2" >&5
$as_echo_n "checking size of Fortran 77 REAL*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       REAL*2 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30980: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:30987: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:30997: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31004: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of REAL*2" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of REAL*2 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:31031: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31038: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31051: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of REAL*2" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of REAL*2" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 REAL*2 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 REAL*2 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 REAL*2" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 REAL*2" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_REAL*2" | $as_tr_sh`


    oft_abort_on_fail="no"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to REAL*2" >&5
$as_echo_n "checking for C type corresponding to REAL*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_float" = "$oft_target_size" ; then
                           oft_real_type="float"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_double" = "$oft_target_size" ; then
                           oft_real_type="double"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_double" = "$oft_target_size" ; then
                           oft_real_type="long double"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_REAL*2" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran REAL*2" >&5
$as_echo_n "checking alignment of Fortran REAL*2... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      REAL*2  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)||(ax%4)||(ay%4)||(az%4))) fprintf(f, "%d\n", 4);
    else if (! ((aw%2)||(ax%2)||(ay%2)||(az%2))) fprintf(f, "%d\n", 2);
    else fprintf(f, "%d\n", 1);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:31269: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31276: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:31286: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31293: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

        if test "$happy" = "no" ; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
            as_fn_error $? "Could not determine alignment of REAL*2" "$LINENO" 5
        fi

        if test "$cross_compiling" = "yes"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
             as_fn_error $? "Can not determine alignment of REAL*2 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:31324: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31331: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    eval "$as_type_var=\`cat conftestval\`"
else
    unset ompi_status
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: Error!" >&5
$as_echo "Error!" >&6; }
                 as_fn_error $? "Could not determine alignment of REAL*2" "$LINENO" 5
fi
fi
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_alignment=\$$as_type_var

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done


            fi
        fi
    fi

    # We always need these defines -- even if we don't have a given type,
    # there are some places in the code where we have to have *something*.

cat >>confdefs.h <<_ACEOF
#define OMPI_HAVE_FORTRAN_REAL2 $ofc_have_type
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_SIZEOF_FORTRAN_REAL2 $ofc_type_size
_ACEOF


cat >>confdefs.h <<_ACEOF
#define OMPI_ALIGNMENT_FORTRAN_REAL2 $ofc_type_alignment
_ACEOF

    if test "float, double, long double" != ""; then

cat >>confdefs.h <<_ACEOF
#define ompi_fortran_real2_t $ofc_c_type
_ACEOF

    fi

    # Save some in shell variables for later use (e.g., need
    # OMPI_SIZEOF_FORTRAN_INTEGER in OMPI_F77_GET_FORTRAN_HANDLE_MAX)
    OMPI_FORTRAN_REAL2_C_TYPE=$ofc_c_type
    OMPI_HAVE_FORTRAN_REAL2=$ofc_have_type
    OMPI_SIZEOF_FORTRAN_REAL2=$ofc_type_size
    OMPI_ALIGNMENT_FORTRAN_REAL2=$ofc_type_alignment

    # Clean up

    # Unwind the index
    ompi_scope_index=`expr $ompi_scope_index - 1`
    ompi_scope_test=`expr $ompi_scope_index \> 0`
    if test "$ompi_scope_test" = "0"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_POP popped too many OMPI configure scopes." >&2;}
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
        as_fn_error $? "Cannot continue" "$LINENO" 5
    fi

    # Get the variable names from that index
    ompi_str="ompi_str=\"\$ompi_scope_$ompi_scope_index\""
    eval $ompi_str

    # Iterate over all the variables and unset them all
    for ompi_var in $ompi_str; do
        unset $ompi_var
    done





    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"ofc_have_type ofc_type_size ofc_type_alignment ofc_c_type ofc_expected_size\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`


    ofc_expected_size=4
    ofc_have_type=0
    ofc_type_size=$ac_cv_sizeof_int
    ofc_type_alignment=$ac_cv_sizeof_int
    ofc_c_type=ompi_fortran_bogus_type_t

    # Only check if we actually want the F77 bindings / have a F77
    # compiler.  This allows us to call this macro, even if there is
    # no F77 compiler.  If we have no f77 compiler, then just set a
    # bunch of defaults.
    if test "$OMPI_WANT_F77_BINDINGS" = "1"; then

    as_type_var=`$as_echo "ompi_cv_f77_have_REAL*4" | $as_tr_sh`


    # Determine FORTRAN datatype size.
    # First arg is type, 2nd arg is config var to define
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports REAL*4" >&5
$as_echo_n "checking if Fortran 77 compiler supports REAL*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=f
ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'
ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_f77_compiler_gnu

         cat > conftest.$ac_ext <<_ACEOF
C
        program main
        REAL*4 bogus_variable
        end
_ACEOF
if ac_fn_f77_try_compile "$LINENO"; then :
  eval "$as_type_var=\"yes\""
else
  eval "$as_type_var=\"no\""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
         ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"yes"; then :
  ofc_have_type=1
else
  ofc_have_type=0
fi

    else
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if Fortran 77 compiler supports REAL*4" >&5
$as_echo_n "checking if Fortran 77 compiler supports REAL*4... " >&6; }
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: skipped" >&5
$as_echo "skipped" >&6; }
    fi

    if test "$ofc_have_type" = "1"; then
        # What is the size of this type?

        # NOTE: Some Fortran compilers actually will return that a
        # type exists even if it doesn't support it -- the compiler
        # will automatically convert the unsupported type to a type
        # that it *does* support.  For example, if you try to use
        # INTEGER*16 and the compiler doesn't support it, it may well
        # automatically convert it to INTEGER*8 for you (!).  So we
        # have to check the actual size of the type once we determine
        # that the compiler doesn't error if we try to use it
        # (i.e,. the compiler *might* support that type).  If the size
        # doesn't match the expected size, then the compiler doesn't
        # really support it.

    as_type_var=`$as_echo "ompi_cv_f77_sizeof_REAL*4" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of Fortran 77 REAL*4" >&5
$as_echo_n "checking size of Fortran 77 REAL*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo size | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_size_fn=size__
        else
            ompi_ac_size_fn=size_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_size_fn=size_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_size_fn=size
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_size_fn=SIZE
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

         # Fortran module
         cat > conftestf.f <<EOF
       program fsize
       external size
       REAL*4 x(2)
       call size(x(1),x(2))
       end
EOF

         # C module
         if test -f conftest.h; then
             ompi_conftest_h="#include \"conftest.h\""
         else
             ompi_conftest_h=""
         fi
         cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_size_fn(char *a, char *b)
{
    int diff = (int) (b - a);
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    fprintf(f, "%d\n", diff);
    fclose(f);
}
#ifdef __cplusplus
}
#endif
EOF


# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:31621: $CC $CFLAGS -I. -c conftest.c" >&5
$CC $CFLAGS -I. -c conftest.c 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31628: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:31638: $F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS" >&5
$F77 $FFLAGS conftestf.f conftest.o -o conftest $LDFLAGS $LIBS 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31645: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    happy="yes"
else
    unset ompi_status
    happy="no"
fi
else
    unset ompi_status
    happy="no"
fi

         if test "$happy" = "no" ; then
             as_fn_error $? "Could not determine size of REAL*4" "$LINENO" 5
         fi

         if test "$cross_compiling" = "yes"; then :
  as_fn_error $? "Can not determine size of REAL*4 when cross-compiling" "$LINENO" 5
else

# 1 is the command
# 2 is actions to do if success
# 3 is actions to do if fail
echo "configure:31672: ./conftest" >&5
./conftest 1>&5 2>&1
ompi_status=$?

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31679: \$? = $ompi_status" >&5
else
    echo \$? = $ompi_status >&5
fi
if test "$ompi_status" = "0"; then
    unset ompi_status
    if test -f conftestval; then :
  eval "$as_type_var=\`cat conftestval\`"
else

# 1 is the message
# 2 is whether to put a prefix or not
if test -n "1"; then
    echo "configure:31692: conftestval not found." >&5
else
    echo conftestval not found. >&5
fi
                       as_fn_error $? "Could not determine size of REAL*4" "$LINENO" 5
fi
else
    unset ompi_status
    as_fn_error $? "Could not determine size of REAL*4" "$LINENO" 5
fi
fi

        unset happy ompi_conftest_h
        rm -rf conftest*
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    eval ofc_type_size=\$$as_type_var

        if test "$ofc_expected_size" != "-1" -a "$ofc_type_size" != "$ofc_expected_size"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Fortran 77 REAL*4 does not have expected size!" >&5
$as_echo "$as_me: WARNING: *** Fortran 77 REAL*4 does not have expected size!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&5
$as_echo "$as_me: WARNING: *** Expected $ofc_expected_size, got $ofc_type_size" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Disabling MPI support for Fortran 77 REAL*4" >&5
$as_echo "$as_me: WARNING: *** Disabling MPI support for Fortran 77 REAL*4" >&2;}
            ofc_have_type=0
        else
            # Look for a corresponding C type (will abort by itself if the
            # type isn't found and we need it)
            ofc_c_type=

    as_type_var=`$as_echo "ompi_cv_find_type_REAL*4" | $as_tr_sh`


    oft_abort_on_fail="no"
    oft_target_size="$ofc_type_size"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for C type corresponding to REAL*4" >&5
$as_echo_n "checking for C type corresponding to REAL*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else
   # Loop over all the types handed to us
         oft_real_type=
         if test "$oft_target_size" != ""; then :
  if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_float" = "$oft_target_size" ; then
                           oft_real_type="float"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_double" = "$oft_target_size" ; then
                           oft_real_type="double"
                       fi
                   fi
if test -z "$oft_real_type"; then
                       if test "$ac_cv_sizeof_long_double" = "$oft_target_size" ; then
                           oft_real_type="long double"
                       fi
                   fi

fi
         if test -z "$oft_real_type"; then :
  eval "$as_type_var=\"not found\""
else
  eval "$as_type_var=\"\$oft_real_type\""
fi
fi
eval ac_res=\$$as_type_var
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: *** Did not find corresponding C type" >&5
$as_echo "$as_me: WARNING: *** Did not find corresponding C type" >&2;}
           if test "$oft_abort_on_fail" != "no"; then :
  as_fn_error $? "Cannot continue" "$LINENO" 5
fi
fi

    if eval test \"x\$"$as_type_var"\" = x"\"not found\""; then :
  ofc_c_type=
else
  eval ofc_c_type=\$$as_type_var
fi

    unset oft_real_type oft_target_size


            if test -z "$ofc_c_type" ; then
                ofc_have_type=0
            fi

            # Get the alignment of the type
            if test "$ofc_have_type" = "1"; then

    unset happy


    # Is the private index set?  If not, set it.
    if test "x$ompi_scope_index" = "x"; then
        ompi_scope_index=1
    fi

    # First, check to see if any of these variables are already set.
    # This is a simple sanity check to ensure we're not already
    # overwriting pre-existing variables (that have a non-empty
    # value).  It's not a perfect check, but at least it's something.
    for ompi_var in happy ompi_conftest_h; do
        ompi_str="ompi_str=\"\$$ompi_var\""
        eval $ompi_str

        if test "x$ompi_str" != "x"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Found configure shell variable clash!" >&5
$as_echo "$as_me: WARNING: Found configure shell variable clash!" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&5
$as_echo "$as_me: WARNING: OMPI_VAR_SCOPE_PUSH called on \"$ompi_var\"," >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: but it is already defined with value \"$ompi_str\"" >&5
$as_echo "$as_me: WARNING: but it is already defined with value \"$ompi_str\"" >&2;}
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: This usually indicates an error in configure." >&5
$as_echo "$as_me: WARNING: This usually indicates an error in configure." >&2;}
            as_fn_error $? "Cannot continue" "$LINENO" 5
        fi
    done

    # Ok, we passed the simple sanity check.  Save all these names so
    # that we can unset them at the end of the scope.
    ompi_str="ompi_scope_$ompi_scope_index=\"happy ompi_conftest_h\""
    eval $ompi_str
    unset ompi_str

    env | grep ompi_scope
    ompi_scope_index=`expr $ompi_scope_index + 1`

    as_type_var=`$as_echo "ompi_cv_f77_alignment_REAL*4" | $as_tr_sh`


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking alignment of Fortran REAL*4" >&5
$as_echo_n "checking alignment of Fortran REAL*4... " >&6; }
if eval "test \"\${$as_type_var+set}\"" = set; then :
  $as_echo_n "(cached) " >&6
else

    if test "$ompi_cv_f77_external_symbol" = "double underscore" ; then
        # so the general rule is that if there is an _ in the function
        # name, then there are two trailing underscores.  Otherwise,
        # there is only one trailing underscore.  Any idea how to do
        # that with m4_translit?
        if echo align | $GREP _ >/dev/null 2>&1 ; then
            ompi_ac_align_fn=align__
        else
            ompi_ac_align_fn=align_
        fi
    elif test "$ompi_cv_f77_external_symbol" = "single underscore" ; then
        ompi_ac_align_fn=align_
    elif test "$ompi_cv_f77_external_symbol" = "mixed case" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "no underscore" ; then
        ompi_ac_align_fn=align
    elif test "$ompi_cv_f77_external_symbol" = "upper case" ; then
        ompi_ac_align_fn=ALIGN
    else
        as_fn_error $? "unknown naming convention: $ompi_cv_f77_external_symbol" "$LINENO" 5
    fi

        # Fortran module
        cat > conftestf.f <<EOF
      program falign
      external align
      REAL*4  w,x,y,z
      CHARACTER a,b,c
      common /foo/a,w,b,x,y,c,z
      call align(w,x,y,z)
      end
EOF

        # C module
        if test -f conftest.h; then
            ompi_conftest_h="#include \"conftest.h\""
        else
            ompi_conftest_h=""
        fi
        cat > conftest.c <<EOF
#include <stdio.h>
#include <stdlib.h>
$ompi_conftest_h

#ifdef __cplusplus
extern "C" {
#endif
void $ompi_ac_align_fn(char *w, char *x, char *y, char *z)
{   unsigned long aw, ax, ay, az;
    FILE *f=fopen("conftestval", "w");
    if (!f) exit(1);
    aw = (unsigned long) w;
    ax = (unsigned long) x;
    ay = (unsigned long) y;
    az = (unsigned long) z;
    if (! ((aw%16)||(ax%16)||(ay%16)||(az%16))) fprintf(f, "%d\n", 16);
    else if (! ((aw%12)||(ax%12)||(ay%12)||(az%12))) fprintf(f, "%d\n", 12);
    else if (! ((aw%8)||(ax%8)||(ay%8)||(az%8))) fprintf(f, "%d\n", 8);
    else if (! ((aw%4)|